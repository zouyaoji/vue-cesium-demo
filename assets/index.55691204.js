import{c4 as e,bD as t,ch as o,ci as a,cj as r,ck as n,c3 as s,c6 as i,bx as l,cl as c,cm as d,cn as u,co as p,cp as m,cq as h,bM as f,cr as g,cs as y,ct as v,bw as b,bS as k,bI as C,cu as _,cv as w,bG as x,bK as S,bJ as T,cw as L,cx as I,cy as P,cz as V,cA as D,ca as O,bU as R,bN as j,bO as E,cB as B,c0 as M,bY as z,cC as N,cD as A,cE as F,bH as G,cF as H,cG as $,cH as U,cI as q,cJ as W,cK as J,bF as Q,cg as Y,cL as K,cM as Z,bP as X,bB as ee,cN as te,cO as oe,cP as ae,bL as re}from"./vendor.6cba57df.js";import{P as ne,N as se,Q as ie,a as le,b as ce,c as de,d as ue,e as pe,f as me,g as he,h as fe,R as ge,i as ye,j as ve,k as be,l as ke,u as Ce,m as _e,n as we,o as xe,p as Se,q as Te,r as Le,s as Ie,C as Pe,t as Ve,v as De,w as Oe,x as Re,y as je,z as Ee,A as Be,B as Me,D as ze,E as Ne,F as Ae,G as Fe,H as Ge,I as He,J as $e,K as Ue,L as qe,M as We,O as Je,S as Qe,T as Ye,U as Ke}from"./vendor-quasar.504a8e46.js";import{d as Ze,s as Xe,c as et}from"./vendor-pinia.303424ef.js";import{s as tt,a as ot}from"./vendor-axios.6d5dbcea.js";import{l as at}from"./vendor-lodash.ae3d06d9.js";import{L as rt,m as nt}from"./vendor-lowdb.e2fa39fd.js";import{m as st,f as it,u as lt,a as ct,V as dt,b as ut,c as pt,d as mt,e as ht,g as ft,h as gt,i as yt,j as vt,k as bt,l as kt,n as Ct,o as _t,p as wt,q as xt,r as St,s as Tt,t as Lt,v as It,w as Pt,x as Vt,y as Dt,z as Ot,A as Rt,B as jt,C as Et,D as Bt,E as Mt,F as zt}from"./vendor-vue-cesium.f77e809d.js";import{i as Nt}from"./vendor-interactjs.493dcac5.js";import"./vendor-echarts.2394da16.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();function At(e="default",t=""){ne.set(`VueCesiumDemo-0.0.0-${e}`,t)}function Ft(e="default"){return ne.getItem(`VueCesiumDemo-0.0.0-${e}`)}function Gt(e="default"){ne.remove(`VueCesiumDemo-0.0.0-${e}`)}const Ht={},$t=function(e,t,o){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=function(e){return"/vue-cesium-demo/"+e}(e))in Ht)return;Ht[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((t,o)=>{a.addEventListener("load",t),a.addEventListener("error",(()=>o(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())):e()},Ut=[{path:"/",name:"layout",component:()=>$t((()=>Promise.resolve().then((()=>fn))),void 0),redirect:{path:"/index"},children:[{name:"login",path:"/login",component:()=>$t((()=>Promise.resolve().then((()=>rr))),void 0)}]}],qt=[{path:"/:catchAll(.*)*",name:"404",component:()=>$t((()=>Promise.resolve().then((()=>Ya))),void 0)}],Wt=[{name:"test-on-demand",path:"/test-on-demand",meta:{title:"ttt"},component:()=>$t((()=>Promise.resolve().then((()=>sr))),void 0)}],Jt=Ut,Qt=[...Ut,...Wt,...qt];const Yt=((t="")=>function(...o){t&&(e(o[0])?o[0]=t.trim()+" "+o[0]:o=[t.trim(),...o]);const a=o.shift(),r=new Error(a);Gn.system.useLogStore(Fn).push({message:"业务逻辑警告",type:"warning",meta:{error:r}}),se.create({message:a,timeout:3e3,type:"warning"})})("[VueCesiumDemo] WARN "),Kt=((t="")=>function(...o){t&&(e(o[0])?o[0]=t.trim()+" "+o[0]:o=[t.trim(),...o]);const a=o.shift(),r=new Error(a);Gn.system.useLogStore(Fn).push({message:"业务逻辑异常",type:"danger",meta:{error:r}}),se.create({message:a,timeout:3e3,type:"negative"})})("[VueCesiumDemo] ERR "),Zt=((t="")=>function(...o){t&&(e(o[0])?o[0]=t.trim()+" "+o[0]:o=[t.trim(),...o])})("[VueCesiumDemo] Debug ");function Xt(e,t,o){return ao(e,t.geometry.coordinates,o,t)}function eo(e,t,o){const a=[],r=t.geometry.coordinates;for(let n=0;n<r.length;n++)a.push(ao(e,r[n],o,t));return a}function to(e,t,o){return ro(e,t.geometry.coordinates,o,t)}function oo(e,o,a,r){var n;const s=!Cesium.defined(r.properties.checked)||t(r.properties,"checked");r.properties.actualRenderingType=a;const i={id:Cesium.createGuid(),position:o,show:s,feature:at.exports.cloneDeep(r)};if(i[a]={...e[a]},"model"===a){const e=JSON.parse((null==(n=r.properties)?void 0:n.hpr)||"{}");if(Array.isArray(e)){const t=st(o),a=new Cesium.HeadingPitchRoll(...e);i.orientation=Cesium.Transforms.headingPitchRollQuaternion(t,a)}}return i}function ao(e,n,s,i){const l=t(i.properties,"checked");if(i.properties.actualRenderingType=s,"polygon"===s){return to(e,o(i),s)}if("billboard"===s||"point"===s||"label"===s){const t={show:l,position:("MultiPolygon"===i.geometry.type?a(i):r(i)).geometry.coordinates,feature:at.exports.cloneDeep(i)};switch(s){case"billboard":t.billboard={...e.billboard};break;case"point":t.point={...e.point};break;case"label":t.label={text:i.properties.text||i.properties.name,...e.label}}return t}return{show:l,polyline:{positions:n,...e.polyline},feature:at.exports.cloneDeep(i)}}function ro(e,o,s,i){const l=t(i.properties,"checked");if(i.properties.actualRenderingType=s,"polyline"===s){if("MultiPolygon"===i.geometry.type){const t=n(i),o=[];return t.features.forEach((t=>{"LineString"===t.geometry.type?o.push(Xt(e,t,s)):o.push(...eo(e,t,s))})),o}if("Polygon"===i.geometry.type){const t=n(i);return Xt(e,t,s)}}else{if("polygon"===s){const t=[];for(let e=1;e<o.length;e++)t.push({positions:o[e]});return{show:l,polygon:{height:0,hierarchy:{positions:o[0],holes:t},...e.polygon},feature:at.exports.cloneDeep(i)}}if("billboard"===s||"point"===s||"label"===s){const t={show:l,position:("MultiPolygon"===i.geometry.type?a(i):r(i)).geometry.coordinates,feature:at.exports.cloneDeep(i)};switch(s){case"billboard":t.billboard={...e.billboard};break;case"point":t.point={...e.point};break;case"label":t.label={text:i.properties.text||i.properties.name,...e.label}}return t}}}const no={LineString:Xt,MultiLineString:eo,MultiPoint:function(e,t,o){const a=[],r=t.geometry.coordinates;for(let n=0;n<r.length;n++)a.push(oo(e,r[n],o,t));return a},MultiPolygon:function(e,t,o){const a=[],r=t.geometry.coordinates;for(let n=0;n<r.length;n++){const s=ro(e,r[n],o,t),i=Array.isArray(s)?s:[s];a.push(...i)}return a},Point:function(e,t,o){return oo(e,t.geometry.coordinates,o,t)},Polygon:to};function so(e){Gn.viewer.useRenderStore(Fn).addRenderDatas(e)}function io(e){Gn.viewer.useRenderStore(Fn).removeRenderDataById(e)}function lo(e){return Gn.viewer.useRenderStore(Fn).getRenderDataByDatasetId(e)}function co(e,t){Gn.viewer.useRenderStore(Fn).setSelectedRenderData(e,t)}function uo(){var e;const t=Gn.viewer.useRenderStore(Fn).selectedRenderData;t.model&&(null==(e=null==t?void 0:t.restoreHandlers)?void 0:e.length)&&t.restoreHandlers.forEach((e=>{e()})),co({model:void 0,renderingType:void 0,restoreHandlers:[],feature:void 0,featureInfoListItems:[]},!0)}function po(e,t,o,a=[],r){uo();const n=e.trim().split(",");n&&n.length||Yt("高亮渲染模型失败，原因：未知的显示类型。","要素ID：",o.properties.id),n.forEach((e=>{var n;const i=mo(e,lo(t),o.properties.id);if(!i)return void co({model:null,renderingType:e,restoreHandlers:[()=>{}],feature:o,featureInfoListItems:a});const l=null==(n=i.feature.properties)?void 0:n.selectedProps,c=l&&s(l)?l:l?JSON.parse(l):{},d="primitive"===r?i:i[e],u=null==c?void 0:c[e];if(u){let t={};Object.keys(u).forEach((e=>{t[e]=d[e],d[e]=u[e]})),co({model:d,renderingType:e,restoreHandlers:[()=>{Object.keys(t).forEach((e=>{d[e]=t[e]})),t=void 0}],feature:i.feature,featureInfoListItems:a})}else Yt("设置对象选中风格失败，原因：没有设置默认选中样式。请通过数据集或者要素的 selectedProps 字段设置。")}))}function mo(e,t,o,a){let r,n,i;if(r=s(t)?t:lo(t),!r)return;switch(e){case"label":case"point":case"billboard":case"model":n="primitive"===a?"VcCollectionBillboard":"VcDatasourceCustom",i="primitive"===a?"billboards":"entities";break;case"polyline":n="primitive"===a?"VcCollectionPolyline":"VcDatasourceCustom",i="primitive"===a?"polylines":"entities";break;case"polygon":n="primitive"===a?"VcCollectionPrimitive":"VcDatasourceCustom",i="primitive"===a?"polygons":"entities";break;case"geojson":n="VcDatasourceGeojson",i="data";break;case"tileset":n="VcPrimitiveTileset";break;case"imagery":n="VcLayerImagery"}const l=at.exports.find(r.datasets,(e=>e.cmpName===n));if("geojson"===e)return l;if(Cesium.defined(l)){if("geojson"===e)return l;return at.exports.find(l.props[i],(t=>t.feature.properties.id===o&&t.feature.properties.actualRenderingType===e))}}function ho(e,t){const o=[];if(!Cesium.defined(e.geometry))return Yt("feature.geometry is required.","要素：",e),"添加渲染模型失败，原因：该要素没有 geometry 属性";const a=Object.keys(t);if(!a||!a.length)return Yt("添加渲染模型失败，原因：未知的显示类型。","要素：",e),"添加渲染模型失败，原因：未知的显示类型。";const r=e.geometry.type,n=no[r];return Cesium.defined(n)?(a.forEach((a=>{const r=n(t,e,a),s=Array.isArray(r)?r:[r];o.push(...s)})),o):(Yt(`添加渲染模型失败，原因：该几何类型${r}没有找到处理方法。`,"要素：",e),`添加渲染模型失败，原因：该几何类型${r}没有找到处理方法。`)}async function fo(e,t,o,a,r,n,s,i){const l={id:r,page:n,type:s,datasets:[]},c=await async function(e,t,o,a,r){"string"==typeof e&&(e=await Cesium.Resource.fetchJson({url:e}));if(!Cesium.defined(e))return void Kt("添加数据源失败，原因：GeoJSON 数据格式不正确。",e);const n=[],s=e.type,i=e=>{e.properties.renderingType=e.properties.renderingType||t,Cesium.defined(e.properties.id)||(e.properties.id=Cesium.createGuid()),e.properties.datasetId=r,e.properties.selectedProps=e.properties.selectedProps||a||{}};switch(s){case"FeatureCollection":e.features.forEach((e=>{i(e);const t=ho(e,o);t.length&&n.push(...t)}));break;case"Feature":{const t=e;i(t);const a=ho(t,o);a.length&&n.push(...a)}}return n}(e,t,o,a,r);return c.length&&l.datasets.push({cmpName:"VcDatasourceCustom",props:{entities:c,...i,onReady:e=>{var t;const{cesiumObject:o}=e,a=`VcDatasourceCustom_${l.id}`;o.datasetId=a,null==(t=null==i?void 0:i.onReady)||t.call(i,e)}}}),so(l),Promise.resolve(l)}function go(e,t){let o=[];return t().then((t=>{var a,r;if(0!==t.code)return Kt(`添加渲染数据集失败，原因：数据请求失败。数据集id: ${e.id}，数据集名称: ${e.name}`),!1;if(!t.data)return Kt(`添加渲染数据集失败，原因：未知的 GeoJSON 类型。数据集id: ${e.id}，数据集名称: ${e.name}`),!1;if(null==(a=t.data)?void 0:a.type){switch(null==(r=t.data)?void 0:r.type){case"Feature":o=[t.data];break;case"FeatureCollection":o=t.data.features,o.forEach((t=>{Cesium.defined(t.properties.renderingType)||(t.properties.renderingType=e.renderingType||"billboard"),Cesium.defined(t.properties.id)||(t.properties.id=Cesium.createGuid()),Cesium.defined(t.properties.checked)||(t.properties.checked=!1)}));break;default:return Kt(`添加渲染数据集失败，原因：未知的 GeoJSON 类型。数据集id: ${e.id}，数据集名称: ${e.name}`),!1}}return o.length?o:(Kt(`添加渲染数据集失败，原因：请求数据成功，但结果为空。数据集id: ${e.id}，数据集名称: ${e.name}`),!1)})).catch((e=>(Kt("添加渲染数据集失败，原因：数据请求异常。",e),!1)))}function yo(e,t,o,a,r){var n;if(null==(n=e.children)?void 0:n.length)return Promise.resolve(vo(e,o,a,r));try{return go(e,t).then((t=>{if(Array.isArray(t))return e.children=t,vo(e,o,a,r)}))}catch(s){return void Kt(`添加渲染数据集失败，原因：数据请求发生错误。数据集id: ${e.id}，数据集名称: ${e.name}`,"数据模型：",e)}}const vo=(e,o,a,r)=>new Promise(((n,c)=>{var d,u,p,m,h,f,g,y,v,b;e.cesiumObjects=e.cesiumObjects||[];const k={id:e.id,name:e.name,page:o,type:a,datasets:[]};let C=[];for(let l=0;l<(null==(d=null==e?void 0:e.children)?void 0:d.length);l++){const c=e.children[l];if(i(c,"type")&&i(c,"properties")){const o=c,a=o.properties;a.datasetId=o.properties.datasetId||e.id,a.datasetName=o.properties.datasetName||e.name,a.selectedProps=o.properties.selectedProps||e.selectedProps||{};const r=e.props&&s(null==e?void 0:e.props)?null==e?void 0:e.props:e.props?JSON.parse(null==e?void 0:e.props):{},i=(null==(u=o.properties)?void 0:u.props)&&s(null==(p=o.properties)?void 0:p.props)?null==(m=o.properties)?void 0:m.props:o.properties.props?JSON.parse(null==(h=o.properties)?void 0:h.props):{},l=Object.assign({},r,i);if("tileset"===e.renderingType){const a=Object.assign({},l[e.renderingType],null==(g=null==(f=o.properties)?void 0:f.props)?void 0:g[e.renderingType]);o.properties.actualRenderingType=e.renderingType,k.datasets.push({cmpName:"VcPrimitiveTileset",props:{...a,show:t(o.properties,"checked"),onReady:e=>{n(e)}},feature:o})}else if("imagery"===e.renderingType){const a=Object.assign({},l[e.renderingType],null==(v=null==(y=o.properties)?void 0:y.props)?void 0:v[e.renderingType]);o.properties.actualRenderingType=e.renderingType;const r=a.children;delete a.children,k.datasets.push({cmpName:"VcLayerImagery",props:{...a,show:t(o.properties,"checked"),onReady:e=>{n(e)}},feature:o,children:[{cmpName:r[0].cmpName,props:{...r[0].props}}]})}else{const e=ho(o,l);if("string"==typeof e)continue;const t=at.exports.intersectionWith(e,C,((e,t)=>e.feature.properties.id===t.feature.properties.id&&e.feature.geometry.type===t.feature.geometry.type));C.push(...e),t.length&&(t.forEach((e=>{Yt(`已添加相同id和类型的渲染数据集，可能有重复数据，请核实。对象 id: ${e.feature.properties.id}，对象类型: ${e.feature.geometry.type}`,"数据模型：",e)})),C=at.exports.uniqWith(C,((e,t)=>e.feature.properties.id===t.feature.properties.id&&e.feature.geometry.type===t.feature.geometry.type)))}}else{const e=c;(null==(b=null==e?void 0:e.children)?void 0:b.length)?n(vo(e,o,a,r)):n(!1)}}C.length&&k.datasets.push({cmpName:"VcDatasourceCustom",props:{...r,entities:C,onReady:t=>{var o;const{cesiumObject:a}=t,s=`VcDatasourceCustom_${e.id}`;a.datasetId=s;!at.exports.find(e.cesiumObjects,(e=>e.datasetId===s))&&e.cesiumObjects.push(l(a)),null==(o=null==r?void 0:r.onReady)||o.call(r,t),n(t)}}}),so(k)}));function bo(e,t){const{toggleGlobalLayout:o}=Gn.system.useLayoutStore(Fn);"摄像头"===e.properties.datasetName&&o({videoPlayer:!0}),o({featureInfo:!0});const a=Object.keys(e.properties).map((t=>({label:t,value:e.properties[t]})));if(t)co({...t,restoreHandlers:[],featureInfoListItems:a});else{if(!mo(e.properties.renderingType,e.properties.datasetId,e.properties.id))return void co({...t,restoreHandlers:[],featureInfoListItems:a});po(e.properties.renderingType,e.properties.datasetId,e,a)}}function ko(e){return e.map((e=>({...e,path:e.path||at.exports.uniqueId("vc-menu-empty-"),...e.children?{children:ko(e.children)}:{}})))}function Co(e={},t="",o=0){return[200,{code:o,msg:t,data:e}]}function _o(e){Gn.system.useLogStore(Fn).push({message:"数据请求异常",type:"danger",meta:{error:e}}),se.create({message:e.message,type:"negative",timeout:3e3})}function wo(e){const t=new Error(e);throw _o(t),t}const xo=Object.freeze(Object.defineProperty({__proto__:null,parse:function(e="{}",t={}){let o=t;try{o=JSON.parse(e)}catch(a){Kt(a)}return o},response:Co,responseSuccess:function(e={},t="成功"){return Co(e,t)},responseError:function(e={},t="请求失败",o=500){return Co(e,t,o)},errorLog:_o,errorCreate:wo},Symbol.toStringTag,{value:"Module"})),So=()=>{const e=ot.create({});return e.interceptors.request.use((e=>e),(e=>(_o(e),Promise.reject(e)))),e.interceptors.response.use((e=>{const t=e.data,{code:o}=t;if(void 0===o)return t;switch(o){case 0:case 200:return t;case"xxx":wo(`[ code: xxx ] ${t.msg}: ${e.config.url}`);break;default:return wo(`${t.msg}: ${e.config.url}`),Promise.reject(t)}}),(e=>{switch(at.exports.get(e,"response.status")){case 400:e.message="请求错误";break;case 401:e.message="未授权，请登录",Gt("token"),Gt("uuid"),Fo.push("/login");break;case 403:e.message="拒绝访问";break;case 404:e.message=`请求地址出错: ${e.response.config.url}`;break;case 408:e.message="请求超时";break;case 500:e.message="服务器内部错误";break;case 501:e.message="服务未实现";break;case 502:e.message="网关错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网关超时";break;case 505:e.message="HTTP版本不受支持"}return _o(e),Promise.reject(e)})),e};function To(e){return function(t){const o=Ft("token"),a={headers:{Authorization:o,"Content-Type":at.exports.get(t,"headers.Content-Type","application/json")},timeout:2e4,baseURL:e.baseURL||"/",data:{}};return o&&(a.headers.Authorization="Bearer "+o),e(Object.assign(a,t))}}const Lo=So(),Io=To(Lo),Po=So(),Vo=To(Po),Do=new tt.exports(Po),Oo=[{username:"admin",password:"admin",id:"admin-uuid",name:"Admin"},{username:"editor",password:"editor",id:"editor-uuid",name:"Editor"}],Ro=[{id:c(),component:"MainLayout",icon:"cog",islock:!1,hidden:!1,name:"layout",path:"/",sort:1e3,title:"VueCesiumDemo",type:10,children:[{id:c(),component:"/index",icon:"cog",islock:!1,hidden:!1,name:"index",path:"/index",sort:1e3,caption:"首页",title:"message.header.index",type:10,children:[{id:c(),component:"",icon:"eye",islock:!1,hidden:!1,name:"left-panel",path:"",sort:100101,title:"查看左侧面板",type:20}]},{id:c(),component:"/dynamic-render",icon:"cog",islock:!1,hidden:!1,name:"dynamic-render",path:"/dynamic-render",sort:1e3,caption:"动态渲染",title:"message.header.dynamicRender",type:10,redirect:"/dynamic-render/recursive-list",children:[{id:c(),component:"/dynamic-render/recursive-list",icon:"list",islock:!1,hidden:!1,name:"recursive-list",path:"/dynamic-render/recursive-list",sort:1e3,caption:"dynamicRender",title:"message.sideBar.dynamicRender.recursiveList",type:10},{id:c(),component:"/dynamic-render/stack",icon:"view_module",islock:!1,hidden:!1,name:"stack",path:"/dynamic-render/stack",sort:1e3,caption:"dynamicRender",title:"message.sideBar.dynamicRender.stack",type:10},{id:c(),component:"/dynamic-render/historical-track",icon:"route",islock:!1,hidden:!1,name:"historical-track",path:"/dynamic-render/historical-track",sort:1e3,caption:"dynamicRender",title:"message.sideBar.dynamicRender.historicalTrack",type:10}]},{id:c(),component:"/expansion",icon:"cog",islock:!1,hidden:!1,name:"expansion",path:"/expansion",sort:1e3,caption:"扩展组件",title:"message.header.expansion",type:10,redirect:"/expansion/typhoon",children:[{id:c(),component:"/expansion/typhoon",icon:"timeline",islock:!1,hidden:!1,name:"typhoon",path:"/expansion/typhoon",sort:1e3,caption:"台风组件",title:"message.sideBar.expansion.typhoon",type:10}]},{id:c(),component:"/other",icon:"cog",islock:!1,hidden:!1,name:"other",path:"/other",sort:1e3,caption:"其他测试",title:"message.header.other",type:10,redirect:"/other/tsx",children:[{id:c(),component:"/other/tsx",icon:"bug_report",islock:!1,hidden:!1,name:"tsx",path:"/other/tsx",sort:1e3,caption:"TSX 渲染",title:"message.sideBar.other.tsx",type:10}]}]}],jo=[{id:c(),name:"DataSource",label:"数据源",icon:"",children:[{id:c(),name:"机场",icon:"",checked:!1,expanded:!1,fetchStr:"/datas/work-bench/机场.json",renderingType:"billboard",lazy:!0,props:{billboard:{image:"/vue-cesium-demo/images/飞机场.svg",color:"#ffc10",scale:.25,verticalOrigin:1,scaleByDistance:[100,2,15e4,.5],distanceDisplayCondition:[0,3e7]}},selectedProps:{billboard:{color:"red",scale:1}}},{id:c(),name:"摄像头",icon:"",checked:!1,expanded:!1,fetchStr:"/datas/work-bench/视频点.json",renderingType:"billboard",lazy:!0,props:{billboard:{image:"/vue-cesium-demo/images/video.svg",color:"#ffc10",scale:.25,verticalOrigin:1,scaleByDistance:[100,2,15e4,.5],distanceDisplayCondition:[0,3e7]}},selectedProps:{billboard:{color:"red",scale:1}},children:[{type:"Feature",geometry:{type:"MultiPoint",coordinates:[[108.253394,29.730675]]},properties:{name:"摄像头点位1",pyname:"hstxgjjc",kind:"8100",id:c(),checked:!0}}]},{id:c(),name:"水系",icon:"",checked:!1,expanded:!1,fetchStr:"/datas/work-bench/水系.json",renderingType:"polyline",lazy:!0,props:{polyline:{width:1}},selectedProps:{polyline:{width:2,material:"#ffc107"}}},{id:c(),name:"岛屿",icon:"",checked:!1,expanded:!1,fetchStr:"/datas/work-bench/岛屿.json",renderingType:"polygon,polyline,billboard",lazy:!0,props:{billboard:{image:"/vue-cesium-demo/images/岛屿.svg",scale:.2,verticalOrigin:1,scaleByDistance:[100,2,15e4,.5],distanceDisplayCondition:[0,3e6]},polygon:{material:"rgba(137,207,240,0.5)"},polyline:{width:4,material:"#0033ff"}},selectedProps:{billboard:{scale:.5},polygon:{material:"#ffc107"},polyline:{width:8,material:"red"}}},{id:c(),name:"模型",icon:"",checked:!1,expanded:!1,renderingType:"model",children:[{id:c(),name:"Tileset 模型",icon:"",checked:!1,expanded:!1,fetchStr:"/datas/work-bench/Tileset模型.json",lazy:!0,renderingType:"tileset",props:{tileset:{}}},{id:c(),name:"GLTF 模型",icon:"",checked:!1,expanded:!1,fetchStr:"/datas/work-bench/GLTF模型.json",lazy:!0,renderingType:"model",props:{model:{scale:1}},selectedProps:{model:{color:"red"}}},{id:c(),name:"模型嵌套",icon:"",checked:!1,expanded:!1,renderingType:"model",children:[{id:c(),name:"GLTF 模型",icon:"",checked:!1,expanded:!1,lazy:!0,fetchStr:"/datas/work-bench/GLTF模型.json",renderingType:"model",props:{model:{scale:1}}},{type:"Feature",properties:{id:c(),name:"飞机",hpr:"[135, 0, 0]",renderingType:"model",checked:!0,props:{model:{uri:"../datas/gltf/Cesium_Air.glb"}},selectedProps:{model:{color:"red"}}},geometry:{coordinates:[121.25202608700887,32.14045397527647],type:"Point"}}]}]},{id:c(),name:"图层",icon:"",checked:!1,expanded:!1,renderingType:"imagery",children:[{id:c(),name:"图层嵌套",icon:"",checked:!1,expanded:!1,fetchStr:"/datas/work-bench/图层.json",lazy:!0,renderingType:"imagery",props:{imagery:{}}},{type:"Feature",properties:{id:c(),checked:!1,name:"WMS",props:{imagery:{alpha:1,brightness:1,contrast:1,sortOrder:60,children:[{cmpName:"VcImageryProviderWms",props:{url:"https://nationalmap.gov.au/proxy/http://geoserver.nationalmap.nicta.com.au/geotopo_250k/ows",layers:"Hydrography:bores",parameters:{format:"image/png",transparent:!0},rectangle:[112,-43,154,-10]}}]}}},geometry:{coordinates:[108.965836,34.225607],type:"Point"}}]}]}],Eo={service:Lo,request:Io,serviceForMock:Po,requestForMock:Vo,mock:Do,tools:xo},Bo=(({service:e,request:t,serviceForMock:o,requestForMock:a,mock:r,tools:n})=>({login:(e={})=>(r.onAny("/auth/login").reply((e=>{const t=n.parse(e.data),o=at.exports.find(Oo,{username:t.username,password:t.password});return o?n.responseSuccess(at.exports.assign({},o,{token:"f5befe1a-962c-4cdd-bf45-77ce306dbbce"})):n.responseError({},"账号或密码不正确")})),a({url:"/auth/login",method:"post",data:e})),getUserInfo:()=>(r.onAny("/user/info").reply((e=>{const t=Ft("uuid"),o=at.exports.find(Oo,{id:t});return o?n.responseSuccess(at.exports.assign({},o)):(Gt("token"),Gt("uuid"),Fo.push("/login"),n.responseError({},"未授权, 请登录!"))})),a({url:"/user/info",method:"post"})),getAccessibleMenus:(e={})=>(r.onAny("/api/menu/accessible").reply((e=>n.responseSuccess(Ro))),a({url:"/api/menu/accessible",method:"post",data:e}))}))(Eo),Mo=(({service:e,request:t,serviceForMock:o,requestForMock:a,mock:r,tools:n})=>({getStaticData:(e,o)=>t({baseURL:o=o||"/vue-cesium-demo/",url:e,method:"get"}).then((e=>({code:0,data:e,msg:"success"}))),inverseGeocode:e=>t({baseURL:"/vue-cesium-demo/",url:"/reverse_geocoding/v3",method:"get",params:e}),getLocationList:e=>t({baseURL:"/vue-cesium-demo/",url:"/v3/place/text",method:"get",params:e})}))(Eo),zo=(({service:e,request:t,serviceForMock:o,requestForMock:a,mock:r,tools:n})=>({getTreeData:()=>(r.onAny("/dynamic-render/recursive-list/datatree").reply((e=>n.responseSuccess(jo))),a({url:"/dynamic-render/recursive-list/datatree",method:"post"})),inverseGeocode:e=>t({baseURL:"/vue-cesium-demo/",url:"/reverse_geocoding/v3",method:"get",params:e})}))(Eo),No={"zh-CN":{message:{header:{index:"首页",dynamicRender:"动态渲染",expansion:"扩展组件",other:"测试页面"},sideBar:{dynamicRender:{recursiveList:"递归列表",stack:"堆叠展示",historicalTrack:"历史轨迹"},expansion:{typhoon:"台风"},other:{tsx:"TSX"}},panel:{layerManager:"图层管理",videoPlayer:"视频播放"},baseLayer:"底图图层",overlayLayer:"叠加图层",terrainLayer:"地形图层"}},"en-US":{message:{header:{index:"Index",dynamicRender:"DynamicRender",expansion:"Expansion",other:"Test"},sideBar:{dynamicRender:{recursiveList:"RecursiveList",stack:"StackView",historicalTrack:"HistoricalTrack"},expansion:{typhoon:"Typhoon"},other:{tsx:"TSX"}},panel:{layerManager:"LayerManager",videoPlayer:"VideoPlayer"},baseLayer:"BaseLayer",overlayLayer:"OverlayLayer",terrainLayer:"TerrainLayer"}}},Ao=d({legacy:!1,locale:Ft("locale")||"zh-CN",fallbackLocale:"zh-CN",globalInjection:!0,messages:No}),Fo=u({scrollBehavior:()=>({left:0,top:0}),routes:Qt,history:({VITE_VUE_APP_TITLE:"VueCesium Demo",VITE_VUE_ROUTER_MODE:"history",VITE_VUE_ROUTER_BASE:"/vue-cesium-demo/",VITE_VUE_APP_API:"/",VITE_MOCK_ENABLED:"true",VITE_VUE_APP_PREFIX:"VueCesiumDemo",VITE_VUE_APP_AMAP_KEY:"7370d0574108a3c8778e3b2ad20ce9ee",VITE_VUE_CESIUMJS_PATH:"https://unpkg.com/cesium@latest/Build/Cesium/Cesium.js",VITE_VUE_DEFAULT_PATH:"/index",BASE_URL:"/vue-cesium-demo/",MODE:"production",DEV:!1,PROD:!0}.SERVER?m:h)("/vue-cesium-demo/")}),Go=["/login","/404"];Fo.beforeEach((async(e,t,o)=>{p.start(),Gn.system.useSearchStore(Fn).set(!1);const a=Ft("token");if("/login"!==e.path&&Bo.getUserInfo(),a)try{if(!Gn.system.usePermissionStore(Fn).inited){const t=[...(await Bo.getAccessibleMenus()).data];return await Gn.system.usePermissionStore(Fn).generateRoutes({menuTree:t}),void o(e.path)}"/login"===e.path?o({path:"/index"}):o()}catch(r){-1!==Go.indexOf(e.path)?o():o("/login")}else-1!==Go.indexOf(e.path)?o():o("/login")})),Fo.afterEach((e=>{var t;p.done(),t=Ao.global.t(e.meta.title),window.document.title="VueCesium Demo"+(t?` | ${t}`:"")}));const Ho=nt(new rt("VueCesiumDemo-0.0.0"));function $o({dbName:e="database",path:t="",user:o=!0,validator:a=(e=>!0),defaultValue:r=""}){const n=Ft("uuid")||"ghost-uuid",s=`${e}.${o?`user.${n}`:"public"}${t?`.${t}`:""}`,i=Ho.get(s).value();return void 0!==i&&a(i)||Ho.set(s,r).write(),s}function Uo({dbName:e="database",path:t="",user:o=!1,validator:a=(()=>!0),defaultValue:r=""}={}){return Ho.get($o({dbName:e,path:t,user:o,validator:a,defaultValue:r}))}Ho.defaults({sys:{},database:{}}).write();const qo=Ze("db",{state:()=>({}),getters:{},actions:{set({dbName:e="database",path:t="",value:o="",user:a=!1}){!function({dbName:e="database",path:t="",value:o="",user:a=!1}){Ho.set($o({dbName:e,path:t,user:a}),o).write()}({dbName:e,path:t,value:o,user:a})},get:({dbName:e="database",path:t="",defaultValue:o="",user:a=!1})=>function({dbName:e="database",path:t="",defaultValue:o="",user:a=!1}){return at.exports.cloneDeep(Ho.get($o({dbName:e,path:t,user:a,defaultValue:o})).value())}({dbName:e,path:t,defaultValue:o,user:a}),database:({user:e=!1}={})=>Uo({user:e,defaultValue:""}),databaseClear:({user:e=!1}={})=>Uo({user:e,validator:()=>!0,defaultValue:""})}}),Wo=Ze("user",{state:()=>({info:{}}),getters:{},actions:{async set(e){this.info=e;qo().set({dbName:"sys",path:"user.info",value:e,user:!0})},async load(){const e=qo().get({dbName:"sys",path:"user.info",defaultValue:"",user:!0});this.set(e)}}}),Jo=(e,t)=>{const o=e.__vccOpts||e;for(const[a,r]of t)o[a]=r;return o};const Qo=Jo(f({name:"VcDemoPageDynamicRender"}),[["render",function(e,t,o,a,r,n){const s=g("router-view");return y(),v(s)}]]),Yo=Object.freeze(Object.defineProperty({__proto__:null,default:Qo},Symbol.toStringTag,{value:"Module"})),Ko={class:"page-demo-dynamic-overlay absolute z-fab"},Zo=f({__name:"Index",setup(e){const{loadDefaultLayers:o}=Gn.viewer.useLayerStore(),a=b(null),r=b(!1),n=b(null),s=b(null),i=b(null);k((()=>{o(!0),Mo.getStaticData("/datas/dynamic-overlay.json").then((e=>{l([e.data])}))})),C((()=>{var e;e="/dynamic-render/historical-track",Gn.viewer.useRenderStore(Fn).removeRenderDataByPage(e)}));const l=async e=>{if(await lo("DynamicOverlay"));else{const t={id:"DynamicOverlay",name:"历史轨迹",page:"/dynamic-render/historical-track",datasets:[]},{overlays:o,stops:l}=d(e),c={show:!0,dynamicOverlays:o};t.datasets.push({cmpName:"VcOverlayDynamic",props:{shouldAnimate:r,"onUpdate:shouldAnimate":e=>{r.value=e},currentTime:n,startTime:s,stopTime:i,multiplier:1e3,onReady:e=>{a.value=e.vm,u(202106)},...c}}),t.datasets.push({cmpName:"VcCollectionPoint",props:{points:l}}),so(t)}},d=e=>{const o=[],a=[];return e.forEach((e=>{const r=[],n=[],s=t(e,"checked");e.stops.forEach((e=>{r.push({position:[e.lon,e.lat],time:e.DATE_TIME,id:c()}),n.push([e.lon,e.lat]),a.push({id:c(),position:[e.lon,e.lat],color:"rgb(255,229,0)",show:s,...e,distanceDisplayCondition:[0,5e6],scaleByDistance:[100,2,25e5,.5],onMouseover:e=>{},onMouseout:e=>{}})})),o.push({id:String(e.TYPHOON_ID),show:s,maxCacheSize:e.stops.length,polyline:{positions:n,width:3,material:e.TYPHOON_CODE?"#2d8cf0":"#69B273",depthFailMaterial:e.TYPHOON_CODE?"#2d8cf0":"#69B273",clampToGround:!0},sampledPositions:r})})),{overlays:o,stops:a}},u=e=>{const t=lo("DynamicOverlay");if(t){t.datasets[0].cmpRef.zoomToOverlay(String(e))}else Kt("定位到该对象失败，原因：还未添加。")};return(e,t)=>(y(),_("div",Ko))}}),Xo=Object.freeze(Object.defineProperty({__proto__:null,default:Zo},Symbol.toStringTag,{value:"Module"}));function ea(){const e=w(),t=lt(),{toggleGlobalLayout:o,toggleDynamicRenderPageLayout:a}=Gn.system.useLayoutStore(),r=x({selectedId:"",datasourceCategories:[],loading:!1,hasLoadingError:!1,filterText:"",selectedKey:""}),n=Gn.system.useLayoutStore().dynamicRender,s=S((()=>{let e=[];try{null==r||r.datasourceCategories.forEach((t=>{if(t.id===r.selectedId)throw e=t.children,new Error("endForEach")}))}catch(t){if("endForEach"!==t.message)throw t}return e}));t.vm.vcMitt.on("pickEvt",(e=>{r.selectedKey=e}));const l=()=>{r.datasourceCategories.forEach((e=>{var t;null==(t=null==e?void 0:e.children)||t.forEach((e=>{const t=e;(null==t?void 0:t.children)&&c(!0,t)}))}))},c=(t,o,a,r)=>{var n;const s={onReady:e=>{}};if(i(o,"type")&&i(o,"properties")){const r=o;!0===t&&(Cesium.defined(r.properties.datasetId)||io(null==a?void 0:a.id),T((()=>{if(lo(r.properties.datasetId));else{if(!a)return void Kt("添加渲染数据集失败，原因：要素节点不能作为顶节点，请将其放到数据集节点下。","数据模型：",o);if(null==a?void 0:a.renderingType){const t=()=>Mo.getStaticData(a.fetchStr);a.loading=!0,yo(a,t,e.path,"recursive-list",s).finally((()=>{a.loading=!1}))}else""!==a.renderingType&&Kt("添加渲染数据集失败，原因：未知的显示类型。","数据模型：",a)}})))}else{const a=o;if(!0===t){if(lo(a.id));else if(a.renderingType){const t=()=>Mo.getStaticData(a.fetchStr);a.loading=!0,yo(a,t,e.path,"recursive-list",s).finally((()=>{a.loading=!1}))}else""!==a.renderingType&&Kt("添加渲染数据集失败，原因：未知的显示类型。","数据模型：",a)}else io(a.id),null==(n=null==a?void 0:a.children)||n.forEach((e=>{c(t,e,a)}))}};return{workBenchModel:r,dynamicRenderLayout:n,selectedDatasetCategories:s,init:()=>{r.loading=!0,(async()=>(r.hasLoadingError=!1,zo.getTreeData().then((e=>{if(e.code)return;const t=e.data;return r.selectedId=t[0].id,r.datasourceCategories=t,l(),!0})).catch((e=>{r.hasLoadingError=!0}))))().then((()=>{r.loading=!1,o({navigation:!0}),a({datasource:{workBench:!0}})}))},showFeatureInfo:(e,t)=>{bo(t)},flyToFeature:(e,o,a)=>{t.vm.vcMitt.emit("pickEvt",o.properties.id),async function(e,t,o={isHighlightRenderData:!0,showBillboardOverlayMenu:!0,duration:1.5}){var a,r,n,s,i;const l=(null==(a=null==t?void 0:t.properties)?void 0:a.actualRenderingType)||(null==(r=null==t?void 0:t.properties)?void 0:r.renderingType);if(!l)return void Kt("定位到要素失败，原因：未知的显示类型。","要素模型：",t);const c=t.properties.datasetId,d=await lo(c);if(!d)return void Kt("定位到要素失败，原因：未找到该要素所在的渲染数据。","要素模型：",t);const u=t.properties.id;if(o.isHighlightRenderData&&po(l,c,t),t.properties.vcCamera)return void it(e,t.properties.vcCamera);const{toggleGlobalLayout:p}=Gn.system.useLayoutStore(Fn);switch(l){case"billboard":case"point":case"label":case"polyline":case"polygon":case"model":if(p({featureInfo:!1}),null==(n=null==d?void 0:d.datasets)?void 0:n.length){const t=(null==(s=d.datasets[0].cmpRef)?void 0:s.cesiumObject).entities.values.find((e=>e.feature.properties.id===u));e.flyTo(t,{...o}).then((()=>{}))}break;default:if(p({featureInfo:!1}),null==(i=null==d?void 0:d.datasets)?void 0:i.length){const a=d.datasets.find((e=>e.feature.properties.id===t.properties.id)).cmpRef.cesiumObject;e.flyTo(a,{...o}).then((()=>{}))}}}(t.viewer,o)},onLazyLoad:e=>{const t=e.dataset;if(e.key.indexOf("Lazy load empty")>-1)return void e.done([]);t.loading=!0,go(t,(()=>Mo.getStaticData(t.fetchStr))).then((async o=>{var a;o?e.done(o):e.fail();if(!(await lo(t.id))){const e=null==(a=t.children)?void 0:a.filter((e=>e.properties.checked));e&&e.length>0&&c(!0,t)}t.loading=!1}))},addOrRemoveDataset:c,toggleDynamicRenderPageLayout:a}}const ta={class:"loading-ios flex column justify-center items-center z-top"},oa={key:2},aa={key:0,class:"q-pt-md"},ra=f({__name:"Ios",props:{size:{type:String,default:"3em"},dense:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},errorMsg:{type:String,default:""},errorTip:{type:String,default:"数据加载失败，点我重试"},tipText:{type:String,default:"加载中..."}},emits:["retry"],setup(e,{emit:t}){const o=()=>{t("retry")};return(t,a)=>(y(),_("div",ta,[e.hasError?(y(),v(ce,{key:1,icon:"error",size:e.size,color:"red",round:"",flat:"",dense:""},{default:L((()=>[I(le,null,{default:L((()=>[P("加载失败，原因："+V(e.errorMsg),1)])),_:1})])),_:1},8,["size"])):(y(),v(ie,{key:0,size:e.size},null,8,["size"])),e.dense?O("",!0):(y(),_("div",oa,[e.hasError?(y(),v(de,{key:1,clickable:"",color:"red","text-color":"white",icon:"error",onClick:o},{default:L((()=>[P(V(e.errorTip),1)])),_:1})):(y(),_("div",aa,[D("span",null,V(e.tipText),1)]))]))]))}}),na=f({name:"VcDataTreeGeojson",props:{dense:Boolean,nodes:{type:Array,default:()=>[]},filter:String,tickStrategy:{type:String,default:"leaf-filtered"},selectedColor:String,selected:String},emits:{checked:(e,t,o,a)=>!0,"lazy-load":e=>!0,"update:selected":(e,t,o)=>!0,zoomIconClicked:(e,t,o)=>!0},setup(e,t){const o=b({});let a={};R((()=>{a={}}));const r=S((()=>void 0!==e.selected)),n=S((()=>(e,t)=>{const o=t.toLowerCase();return(e.name||e.properties.name).toLowerCase().indexOf(o)>-1})),s=S((()=>{const t={},a=(s,l,c)=>{const d=c?c.tickStrategy:e.tickStrategy;let u,p,m,h,f,g,y,v,b,k,C;if(i(s,"type")&&i(s,"properties")){const e=s;u=e.properties.id,p=!1,m=!1,h=e.properties.name,f=c?c.level+1:1,y=e.properties.checked,g=!1,v=e.properties.disabled,b=e.properties.noTick,k=void 0,C=!0!==e.properties.disabled&&!1!==e.properties.tickable}else{const e=s;u=e.id,p=(null==e?void 0:e.children)&&(null==e?void 0:e.children.length)>0,m=e.lazy,h=e.name,!0===m&&void 0!==o.value[u]&&!0===Array.isArray(e.children)&&(m=o.value[u]),f=c?c.level+1:1,y=e.checked,g=e.expanded,v=e.disabled,b=e.noTick,k=e.indeterminate,C=!0!==e.disabled&&!1!==e.tickable||!e.children}const _=!0!==p,w=!0!==v&&!0===r.value,x="none"!==d,S="strict"===d,T="leaf-filtered"===d,L="leaf"===d||"leaf-filtered"===d;!0===L&&!0===C&&c&&!0!==c.tickable&&(C=!1);const I={index:l,name:h,key:u,parent:c,isParent:p,isLeaf:_,lazy:m,disabled:v,level:f,children:[],matchesFilter:!e.filter||n.value(s,e.filter),selected:u===e.selected&&!0===w,selectable:w,expanded:g,expandable:!0,noTick:!0===b||!0!==S&&m&&"loaded"!==m,tickable:C,tickStrategy:d,hasTicking:x,strictTicking:S,leafFilteredTicking:T,leafTicking:L,indeterminate:k,indeterminateNextState:void 0,ticked:y};if(t[u]=I,!0===p){const t=s;if(I.children=t.children.map(((e,t)=>a(e,t,I))),e.filter&&(!0!==I.matchesFilter?I.matchesFilter=I.children.some((e=>e.matchesFilter)):!0!==I.noTick&&!0!==I.disabled&&!0===I.tickable&&!0===T&&!0===I.children.every((e=>!0!==e.matchesFilter||!0===e.noTick||!0!==e.tickable))&&(I.tickable=!1)),!0===I.matchesFilter&&(!0!==I.noTick&&!0!==S&&!0===I.children.every((e=>e.noTick))&&(I.noTick=!0),L)){if(I.ticked=!1,I.indeterminate=I.children.some((e=>{if(i(e,"type")&&i(e,"properties")){return!0===e.properties.indeterminate}return!0===e.indeterminate})),I.tickable=!0===I.tickable&&I.children.some((e=>e.tickable)),!0!==I.indeterminate){const e=I.children.reduce(((e,t)=>!0===t.ticked?e+1:e),0);e===I.children.length?I.ticked=!0:e>0&&(I.indeterminate=!0)}!0===I.indeterminate&&(I.indeterminateNextState=I.children.every((e=>(!0!==e.tickable||!0!==e.ticked)&&!1!==e.indeterminateNextState)))}}return I};return e.nodes.forEach(((e,t)=>a(e,t,null))),t})),l=(e,a,r,n=s.value[e])=>{if(n.lazy&&"loaded"!==n.lazy){if("loading"===n.lazy)return;o.value[e]="loading",!0!==Array.isArray(r.children)&&(r.children=[]),t.emit("lazy-load",{dataset:r,key:e,done:t=>{o.value[e]="loaded",r.children=!0===Array.isArray(t)?[...null==r?void 0:r.children,...t]:[...null==r?void 0:r.children],T((()=>{const t=s.value[e];t&&t.isParent}))},fail:()=>{delete o.value[e],0===r.children.length&&delete r.children}})}else!0===n.isParent&&n.expandable},c=(o,a,r,s)=>{if(!0===r.indeterminate&&(o=r.indeterminateNextState),r.strictTicking);else if(r.leafTicking){void 0===o&&(o=!1);const t=(a,r)=>{var s;if(i(a,"type")&&"Feature"===a.type){const t=a;if(e.filter){n.value(a,e.filter)&&(t.properties.checked=o)}else t.properties.checked=o}else{const e=a;e.checked=o,e.indeterminate=void 0,null==(s=null==e?void 0:e.children)||s.forEach((e=>t(e)))}};t(a)}t.emit("checked",o,a,s,r.index)};function d(e){const t=a[e];t&&t.focus()}const u=(o,a)=>{if(i(o,"type")&&"Feature"===o.type){const e=o,n=e.properties.id,i=s.value[n],l=[];for(let t=0;t<i.level-1;t++)l.push(j(pe,{side:!0}));return l.push(j(pe,{side:!0},(()=>j(me,{modelValue:i.ticked,dense:!0,disable:!0!==i.tickable,"onUpdate:modelValue":t=>c(t,e,i,a)})))),l.push(j(pe,{side:!0},(()=>j(he,{size:"16px",name:e.properties.icon||"circle",style:"color: #00e472"})))),l.push(j(pe,{},(()=>j(fe,{},(()=>e.properties.name))))),"loading"!==i.lazy&&!0!==e.properties.loading||l.push(j(pe,{side:!0},(()=>j(ra,{size:"1.5em",dense:!0})))),e.properties.checked&&l.push(j(pe,{side:!0},(()=>j(he,{size:"20px",name:"room",onClick:o=>{((e,o,a,r)=>{!0!==r&&d(o.key),t.emit("zoomIconClicked",o.key,e,o.index),a.stopPropagation()})(e,i,o)}})))),E(j(ye,{clickable:!0,activeClass:"text-amber-6",dark:!0,active:i.selected,onClick:o=>{((e,o,a,n)=>{!0!==n&&d(o.key),r.value&&o.selectable&&t.emit("update:selected",o.key,e,o.index),"function"==typeof e.properties.handler&&e.properties.handler(e)})(e,i)}},(()=>l)),[[ge]])}{const t=o,r=t.id,n=s.value[r],i=!0===n.isParent?p(t.children,t):[];if(i.length>0||n.lazy&&"loaded"!==n.lazy){const o=[];for(let e=0;e<n.level-1;e++)o.push(j(pe,{side:!0}));o.push(j(pe,{side:!0},(()=>j(me,{modelValue:!0===n.indeterminate?null:n.ticked,disable:!0!==n.tickable||!(null==t?void 0:t.children),dense:!0,"onUpdate:modelValue":e=>c(e,t,n,a)})))),o.push(j(pe,{side:!0},(()=>j(he,{size:"16px",name:"home",style:"color: #00e472"})))),o.push(j(pe,{},(()=>j(fe,{},(()=>t.name)))));const r=(e=>{let t=0;const o=e=>{e.forEach((e=>{e.children?o(null==e?void 0:e.children):t++}))};return o((null==e?void 0:e.children)||[]),t})(t);return 0!==r&&o.push(j(pe,{side:!0},(()=>j(de,{dense:!0,dark:!0},(()=>`${r}条`))))),"loading"!==n.lazy&&!0!==t.loading||o.push(j(pe,{side:!0},(()=>j(ra,{size:"1.5em",dense:!0})))),j(ve,{modelValue:n.expanded,expandIcon:"arrow_circle_down",expandSeparator:!0,clickable:!0,dark:!0,dense:e.dense,"onUpdate:modelValue":e=>((e,t,o,a)=>{t.expanded=e,l(o.key,!o.expanded,t,o)})(e,t,n)},{header:()=>o,default:()=>i})}}},p=(t,o)=>{const a=(e.filter?t.filter((e=>s.value[e.id||e.properties.id].matchesFilter)):t).map((e=>u(e,o)));return a.length?[j(ue,{dense:e.dense},(()=>a))]:[]};return()=>{const t=p(e.nodes);return j("div",{class:"vc-data-tree "+(0===t.length?"text-center":"")},0===t.length?e.filter?"找不到匹配的数据":"没有可用数据":t)}}});function sa(){const e=b(null),t=b(null);return{scrollAreaRef:e,verticalPositionRef:t,contentStyle:{backgroundColor:"rgba(0,0,0,0.02)",color:"#555"},contentActiveStyle:{backgroundColor:"rgba(0,0,0,0.02)",color:"#555"},thumbStyle:{right:"2px",borderRadius:"3px",backgroundColor:"#EBB107",width:"3px",opacity:.6},onScrollHandler:e=>{t.value=e.verticalPosition},setScrollPosition:(t,o,a)=>{e.value.setScrollPosition("vertical",0,300)}}}const ia={class:"work-bench"},la={class:"dataset-category"},ca={class:"dataset-category-header"},da={class:"q-ml-md q-mr-md"},ua=P("回到顶部"),pa=Jo(f({__name:"Index",setup(e){B((e=>({"9f757212":M(w).commonPanel.themeCommonPanelListBorderColor,"08ed2b7e":M(w).commonPanel.themeCommonPanelContentBackgroundColor})));const t=Xe(Gn.system.useLayoutStore()).global,{contentStyle:o,contentActiveStyle:a,thumbStyle:r,scrollAreaRef:n,verticalPositionRef:s,setScrollPosition:i,onScrollHandler:l}=sa(),{workBenchModel:c,dynamicRenderLayout:d,selectedDatasetCategories:u,init:p,showFeatureInfo:m,flyToFeature:h,addOrRemoveDataset:f,onLazyLoad:g,toggleDynamicRenderPageLayout:b}=ea(),w=S((()=>{const e=Gn.system.useThemeStore();return e.themeConfig[e.activeName]}));return k((()=>{p()})),C((()=>{c.datasourceCategories.forEach((e=>{e.children.forEach((e=>{var t;f(!1,e),e.checked=!1,e.expanded=!1,(null==(t=null==e?void 0:e.children)?void 0:t.length)&&(e.children.length=0)}))}))})),(e,r)=>(y(),_("div",ia,[E(D("div",{class:N(["datasources-container animate__animated animate__fadeInLeft",{"full-width-drawer":!M(t).leftDrawerMini}])},[D("div",la,[D("div",ca,[I(ce,{dense:"",flat:"",round:"",class:"close text-white",icon:"close",size:"sm",onClick:r[0]||(r[0]=e=>M(b)({datasource:{workBench:!1}}))}),D("div",da,[I(be,{modelValue:M(c).filterText,"onUpdate:modelValue":r[1]||(r[1]=e=>M(c).filterText=e),disable:M(c).loading,label:"搜索",dark:"",dense:"",clearable:""},{prepend:L((()=>[I(he,{color:"white",name:"search"})])),_:1},8,["modelValue","disable"])])]),M(s)>600?(y(),v(ce,{key:0,dense:"",fab:"",round:"",glossy:"","fab-mini":"",ripple:"",icon:"expand_less",padding:"2px",class:"absolute-bottom-right non-selectable z-top scroll-top",onClick:r[2]||(r[2]=e=>M(i)("vertical",0,300))},{default:L((()=>[I(le,null,{default:L((()=>[ua])),_:1})])),_:1})):O("",!0),I(ke,{ref_key:"scrollAreaRef",ref:n,class:"dataset-category-area","content-style":M(o),"content-active-style":M(a),onScroll:M(l)},{default:L((()=>[M(c).loading?(y(),v(ra,{key:0,class:"absolute-center","has-error":M(c).hasLoadingError},null,8,["has-error"])):O("",!0),I(M(na),{selected:M(c).selectedKey,"onUpdate:selected":[r[3]||(r[3]=e=>M(c).selectedKey=e),M(m)],nodes:M(u),filter:M(c).filterText,onZoomIconClicked:M(h),onLazyLoad:M(g),onChecked:M(f)},null,8,["selected","nodes","filter","onUpdate:selected","onZoomIconClicked","onLazyLoad","onChecked"])])),_:1},8,["content-style","content-active-style","onScroll"])])],2),[[z,M(d).datasource.workBench]]),M(d).datasource.workBench?O("",!0):(y(),v(ce,{key:0,class:"toggle-btn",round:"",loading:M(c).loading,flat:"",color:"white",onClick:r[4]||(r[4]=e=>M(b)({datasource:{workBench:!0}}))},{default:L((()=>[I(he,{size:"50px",name:"keyboard_double_arrow_right"})])),_:1},8,["loading"]))]))}}),[["__scopeId","data-v-1a48f411"]]),ma=Object.freeze(Object.defineProperty({__proto__:null,default:pa},Symbol.toStringTag,{value:"Module"})),ha={class:"page-dynamic-render-recursive-list absolute z-fab"},fa=f({name:"VcDemoDynamicRenderRecursiveList"}),ga=f({...fa,setup(e){const{loadDefaultLayers:t}=Gn.viewer.useLayerStore();return k((()=>{t(!0)})),(e,t)=>(y(),_("div",ha,[I(pa)]))}}),ya=Object.freeze(Object.defineProperty({__proto__:null,default:ga},Symbol.toStringTag,{value:"Module"}));const va={class:"page-dynamic-render-stack"},ba={key:0,class:"stack-buttons-wrapper"},ka={class:"stack-buttons-container"},Ca=["onClick"],_a={style:{"margin-top":"5px"}},wa=f({name:"VcDemoDynamicRenderStack"}),xa=Jo(f({...wa,setup(e){const t=w(),{loadDefaultLayers:o}=Gn.viewer.useLayerStore(),{stackDatas:a}={stackDatas:x([{id:c(),label:"农用地",checked:!1,data:"/datas/work-bench/TDLY农用地.json",renderingType:"polygon",entityProps:{polygon:{material:"rgba(127,194,105,0.8)"}},entitySelectedProps:{polygon:{material:"rgba(137,207,240,0.8)"}}},{id:c(),label:"住宅用地",checked:!1,data:"/datas/work-bench/TDLY住宅用地.json",renderingType:"polygon",entityProps:{polygon:{material:"rgba(238,241,160,0.8)"}},entitySelectedProps:{polygon:{material:"rgba(137,207,240,0.8)"}}},{id:c(),label:"集体建设用地",checked:!1,data:"/datas/work-bench/TDLY集体建设.json",renderingType:"polygon",entityProps:{polygon:{material:"rgba(227,108,9,0.8)"}},entitySelectedProps:{polygon:{material:"rgba(137,207,240,0.8)"}}},{id:c(),label:"工业用地",checked:!1,data:"/datas/work-bench/TDLY工业用地.json",renderingType:"polygon",entityProps:{polygon:{material:"rgba(216,216,216,0.8)"}},entitySelectedProps:{polygon:{material:"rgba(137,207,240,0.8)"}}}])},r=lt(),n=b(!1);b([]),C((()=>{io(t.path)})),k((()=>{o(!0),it(r.viewer,{position:{x:-2324661.042454219,y:5396877.953175202,z:2474170.1591741517},heading:6.283185307179586,pitch:-.5001412827126326,roll:6.283185307179586},{duration:1,complete:()=>{n.value=!0}})}));return(e,o)=>(y(),_("div",va,[n.value?(y(),_("div",ba,[D("div",ka,[(y(!0),_(A,null,F(M(a),((e,o)=>(y(),_("div",{key:o,class:N(["stack-button",{active:e.checked}]),onClick:o=>{return(a=e).checked?io(a.id):fo(a.data,a.renderingType,a.entityProps,a.entitySelectedProps,a.id,t.path),void(a.checked=!a.checked);var a}},[D("div",_a,V(e.label),1)],10,Ca)))),128))])])):O("",!0)]))}}),[["__scopeId","data-v-fe57d134"]]),Sa=Object.freeze(Object.defineProperty({__proto__:null,default:xa},Symbol.toStringTag,{value:"Module"}));const Ta=Jo(f({name:"VcDemoPageExpansion"}),[["render",function(e,t,o,a,r,n){const s=g("router-view");return y(),v(s)}]]),La=Object.freeze(Object.defineProperty({__proto__:null,default:Ta},Symbol.toStringTag,{value:"Module"})),Ia=f({name:"VcTyphoon",props:{typhoonDatas:Array,clampToGround:{type:Boolean,default:!1},interval:{type:Number,default:100},radius7Color:{type:String,default:"#00bab2"},radius10Color:{type:String,default:"#ffff00"},radius12Color:{type:String,default:"#da7341"}},emits:{mouseover:e=>!0,mouseout:e=>!0,click:e=>!0,clickout:e=>!0},setup(e,t){const o=G(),a=b(null);ct();const r=lt(),n=x([]),s=e=>{let t="";switch(e){case"STS":t="#0F8000";break;case"TY":t="#FE9C45";break;case"STY":t="#FE00FE";break;case"Super TY":t="#FE0000";break;case"TD":t="#EED139";break;case"TS":t="#0000FF";break;default:t="#409eff"}return t},i=(e,o)=>{o.playIndex=e;const a=o.typhoonData.points[e];a.type="live",a.index=e,a.tfbh=o.name;const r=[a.lng,a.lat];o.positions.push(r),o.points.push({id:a.id||Cesium.createGuid(),position:r,color:s(a.strong),pixelSize:8,outlineColor:"rgba(0,0,0,0.6)",outlineWidth:1,disableDepthTestDistance:Number.POSITIVE_INFINITY,onMouseover(e){t.emit("mouseover",e)},onMouseout(e){t.emit("mouseout",e)},onClick(e){c(a,o),o.playIndex=a.index,t.emit("click",e)},onClickout(e){t.emit("clickout",e)},...a}),e===o.typhoonData.points.length-1&&c(a,o)},l=(t,o)=>{const a=n.findIndex((e=>e.name===t));if(a>=0){let t=0;const r=n[a];r.points.length=0,r.positions.length=0;const s=r.typhoonData;i(t,r),clearInterval(r.playInterval),r.playInterval=setInterval((()=>{t++,t>=s.points.length?clearInterval(r.playInterval):i(t,r)}),o||e.interval)}else Yt("播放台风失败，原因：未找到对应编号的台风数据。")},c=(e,o)=>{o.children.length=0;const a=e.forecast;if(a&&!(a.length<=0))for(let r=0;r<a.length;r++){const n=a[r],i=[],l=[],c={name:o.name+"_"+n.sets,typhoonData:n,show:!0,positions:l,points:i,type:"forc"};o.children.push(c),n.points.forEach(((o,a)=>{const r=[o.lng,o.lat];c.positions.push(r),0===a&&c.positions.push([e.lng,e.lat]),o.sets=n.sets,o.type="forc",o.index=a,c.points.push({id:o.id||Cesium.createGuid(),position:r,color:s(o.strong),pixelSize:8,outlineColor:"rgba(0,0,0,0.6)",outlineWidth:1,disableDepthTestDistance:Number.POSITIVE_INFINITY,onMouseover(e){t.emit("mouseover",e)},onMouseout(e){t.emit("mouseout",e)},onClick(e){t.emit("click",e)},...o})}))}},d=e=>{const t={name:e.tfbh,typhoonData:e,show:!0,positions:[],points:[],children:[],type:"live"};return n.push(t),l(e.tfbh),t},u=(e,t)=>{let o=[];if("number"==typeof t)o=H(e,1e3*t,{units:"meters"}).geometry.coordinates;else if(t.ne){const a=6,r=360/(4*a),n={0:"ne",1:"nw",2:"sw",3:"se"};for(let s=0;s<4;s++){let i=1e3*parseFloat(t[n[s]]);i||(i=0);for(let t=s*r;t<=(s+1)*r;t++){const r=a*t,n=e[0]+i*Math.cos(r*Math.PI/180)/111e3,s=e[1]+i*Math.sin(r*Math.PI/180)/111e3;o.push([n,s])}}}return o},p=o=>{const a=[];return o.forEach((o=>{if(o.positions.length>1&&a.push(j(e.clampToGround?ft:gt,{show:!0,enableMouseEvent:!0,asynchronous:!1,classificationType:2,appearance:{type:"PolylineMaterialAppearance",options:{material:{fabric:{type:"live"===o.type?"Color":"PolylineDash",uniforms:{color:"rgba(0,0,0,0.5)"}}},translucent:!0}},onMouseover(e){t.emit("mouseover",e)},onMouseout(e){t.emit("mouseout",e)},onClick(e){t.emit("click",e)},onClickout(e){t.emit("clickout",e)}},(()=>j(pt,{id:o.name||Cesium.createGuid()},(()=>j(e.clampToGround?mt:ht,{positions:ut(o.positions),width:2,arcType:Cesium.ArcType.RHUMB,show:!0})))))),a.push(j(yt,{points:o.points,onReady:e=>{const{cesiumObject:t}=e,o=t.update;t.update=function(e){const t=e.commandList.length;o.call(this,e);const a=e.commandList.length;for(let o=t;o<a;++o)e.commandList[o].pass=Cesium.Pass.TRANSLUCENT,e.commandList[o].renderState=Cesium.RenderState.fromCache({depthTest:{enabled:!1},depthMask:!1})}}})),"live"===o.type){const t=o.points[o.playIndex];(null==t?void 0:t.radius7)>0&&a.push(j(vt,{positions:u(t.position,t.radius7_quad),clampToGround:e.clampToGround,asynchronous:!1,classificationType:2,appearance:{type:"MaterialAppearance",options:{material:{fabric:{type:"Color",uniforms:{color:e.radius7Color}}},faceForward:!0,renderState:{cull:{enabled:!1},depthTest:{enabled:!1}}}}})),(null==t?void 0:t.radius10)>0&&a.push(j(vt,{positions:u(t.position,t.radius10_quad),clampToGround:e.clampToGround,asynchronous:!1,classificationType:2,appearance:{type:"MaterialAppearance",options:{material:{fabric:{type:"Color",uniforms:{color:e.radius10Color}}},faceForward:!0,renderState:{cull:{enabled:!1},depthTest:{enabled:!1}}}}})),(null==t?void 0:t.radius12)>0&&a.push(j(vt,{positions:u(t.position,t.radius12_quad),clampToGround:e.clampToGround,asynchronous:!1,classificationType:2,appearance:{type:"MaterialAppearance",options:{material:{fabric:{type:"Color",uniforms:{color:e.radius12Color}}},faceForward:!0,renderState:{cull:{enabled:!1},depthTest:{enabled:!1}}}}}))}o.children&&a.push(...p(o.children))})),a};return Object.assign(o.proxy,{addTyphoonData:d,addTyphoonByInterval:l,flyToTyphoonData:(e,t)=>{const o=[];"string"==typeof e?o.push(e):o.push(...e);let a=null;o.forEach((e=>{const t=[],o=n.find((t=>t.name===e));o&&o.typhoonData.points&&o.typhoonData.points.forEach((e=>{t.push([e.lng,e.lat])}));const r=ut(t),s=Cesium.BoundingSphere.fromPoints(r);a=null===a?s:Cesium.BoundingSphere.union(a,s)})),r.viewer.camera.flyToBoundingSphere(a,{...t})},removeTyphoonData:e=>{const t=n.indexOf(e);t>=0&&(clearInterval(e.playInterval),n.splice(t,1))},removeAllTyphoonData:()=>{n.forEach((e=>{clearInterval(e.playInterval)})),n.length=0},getTyphoonDatasources:()=>n}),e.typhoonDatas.forEach((e=>{d(e)})),()=>{const e=p(n);return j(dt,{ref:a,show:!0},(()=>e))}}}),Pa={class:"page-dynamic-render-typhoon"},Va=f({name:"VcDemoPageDynamicRenderTyphoon"}),Da=Jo(f({...Va,setup(e){const t=b([]),o=b(null),a=[{position:[127,34],polyline:{width:1,positions:[[127,34],[127,22],[119,18],[119,11],[113,4.5],[105,0]],material:"rgba(255, 0, 0, 0.8)"}},{polyline:{width:1,positions:[[105,0],[120,0],[132,15],[132,34]],material:{fabric:{type:"PolylineDash",uniforms:{color:"rgba(255, 165, 0, 0.8)",dashLength:10,dashPattern:5}}}}}];k((()=>{r()}));const r=()=>{t.value.length=0;const e=[Mo.getStaticData("/datas/typhoon/202209.json"),Mo.getStaticData("/datas/typhoon/202210.json")];Promise.all(e).then((([e,o])=>{t.value=[...e.data,...o.data]}))};return(e,r)=>{const n=g("vc-datasource-custom");return y(),_("div",Pa,[I(n,{name:"vc_warnLine",entities:a}),t.value.length?(y(),v(M(Ia),{key:0,ref_key:"typhoonRef",ref:o,"typhoon-datas":t.value},null,8,["typhoon-datas"])):O("",!0)])}}}),[["__scopeId","data-v-4e45353e"]]),Oa=Object.freeze(Object.defineProperty({__proto__:null,default:Da},Symbol.toStringTag,{value:"Module"})),Ra={class:"z-top absolute-center page-index"},ja=f({name:"VcDemoPageIndex"}),Ea=f({...ja,setup(e){const t=lt(),o=b({position:[108,32],point:{pixelSize:28,color:"red"},label:{text:"Hello World",pixelOffset:[0,150]}}),{loadDefaultLayers:a,toggle:r}=Gn.viewer.useLayerStore();k((()=>{a(!0),it(t.viewer,{position:[105,30,19159568]})})),C((()=>{r({names:"admin",show:!1})}));const n=e=>{};return(e,t)=>{const a=g("vc-graphics-billboard"),r=g("vc-graphics-rectangle"),s=g("vc-entity");return y(),_("div",Ra,[I(s,{ref_key:"entity",ref:o,position:o.value.position,point:o.value.point,label:o.value.label,onClick:n},{default:L((()=>[I(a,{ref:"billboard",image:"https://zouyaoji.top/vue-cesium/favicon.png",scale:.5},null,8,["scale"]),I(r,{coordinates:[130,20,80,25],material:"green"})])),_:1},8,["position","point","label"])])}}}),Ba=Object.freeze(Object.defineProperty({__proto__:null,default:Ea},Symbol.toStringTag,{value:"Module"}));const Ma=Jo(f({name:"VcDemoPageOther"}),[["render",function(e,t,o,a,r,n){const s=g("router-view");return y(),v(s)}]]),za=Object.freeze(Object.defineProperty({__proto__:null,default:Ma},Symbol.toStringTag,{value:"Module"})),Na=f({name:"Test",setup(e,t){const o=b(null),a={body:e=>{const t=[];return e.forEach((e=>{t.push(I(kt,{rounded:!0,onClick:()=>(e=>{o.value.toggleAction(e.name)})(e),color:e.isActive?"positive":"primary"},{default:()=>[e.name]}))})),I("div",{class:"custom-analysis"},[t])}};return()=>[I(bt,{ref:o},a)]}}),Aa={class:"z-top absolute-center page-test"},Fa=P("asd"),Ga=f({name:"VcDemoTSXTest"}),Ha=Jo(f({...Ga,setup(e){lt();const t=b(!1),o=b(null),a=b(null);b(!1),k((()=>{}));const r=e=>{"onmouseover"===e.type?e.cesiumObject.model.color=Cesium.Color.RED:e.cesiumObject.model.color=Cesium.Color.WHITE},n=e=>{"onmouseover"===e.type?e.cesiumObject.model.color=Cesium.Color.GREEN:e.cesiumObject.model.color=Cesium.Color.WHITE};b(null),b(null);const s=b(null),i=b(0),l=e=>{},c=()=>(i.value+=.005,i.value);return(e,i)=>{const d=g("vc-graphics-model"),u=g("vc-entity"),p=g("vc-graphics-rectangle");return y(),_(A,null,[D("div",Aa,[I(u,{position:[114,40,1],description:"Hello Vue Cesium",onClick:r,onMouseover:r,onMouseout:r},{default:L((()=>[I(d,{ref_key:"model1",ref:o,uri:"https://zouyaoji.top/vue-cesium/SampleData/models/GroundVehicle/GroundVehicle.glb"},null,512)])),_:1},8,["position"]),I(u,{position:[114.00005,40,1],description:"Hello Vue Cesium",onClick:n,onMouseover:n,onMouseout:n},{default:L((()=>[I(d,{ref_key:"model2",ref:a,uri:"https://zouyaoji.top/vue-cesium/SampleData/models/GroundVehicle/GroundVehicle.glb"},null,512)])),_:1},8,["position"])]),I(M(Na)),I(ce,{style:{position:"absolute",top:"500px",left:"500px","z-index":"9999"},onClick:i[0]||(i[0]=e=>t.value=!t.value)},{default:L((()=>[Fa])),_:1}),I(u,{show:t.value,description:"Hello Vue Cesium",onClick:l,onMouseover:l,onMouseout:l},{default:L((()=>[I(p,{ref_key:"rectangle3",ref:s,coordinates:{west:-92,south:30,east:-82,north:40},material:"https://zouyaoji.top/vue-cesium/favicon.png",rotation:c,"st-rotation":c,"classification-type":0},null,8,["coordinates"])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-1b679d1a"]]),$a=Object.freeze(Object.defineProperty({__proto__:null,default:Ha},Symbol.toStringTag,{value:"Module"})),Ua=f({name:"Error404",setup:(e,t)=>({defaultPagePath:"/index"})}),qa={class:"fullscreen bg-blue text-white text-center q-pa-md flex flex-center"},Wa=D("div",{style:{"font-size":"30vh"}},"404",-1),Ja=D("div",{class:"text-h2",style:{opacity:"0.4"}},"噢. 这儿什么也没有...",-1);const Qa=Jo(Ua,[["render",function(e,t,o,a,r,n){return y(),_("div",qa,[D("div",null,[Wa,Ja,I(ce,{class:"q-mt-xl",color:"white","text-color":"blue",unelevated:"",to:e.defaultPagePath,label:"返回主页","no-caps":""},null,8,["to"])])])}]]),Ya=Object.freeze(Object.defineProperty({__proto__:null,default:Qa},Symbol.toStringTag,{value:"Module"})),Ka=e=>(U("data-v-2087a38b"),e=e(),q(),e),Za={class:"q-pa-md page-login z-top"},Xa={class:"login-container col row"},er=Ka((()=>D("div",{class:"text-h4 q-my-sm"},"登录",-1))),tr=Ka((()=>D("div",{class:"oath flex"},[D("div",{class:"title full-width text-center q-pt-md"},"社交帐号登录"),D("div",{class:"q-gutter-md full-width text-center q-pt-sm flex justify-center"},[D("svg",{t:"1615200042776",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5886",width:"200",height:"200"},[D("path",{d:"M579.867 511.932c-11.67 0-23.344 10.837-23.344 24.178 0 10.839 11.668 21.678 23.344 21.678 17.514 0 30.020-10.839 30.020-21.678 0-13.34-12.505-24.178-30.020-24.178v0zM503.154 399.36c18.345 0 30.020-11.67 30.020-29.185 0-18.345-11.675-29.183-30.020-29.183-17.51 0-34.188 10.839-34.188 29.183-0.001 17.517 16.678 29.185 34.188 29.185v0zM512.326 0.56c-282.655 0-511.788 229.133-511.788 511.788 0 282.653 229.133 511.786 511.788 511.786 282.653 0 511.786-229.133 511.786-511.786 0.001-282.655-229.132-511.788-511.786-511.788v0zM415.602 642.009c-30.855 0-53.369-4.999-82.553-13.341l-84.218 42.53 24.186-71.715c-59.204-41.689-94.228-94.221-94.228-158.428 0-113.403 106.733-200.123 236.814-200.123 115.069 0 217.633 68.377 237.644 165.106-8.338-1.671-15.844-2.502-22.514-2.502-113.403 0-200.954 85.049-200.954 187.613 0 17.508 2.502 33.351 6.671 50.030-6.671 0.829-14.178 0.829-20.849 0.829v0zM763.314 723.724l16.674 60.041-63.371-35.854c-24.18 4.999-47.529 12.505-71.709 12.505-111.737 0-200.123-76.711-200.123-171.769 0-95.058 88.388-171.771 200.123-171.771 105.895 0 200.954 76.713 200.954 171.771 0 53.362-35.854 100.891-82.548 135.078v0zM338.053 340.992c-17.51 0-35.854 10.839-35.854 29.183 0 17.516 18.343 29.19 35.854 29.19 16.679 0 30.020-11.675 30.020-29.19 0-18.343-13.341-29.183-30.020-29.183v0zM710.783 511.932c-12.51 0-23.349 10.837-23.349 24.178 0 10.839 10.839 21.678 23.349 21.678 16.674 0 29.183-10.839 29.183-21.678 0-13.34-12.509-24.178-29.183-24.178v0zM710.783 511.932z","p-id":"5887","data-spm-anchor-id":"a313x.7781069.0.i22",class:"",fill:"#2dc100"})]),D("svg",{t:"1615199447339",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2522",width:"200",height:"200"},[D("path",{d:"M512 0C229.003636 0 0 229.003636 0 512s229.003636 512 512 512 512-229.003636 512-512S794.996364 0 512 0z m210.385455 641.396364c-7.447273 9.309091-26.996364-1.861818-41.89091-32.581819-3.723636 13.963636-13.032727 36.305455-34.443636 64.232728 35.374545 8.378182 44.683636 42.821818 33.512727 61.44-8.378182 13.032727-26.996364 24.203636-59.578181 24.203636-58.647273 0-83.781818-15.825455-95.883637-26.996364-1.861818-2.792727-5.585455-3.723636-10.24-3.723636-4.654545 0-7.447273 0.930909-10.24 3.723636-11.170909 11.170909-37.236364 26.996364-95.883636 26.996364-32.581818 0-52.130909-11.170909-59.578182-24.203636-12.101818-18.618182-1.861818-53.061818 33.512727-61.44-20.48-27.927273-29.789091-50.269091-34.443636-64.232728-13.963636 30.72-34.443636 42.821818-41.890909 32.581819-5.585455-8.378182-8.378182-26.065455-7.447273-38.167273 3.723636-46.545455 34.443636-85.643636 53.061818-106.123636-2.792727-5.585455-8.378182-40.029091 14.894546-63.301819v-1.861818c0-92.16 65.163636-158.254545 148.014545-158.254545 81.92 0 148.014545 66.094545 148.014546 158.254545v1.861818c23.272727 23.272727 17.687273 57.716364 14.894545 63.301819 17.687273 20.48 49.338182 59.578182 53.061818 106.123636 0.930909 12.101818-0.930909 29.789091-7.447272 38.167273z",fill:"#30A5DD","p-id":"2523"})]),D("svg",{t:"1615199464855",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3380",width:"200",height:"200"},[D("path",{d:"M448.698182 482.210909c-96.814545 4.654545-175.010909 56.785455-175.010909 121.949091s78.196364 114.501818 175.010909 109.847273S623.709091 647.912727 623.709091 582.749091c-0.930909-64.232727-79.127273-105.192727-175.010909-100.538182z m65.163636 164.770909c-29.789091 39.098182-88.436364 57.716364-145.221818 26.065455-26.996364-14.894545-26.065455-43.752727-26.065455-43.752728s-11.170909-92.16 85.643637-103.330909c97.745455-12.101818 115.432727 81.92 85.643636 121.018182z",fill:"#EA5D5C","p-id":"3381"}),D("path",{d:"M448.698182 584.610909c-6.516364 4.654545-7.447273 13.032727-3.723637 18.618182 2.792727 5.585455 11.170909 6.516364 16.756364 1.861818 5.585455-4.654545 8.378182-13.032727 4.654546-18.618182-2.792727-5.585455-10.24-6.516364-17.687273-1.861818zM403.083636 597.643636c-18.618182 1.861818-30.72 17.687273-30.72 33.512728 0 14.894545 14.894545 26.065455 32.581819 24.203636 17.687273-1.861818 32.581818-15.825455 32.581818-31.650909s-13.963636-27.927273-34.443637-26.065455z",fill:"#EA5D5C","p-id":"3382"}),D("path",{d:"M512 0C229.003636 0 0 229.003636 0 512s229.003636 512 512 512 512-229.003636 512-512S794.996364 0 512 0z m197.352727 626.501818C669.323636 712.145455 538.065455 754.036364 441.250909 746.589091c-92.16-7.447273-211.316364-38.167273-223.418182-151.738182 0 0-6.516364-51.2 42.821818-117.294545 0 0 70.749091-99.607273 152.669091-128.465455 82.850909-27.927273 92.16 19.549091 92.16 48.407273-4.654545 24.203636-12.101818 38.167273 18.618182 28.858182 0 0 80.989091-38.167273 114.501818-4.654546 26.996364 26.996364 4.654545 65.163636 4.654546 65.163637s-11.170909 12.101818 12.101818 16.756363c21.410909 3.723636 94.021818 37.236364 53.992727 122.88z m-80.058182-236.450909c-8.378182 0-15.825455-7.447273-15.825454-15.825454 0-9.309091 7.447273-15.825455 15.825454-15.825455 0 0 99.607273-18.618182 87.505455 89.367273v1.861818c-0.930909 7.447273-7.447273 13.963636-15.825455 13.963636-9.309091 0-15.825455-7.447273-15.825454-15.825454 0-1.861818 15.825455-73.541818-55.854546-57.716364zM797.789091 493.381818c-2.792727 18.618182-12.101818 11.170909-22.341818 11.170909-13.032727 0-23.272727-16.756364-23.272728-29.789091 0-11.170909 4.654545-22.341818 4.654546-22.341818 0.930909-4.654545 12.101818-34.443636-7.447273-78.196363-35.374545-60.509091-106.123636-60.509091-114.501818-57.716364-8.378182 3.723636-21.410909 5.585455-21.410909 5.585454-13.032727 0-23.272727-10.24-23.272727-23.272727 0-11.170909 7.447273-19.549091 16.756363-22.341818 0 0 0 0.930909 0.930909 0.930909s1.861818 0.930909 1.861819 0.930909c10.24-1.861818 45.614545-4.654545 79.127272 3.723637 62.370909 14.894545 146.152727 83.781818 108.916364 211.316363z",fill:"#EA5D5C","p-id":"3383"})])])],-1))),or=Ka((()=>D("div",{class:"row justify-between q-pt-md text-grey-8"},[D("span",null,"忘记密码"),D("span",{class:"sign-up text-center cursor-pointer"}," 还没有账号？现在注册！ ")],-1))),ar=Jo(f({__name:"Login",setup(e){B((e=>({"212ca272":M(r).pageLogin.themePageLoginBackground,"8caf0bac":M(r).pageLogin.themePageLoginColor,"9ef0b1a6":M(r).global.themeColorAlpha,"99563e9e":M(r).global.themeColor}))),Ce();const t=$(),o=b({username:"admin",password:"admin"}),a={username:[e=>e&&e.length>0||"请输入用户名"],password:[e=>e&&e.length>0||"请输入用户名"],rememberMe:[e=>!!e||"You need to accept the license and terms first"]},r=S((()=>{const e=Gn.system.useThemeStore();return e.themeConfig[e.activeName]})),n=async()=>{Gn.system.useAccountStore().login(o.value).then((()=>{t.replace(t.currentRoute.value.query.redirect||"/index")}))},s=()=>{o.value={username:"",password:""}};return(e,t)=>(y(),_("div",Za,[D("div",Xa,[I(_e,{greedy:"",class:"form-login",onSubmit:n,onReset:s},{default:L((()=>[er,I(be,{modelValue:o.value.username,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value.username=e),outlined:"",label:"用户名","lazy-rules":"",rules:a.username},{prepend:L((()=>[I(he,{class:"icon",name:"perm_identity"})])),_:1},8,["modelValue","rules"]),I(be,{modelValue:o.value.password,"onUpdate:modelValue":t[1]||(t[1]=e=>o.value.password=e),outlined:"",label:"密码","lazy-rules":"",type:"password",rules:a.password},{prepend:L((()=>[I(he,{class:"icon",name:"lock"})])),_:1},8,["modelValue","rules"]),D("div",null,[I(ce,{class:"btn-submit full-width no-outline text-h6",color:"primary",label:"登录",type:"submit"})]),tr,or])),_:1})])]))}}),[["__scopeId","data-v-2087a38b"]]),rr=Object.freeze(Object.defineProperty({__proto__:null,default:ar},Symbol.toStringTag,{value:"Module"})),nr=f({__name:"Index",setup(e){const t=x({cesiumPath:"https://unpkg.com/cesium@latest/Build/Cesium/Cesium.js"});return(e,o)=>(y(),v(M(_t),{"cesium-path":t.cesiumPath},{default:L((()=>[I(M(Ct))])),_:1},8,["cesium-path"]))}}),sr=Object.freeze(Object.defineProperty({__proto__:null,default:nr},Symbol.toStringTag,{value:"Module"})),ir=Jo(f({__name:"LogTable",setup(e){B((e=>({"372905ce":M(r).global.themeQCardColor,"8c05f900":M(r).global.themeQCardBackgroundColor,e42ac686:M(r).global.themeColorActive})));const t=x({sortBy:"desc",descending:!1,rowsPerPage:10}),o=b([{id:"time",label:"时间",field:"time",align:"center"},{id:"message",label:"信息",field:"message",align:"center"},{id:"url",label:"触发页面",field:"url",align:"center"},{id:"more",label:"查看详情",align:"center"}]),a=S((()=>Gn.system.useLogStore().log)),r=S((()=>{const e=Gn.system.useThemeStore();return e.themeConfig[e.activeName]}));return(e,r)=>(y(),v(Se,{class:"log-table-list",rows:M(a),columns:o.value,pagination:t},{body:L((e=>[I(xe,{props:e},{default:L((()=>[I(we,{key:"time",class:"text-center"},{default:L((()=>[P(V(e.row.time),1)])),_:2},1024),I(we,{key:"message",class:"text-center"},{default:L((()=>[P(V(e.row.message),1)])),_:2},1024),I(we,{key:"url",class:"text-center"},{default:L((()=>[P(V(e.row.meta.url),1)])),_:2},1024),I(we,{key:"more",class:"text-center"},{default:L((()=>[I(ce,{icon:"more",rounded:"",onClick:t=>(e.row,void se.create({type:"info",caption:"日志详情",message:"完整的日志内容已经打印到控制台"}))},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","pagination"]))}}),[["__scopeId","data-v-21f71763"]]),lr=D("div",{class:"text-h6"},"日志列表",-1),cr=P("关闭"),dr=f({__name:"Index",setup(e){const t=b(!1),o=S((()=>Gn.system.useLogStore().length)),a=S((()=>Gn.system.useLogStore().lengthError)),r=S((()=>0===o.value?"没有日志或异常":`${o.value} 条日志${a.value>0?` | 包含 ${a.value} 个异常`:""}`)),n=()=>{t.value=!0};return(e,o)=>(y(),_(A,null,[I(ce,{icon:"adjust",size:"md",flat:"",round:"",onClick:n},{default:L((()=>[I(le,null,{default:L((()=>[P(V(M(r)),1)])),_:1})])),_:1}),I(Ve,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=e=>t.value=e)},{default:L((()=>[I(Te,{style:{width:"1440px","max-width":"960px"}},{default:L((()=>[I(Le,{class:"row items-center q-pb-none q-pt-xs card-header"},{default:L((()=>[lr,I(Ie),E((y(),v(ce,{icon:"close",flat:"",round:"",dense:""},{default:L((()=>[I(le,null,{default:L((()=>[cr])),_:1})])),_:1})),[[Pe]])])),_:1}),I(Le,{class:"theme-card"},{default:L((()=>[I(ir)])),_:1})])),_:1})])),_:1},8,["modelValue"])],64))}}),ur=f({__name:"Index",setup(e){const t=S((()=>Gn.system.useFullscreenStore().active)),o=()=>{Gn.system.useFullscreenStore().toggle()};return(e,a)=>(y(),v(ce,{icon:M(t)?"fullscreen_exit":"fullscreen",size:"md",flat:"",round:"",onClick:o},{default:L((()=>[I(le,null,{default:L((()=>[P(V(M(t)?"退出全屏":"全屏"),1)])),_:1})])),_:1},8,["icon"]))}}),pr=P("已激活"),mr=P("使用"),hr=f({__name:"ThemeList",setup(e){B((e=>({"8eb8b804":M(r).global.themeQCardColor,"3bc3c48d":M(r).global.themeColorActive})));const t=b([{id:"title",label:"名称",field:"title",align:"center"},{id:"preview",label:"预览",field:"preview",align:"center"},{id:"handler",label:"操作",align:"center"}]),o=S((()=>Gn.system.useThemeStore().list)),a=S((()=>Gn.system.useThemeStore().activeName)),r=S((()=>{const e=Gn.system.useThemeStore();return e.themeConfig[e.activeName]}));return(e,r)=>(y(),v(Se,{class:"theme-table-list",rows:M(o),"hide-header":"","hide-pagination":"",columns:t.value},{body:L((e=>[I(xe,{props:e},{default:L((()=>[I(we,{key:"title"},{default:L((()=>[P(V(e.row.title),1)])),_:2},1024),I(we,{key:"preview"},{default:L((()=>[P(V(e.row.preview),1)])),_:2},1024),I(we,{key:"handler"},{default:L((()=>[M(a)===e.row.name?(y(),v(ce,{key:0,class:"active",icon:"done",rounded:"",outline:""},{default:L((()=>[pr])),_:1})):(y(),v(ce,{key:1,rounded:"",outline:"",onClick:t=>{return o=e.row.name,void Gn.system.useThemeStore().set(o);var o}},{default:L((()=>[mr])),_:2},1032,["onClick"]))])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns"]))}}),fr=P("主题"),gr=D("div",{class:"text-h6"},"主题",-1),yr=P("关闭"),vr=f({__name:"Index",setup(e){const t=b(!1);return(e,o)=>(y(),_(A,null,[I(ce,{icon:"style",size:"md",flat:"",round:"",onClick:o[0]||(o[0]=e=>t.value=!0)},{default:L((()=>[I(le,null,{default:L((()=>[fr])),_:1})])),_:1}),I(Ve,{modelValue:t.value,"onUpdate:modelValue":o[1]||(o[1]=e=>t.value=e)},{default:L((()=>[I(Te,{style:{width:"650px"}},{default:L((()=>[I(Le,{class:"row items-center q-pb-none q-pt-xs card-header"},{default:L((()=>[gr,I(Ie),E((y(),v(ce,{icon:"close",flat:"",round:"",dense:""},{default:L((()=>[I(le,null,{default:L((()=>[yr])),_:1})])),_:1})),[[Pe]])])),_:1}),I(Le,{class:"theme-card"},{default:L((()=>[I(hr)])),_:1})])),_:1})])),_:1},8,["modelValue"])],64))}}),br=P("注销"),kr=f({__name:"Index",setup(e){const{toggleGlobalLayout:t}=Gn.system.useLayoutStore(),{loadDefaultLayers:o}=Gn.viewer.useLayerStore(),a=Gn.system.useUserStore(),r=lt(),n=()=>{Gn.system.useAccountStore().logout({confirm:!0}).then((e=>{if(e){o(!1),t({featureInfo:!1,layerManager:!1}),Gn.viewer.useRenderStore(Fn).removeAllRenderData();const e={position:[105,30,21634101],heading:360,pitch:-90,roll:0};(null==r?void 0:r.viewer)&&it(null==r?void 0:r.viewer,e,{duration:3})}}))};return(e,t)=>{var o;return"login"!==e.$route.name?(y(),v(de,{key:0,dense:"",rounded:"","no-caps":"",size:"md",class:"q-mr-sm cursor-pointer","auto-close":"",icon:"person",label:null==(o=M(a).info)?void 0:o.username},{default:L((()=>[I(Oe,null,{default:L((()=>[I(ue,{dense:""},{default:L((()=>[E((y(),v(ye,{clickable:"",dense:"",onClick:n},{default:L((()=>[I(pe,{avatar:""},{default:L((()=>[I(De,{icon:"logout"})])),_:1}),I(pe,null,{default:L((()=>[I(fe,null,{default:L((()=>[br])),_:1})])),_:1})])),_:1})),[[Pe]])])),_:1})])),_:1})])),_:1},8,["label"])):O("",!0)}}}),Cr=P("简体中文"),_r=P("English"),wr=f({__name:"Index",setup(e){const{locale:t}=W(),o=b(!1),a=e=>{t.value=e,At("locale",e)};return(e,t)=>(y(),v(Re,{modelValue:o.value,"onUpdate:modelValue":t[2]||(t[2]=e=>o.value=e),dense:"",color:"#fff","fab-mini":"",size:"md","dropdown-icon":"language",flat:""},{default:L((()=>[I(ue,null,{default:L((()=>[E((y(),v(ye,{clickable:"",onClick:t[0]||(t[0]=e=>a("zh-CN"))},{default:L((()=>[I(pe,null,{default:L((()=>[I(fe,null,{default:L((()=>[Cr])),_:1})])),_:1})])),_:1})),[[Pe]]),E((y(),v(ye,{clickable:"",onClick:t[1]||(t[1]=e=>a("en-US"))},{default:L((()=>[I(pe,null,{default:L((()=>[I(fe,null,{default:L((()=>[_r])),_:1})])),_:1})])),_:1})),[[Pe]])])),_:1})])),_:1},8,["modelValue"]))}}),xr=P("图层管理"),Sr=f({__name:"Index",setup(e){const{toggleGlobalLayout:t}=Gn.system.useLayoutStore(),o=()=>{t({layerManager:!Gn.system.useLayoutStore().global.layerManager})};return(e,t)=>(y(),v(ce,{size:"md",flat:"",round:"",color:"#fff",icon:"layers",onClick:o},{default:L((()=>[I(le,null,{default:L((()=>[xr])),_:1})])),_:1}))}}),Tr={class:"vc-geocoder row"},Lr=P(" 没有结果 "),Ir=Jo(f({__name:"Index",setup(e){const t=lt(),o=b(null),a=b([]),r=b(null),n=b([]),s=async(e,t,r)=>{const n={keywords:e=""===e?o.value:e,citylimit:!0,output:"json",key:"7370d0574108a3c8778e3b2ad20ce9ee"},s=await Mo.getLocationList(n);let i=[];if("1"===s.status){const e=s.pois,t=[];e.forEach((e=>{t.push({value:e.id,label:e.name,pname:e.pname,cityname:e.cityname,adname:e.adname,address:e.address,location:e.location,type:e.type})})),i=[...new Set(t)]}t((()=>{const t=null==e?void 0:e.toLocaleLowerCase();a.value=i.filter((e=>e.label.toLocaleLowerCase().indexOf(t)>-1))}))},i=e=>{o.value=e},l=()=>{o.value=null,n.value.length=0},c=e=>{if(e){const t=wt(Number(e.location.trim().split(",")[0]),Number(e.location.trim().split(",")[1])),o={lng:t[0],lat:t[1],address:e.address};d(o,e)}else n.value.length=0},d=(e,o)=>{const a=e.lng,r=e.lat,s=e.address,{Rectangle:i,sampleTerrain:l}=Cesium,{viewer:c}=t;n.value.length=0,n.value.push({position:[a,r],point:{color:"#08ABD5",pixelSize:12,outlineWidth:3,outlineColor:"#fff"},properties:{...o},description:u({"经度":a,"纬度":r,"地址":s})}),new Cesium.HeadingPitchRange(0,0,3e3);const d=.01,p=i.fromDegrees(a-d,r-d,a+d,r+d),m=c.scene.camera,h=m.getRectangleCameraCoordinates(p),f=c.scene.globe.ellipsoid.cartesianToCartographic(h);l(c.scene.globe.terrainProvider,6,[i.center(p)]).then((function(e){const t={longitude:f.longitude,latitude:f.latitude,height:f.height+e[0].height},o=c.scene.globe.ellipsoid.cartographicToCartesian(t);m.flyTo({duration:3,destination:o})}))},u=(e,t)=>{let o="";e instanceof Cesium.PropertyBag&&(e=e.getValue(Cesium.JulianDate.now()));for(let a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(a===t)continue;let r=e[a];"object"==typeof r&&(r=u(r)),a=a.replace(/_/g," "),Cesium.defined(r)&&(o+="<tr><th>"+a+"</th><td>"+r+"</td></tr>")}return o.length>0&&(o='<table class="cesium-infoBox-defaultTable"><tbody>'+o+"</tbody></table>"),o};return(e,t)=>{const d=g("vc-datasource-custom");return y(),_(A,null,[D("div",Tr,[I(je,{outlined:"","model-value":o.value,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:a.value,label:"输入关键字搜索位置",style:{width:"250px"},dense:"","hide-dropdown-icon":"",onFilter:s,onInputValue:i,"onUpdate:modelValue":c},{prepend:L((()=>[I(he,{name:"place",color:"white"})])),"no-option":L((()=>[I(ye,null,{default:L((()=>[I(pe,{class:"text-grey"},{default:L((()=>[Lr])),_:1})])),_:1})])),append:L((()=>[null!==o.value?(y(),v(he,{key:0,name:"cancel",class:"cursor-pointer",onClick:J(l,["stop"])},null,8,["onClick"])):O("",!0),I(he,{name:"search",color:"orange"})])),_:1},8,["model-value","options"])]),I(d,{ref_key:"datasoureceRef",ref:r,entities:n.value},null,8,["entities"])],64)}}}),[["__scopeId","data-v-dafd5308"]]),Pr=(e=>(U("data-v-641df0fe"),e=e(),q(),e))((()=>D("img",{src:"https://zouyaoji.top/vue-cesium/favicon.png"},null,-1))),Vr={class:"menu-container"},Dr={key:0,class:"right-btn"},Or=f({name:"MainHeader"}),Rr=Jo(f({...Or,setup(e){const t=w();b(!1);const o=b(""),{registerTimeout:a}=Ee(),r=b(100),n=Gn.system.useMenuStore(),s=Gn.system.useLayoutStore(),{global:i}=Xe(s),l=S((()=>"VueCesium Demo")),c=S((()=>{const e=n.header;return e.length?e[0].children:[]}));S((()=>!1)),S((()=>n.aside)),S((()=>{const e=Gn.system.useThemeStore();return e.themeConfig[e.activeName]})),Q((()=>t.matched),(e=>{a((()=>{if(e.length>1){const t=e[1].path.substring(1,e[1].path.length);t&&(o.value=t)}else o.value="index"}),r.value)}),{immediate:!0}),k((()=>{r.value=5}));const d=()=>{Ae("https://github.com/zouyaoji/vue-cesium-demo")},u=()=>{s.toggleGlobalLayout({leftDrawerMini:!i.value.leftDrawerMini})},p=e=>{null===e&&t.matched.length>1?o.value=t.matched[1].path.substring(1,t.matched[1].path.length):o.value=e};return(e,t)=>(y(),v(Be,{class:"main-header"},{default:L((()=>[I(De,{class:"cursor-pointer",onClick:u},{default:L((()=>[Pr])),_:1}),I(Me,{shrink:!0,style:{width:"280px","font-weight":"bold","text-align":"left"}},{default:L((()=>[P(V(M(l)),1)])),_:1}),D("div",Vr,[I(Ne,{"model-value":o.value,"onUpdate:model-value":t[0]||(t[0]=e=>o.value=e),align:"left","indicator-color":"cyan-13","onUpdate:modelValueOnce":p},{default:L((()=>[(y(!0),_(A,null,F(M(c),((e,t)=>(y(),v(ze,{key:t,name:e.name,to:e.path,exact:"",label:e.caption,"content-class":"menu-tab","active-class":"menu-active"},null,8,["name","to","label"])))),128))])),_:1},8,["model-value"])]),I(Ie),M(c).length?(y(),_("div",Dr,[I(Ir),I(Sr),I(dr),I(ur),I(vr),I(wr),I(kr),I(ce,{size:"md",flat:"",round:"",color:"#fff",onClick:d},{default:L((()=>[I(he,{name:"fa fa-github"})])),_:1})])):O("",!0)])),_:1}))}}),[["__scopeId","data-v-641df0fe"]]),jr={key:0,class:"text-weight-bold"},Er={class:"content"},Br=Jo(f({__name:"Index",props:{title:{type:String,default:""},titleClass:{type:String,default:""},closeTip:{type:String,default:"关闭"},showCloseBtn:{type:Boolean,default:!0},separatorOpts:{type:Object,default:()=>({show:!0,dark:!0,color:"white",size:"1px"})}},emits:["close"],setup(e,{emit:t}){B((e=>({ae362eba:M(a).commonPanel.themeCommonPanelHeaderColor,"460f2015":M(a).commonPanel.themeCommonPanelHeaderBackgroundColor,"47ca6c3d":M(a).commonPanel.themeCommonPanelContentColor,"387f29a2":M(a).commonPanel.themeCommonPanelContentBackgroundColor,"7010cc72":M(a).commonPanel.themeCommonPanelListColor,a2da4734:M(a).commonPanel.themeCommonPanelListBorderColor,e16129f2:M(a).global.themeColorAlpha,"70a49c97":M(a).global.themeColor})));const o=e=>{t("close",e)},a=S((()=>{const e=Gn.system.useThemeStore();return e.themeConfig[e.activeName]}));return(t,a)=>(y(),v(Te,{class:"common-panel"},{default:L((()=>[I(Fe,{class:N(["header",e.titleClass])},{default:L((()=>[""!==e.title?(y(),_("div",jr,V(e.title),1)):O("",!0),Y(t.$slots,"header-left",{},void 0,!0),I(Ie),Y(t.$slots,"header-right",{},void 0,!0),e.showCloseBtn?E((y(),v(ce,{key:1,dense:"",flat:"",icon:"close",onClick:o},{default:L((()=>[I(le,null,{default:L((()=>[P(V(e.closeTip),1)])),_:1})])),_:1})),[[Pe]]):O("",!0)])),_:3},8,["class"]),e.separatorOpts.show?(y(),v(Ge,K(Z({key:0},e.separatorOpts)),null,16)):O("",!0),D("div",Er,[Y(t.$slots,"default",{},void 0,!0)])])),_:3}))}}),[["__scopeId","data-v-dfd8cb64"]]),Mr=f({name:"DragWrapper",props:{restriction:{type:[String,Object,Function],default:"parent"}},setup(e,t){const o=b(null),a=G(),r=e=>{const t=e.target,o=(parseFloat(t.getAttribute("data-x"))||0)+e.dx,a=(parseFloat(t.getAttribute("data-y"))||0)+e.dy;t.style.webkitTransform=t.style.transform="translate("+o+"px, "+a+"px)",t.setAttribute("data-x",o),t.setAttribute("data-y",a)},n=()=>{const e=o.value;Nt(e).reflow({name:"drag",axis:"xy"})};return k((()=>{const t=o.value;Nt(t).draggable({ignoreFrom:"button, .ignore-drag",allowFrom:".drag-handle",inertia:!0,onmove:r,restrict:{restriction:e.restriction,endOnly:!0,elementRect:{left:0,right:1,top:0,bottom:1}}}),addEventListener("resize",n,!1)})),X((()=>{const e=o.value;Nt.isSet(e)&&Nt(e).unset(),removeEventListener("resize",n,!1)})),Object.assign(null==a?void 0:a.proxy,{resizeListener:n}),()=>j("div",{ref:o,class:"drag-wrapper absolute"},xt(t.slots.default))}}),zr={class:"text-subtitle2"},Nr={class:"q-gutter-sm"},Ar={class:"text-subtitle2"},Fr={class:"q-gutter-sm"},Gr={class:"text-subtitle2"},Hr={class:"q-gutter-sm"},$r=Jo(f({__name:"Index",setup(e){const t=b(null),o=Gn.system.useLayoutStore(),{global:a,dynamicRender:r}=Xe(o),{overlayLayers:n,baseLayers:s,terrainLayers:i,toggle:l}=Gn.viewer.useLayerStore();Q(r,(e=>{T((()=>{var e,o;t.value&&(null==(o=(e=t.value).resizeListener)||o.call(e))}))}),{deep:!0});const c=S((()=>({overlayLayers:n,baseLayers:s,terrainLayers:i}))),d=S({get(){var e,t;return null==(t=null==(e=c.value.baseLayers.filter((e=>e.props.show)))?void 0:e[0])?void 0:t.name},set(e){}}),u=S({get(){var e,t;return null==(t=null==(e=c.value.terrainLayers.filter((e=>e.props.show)))?void 0:e[0])?void 0:t.name},set(e){}}),p=(e,t)=>{c.value.baseLayers.forEach((t=>{t.name===e?l({names:t.name,show:!0}):l({names:t.name,show:!1})}))},m=(e,t)=>{c.value.terrainLayers.forEach((t=>{t.name===e?l({names:t.name,show:!0}):l({names:t.name,show:!1})}))},h=()=>{o.toggleGlobalLayout({layerManager:!a.value.layerManager})};return(e,o)=>(y(),_("div",{class:N(["layer-manager",M(r).datasource.workBench?"":"full-srceen"])},[I(M(Mr),{ref_key:"dragWrapperRef",ref:t},{default:L((()=>[E(I(Br,{class:"layer-manager-panel",title:e.$t("message.panel.layerManager"),"title-class":"drag-handle",onClose:h},{default:L((()=>[I(Le,{class:"q-pt-sm"},{default:L((()=>[D("div",zr,V(e.$t("message.baseLayer")),1),D("div",Nr,[(y(!0),_(A,null,F(M(c).baseLayers,((e,t)=>(y(),v(He,{key:t,modelValue:M(d),"onUpdate:modelValue":[o[0]||(o[0]=e=>ee(d)?d.value=e:null),p],val:e.name,label:e.text},null,8,["modelValue","val","label"])))),128))])])),_:1}),I(Ge,{inset:""}),I(Le,{class:"q-pt-sm"},{default:L((()=>[D("div",Ar,V(e.$t("message.overlayLayer")),1),D("div",Fr,[(y(!0),_(A,null,F(M(c).overlayLayers,((e,t)=>(y(),v(me,{key:t,modelValue:e.props.show,"onUpdate:modelValue":[t=>e.props.show=t,t=>((e,t)=>{const o=e.name;l({names:o,show:t})})(e,t)],val:e.name,label:e.text},null,8,["modelValue","onUpdate:modelValue","val","label"])))),128))])])),_:1}),I(Ge,{inset:""}),I(Le,{class:"q-pt-sm"},{default:L((()=>[D("div",Gr,V(e.$t("message.terrainLayer")),1),D("div",Hr,[(y(!0),_(A,null,F(M(c).terrainLayers,((e,t)=>(y(),v(He,{key:t,modelValue:M(u),"onUpdate:modelValue":[o[1]||(o[1]=e=>ee(u)?u.value=e:null),m],val:e.name,label:e.text},null,8,["modelValue","val","label"])))),128))])])),_:1})])),_:1},8,["title"]),[[z,M(a).layerManager]])])),_:1},512)],2))}}),[["__scopeId","data-v-58b532b6"]]),Ur=P("回到顶部"),qr=Jo(f({__name:"Index",setup(e){const t=b(null),{contentStyle:o,contentActiveStyle:a,thumbStyle:r,scrollAreaRef:n,verticalPositionRef:s,setScrollPosition:i,onScrollHandler:l}=sa(),c=Gn.system.useLayoutStore(),{global:d,dynamicRender:u}=Xe(c),{toggleGlobalLayout:p}=c,m=Gn.viewer.useRenderStore().selectedRenderData,h=b(null),f=b("450px");k((()=>{})),Q(d,(e=>{T((()=>{var e,o;null==(o=null==(e=t.value)?void 0:e.resizeListener)||o.call(e)}))}),{deep:!0}),Q(m,(e=>{T((()=>{var t;if(null==(t=null==e?void 0:e.featureInfoListItems)?void 0:t.length){const e=h.value.$el,t=getComputedStyle(e).height,o=parseInt(t);f.value=o<680?t:"680px"}}))}));const g=S((()=>({height:f.value}))),C=()=>{p({featureInfo:!1})};return(e,r)=>(y(),_("div",{class:N(["feature-info",M(u).datasource.workBench?"":"full-srceen"])},[I(M(Mr),{ref_key:"dragWrapperRef",ref:t},{default:L((()=>[E(I(Br,{class:"feature-info-panel animated fadeIn q-ma-xs",title:"要素信息","title-class":"drag-handle",onClose:C},{default:L((()=>{var e;return[0===(null==(e=M(m))?void 0:e.featureInfoListItems.length)?(y(),v(ra,{key:0,class:"absolute-center","show-tip":""})):O("",!0),M(s)>600?(y(),v(ce,{key:1,dense:"",fab:"",round:"",glossy:"","fab-mini":"",ripple:"",icon:"expand_less",padding:"2px",class:"absolute-bottom-right non-selectable scroll-top z-top",onClick:r[0]||(r[0]=e=>M(i)("vertical",0,300))},{default:L((()=>[I(le,null,{default:L((()=>[Ur])),_:1})])),_:1})):O("",!0),I(ke,{ref_key:"scrollAreaRef",ref:n,class:"feature-info-panel-content",style:te(M(g)),"content-style":M(o),"content-active-style":M(a),onScroll:M(l)},{default:L((()=>[I(ue,{ref_key:"featureInfoListRef",ref:h,dark:"",bordered:"",separator:"",class:"feature-info-list"},{default:L((()=>{var e;return[(y(!0),_(A,null,F(null==(e=M(m))?void 0:e.featureInfoListItems,((e,t)=>E((y(),v(ye,{key:t,clickable:""},{default:L((()=>[I(pe,{avatar:""},{default:L((()=>[I(he,{class:"feature-info-field-icon",name:"article"})])),_:1}),I(pe,null,{default:L((()=>[I(fe,null,{default:L((()=>[P(V(e.label),1)])),_:2},1024),I(fe,{caption:""},{default:L((()=>[P(V(e.value),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)),[[ge]]))),128))]})),_:1},512)])),_:1},8,["style","content-style","content-active-style","onScroll"])]})),_:1},512),[[z,M(d).featureInfo]])])),_:1},512)],2))}}),[["__scopeId","data-v-8730a0c2"]]),Wr={class:"buttons-box-left"},Jr={class:"buttons-box-right"},Qr={class:"jessibuca-btn"},Yr=f({name:"VcDemoJessibucaPlayer"}),Kr=Jo(f({...Yr,props:{url:String,error:String,hasAudio:{type:Boolean,default:!0}},setup(e){const t=e,o=w(),a=b(!1),r=b(!0),n=b(!1),s=b(!1),i=b(!1);b(0);const l=b(""),c=b(0);b(null),b(1),b(0),b(!0);const d=b(""),u=b(!1),p=b(null),m=b(null);let h={};const f=G();k((()=>{let e=t.url;const a=decodeURIComponent(o.params.url);T((()=>{g(),window.onresize=()=>{g()},void 0===e&&(e=a),v(e)}))})),C((()=>{h[f.uid]&&h[f.uid].destroy(),a.value=!1,i.value=!1,l.value=""})),Q((()=>t.url),(e=>{v(e)}));const g=()=>{let e=p.value,t=e.parentNode.clientWidth,o=9/16*t;const a=Math.min(document.body.clientHeight,document.documentElement.clientHeight);o>a&&(o=a,t=16/9*o),e.style.width=t+"px",e.style.height=o+"px"},v=e=>{Zt(`开始播放视频流：${e}`),h[f.uid]&&R(),x(),h[f.uid].on("play",(()=>{a.value=!0,i.value=!0,n.value=h[f.uid].quieting})),h[f.uid].hasLoaded()?h[f.uid].play(e):h[f.uid].on("load",(()=>{h[f.uid].play(e)}))},x=()=>{Zt(`hasAudio: ${t.hasAudio}`),h[f.uid]=new Jessibuca({container:p.value,videoBuffer:.2,isResize:!0,decoder:"/vue-cesium-demo/libs/jessibuca/decoder.js",useMSE:!0,useWCS:!0,showBandwidth:!1,isFlv:!1,loadingText:"加载中",hasAudio:t.hasAudio,debug:!1,supportDblclickFullscreen:!1,operateBtns:{fullscreen:!1,screenshot:!1,play:!1,audio:!1},forceNoOffscreen:u.value,isNotMute:r.value});let e=h[f.uid];e.on("load",(function(){})),e.on("log",(function(e){})),e.on("record",(function(e){})),e.on("pause",(function(){a.value=!1})),e.on("play",(function(){a.value=!0})),e.on("fullscreen",(function(e){s.value=e})),e.on("mute",(function(e){r.value=!e})),e.on("audioInfo",(function(e){})),e.on("videoInfo",(function(e){})),e.on("bps",(function(e){})),e.on("timeUpdate",(function(e){})),e.on("videoInfo",(function(e){})),e.on("error",(function(e){})),e.on("timeout",(function(){})),e.on("start",(function(){})),e.on("performance",(function(e){let t="卡顿";2===e?t="非常流畅":1===e&&(t="流畅"),l.value=t})),e.on("buffer",(function(e){})),e.on("stats",(function(e){})),e.on("kBps",(function(e){c.value=Math.round(e)})),e.on("videoFrame",(function(){})),e.on("metadata",(function(){}))},S=()=>{let e=L();h[f.uid].setFullscreen(!e),s.value=!e},L=()=>document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||!1,I=()=>{v(t.url)},P=()=>{h[f.uid]&&h[f.uid].pause(),a.value=!1,d.value="",l.value=""},R=()=>{h[f.uid]&&h[f.uid].destroy(),null==m.value&&p.value.appendChild(m.value),h[f.uid]=null,a.value=!1,l.value=""},j=()=>{h[f.uid]&&h[f.uid].screenshot("截图","png",.5)};return(e,t)=>(y(),_("div",{ref_key:"palyerContainerRef",ref:p,class:"jessibuca-player",onDblclick:S},[D("div",{id:"buttonsBox",ref_key:"buttonsBoxRef",ref:m,class:"buttons-box"},[D("div",Wr,[a.value?O("",!0):(y(),_("i",{key:0,class:"iconfont icon-play jessibuca-btn",onClick:I})),a.value?(y(),_("i",{key:1,class:"iconfont icon-pause jessibuca-btn",onClick:P})):O("",!0),D("i",{class:"iconfont icon-stop jessibuca-btn",onClick:R}),r.value?(y(),_("i",{key:2,class:"iconfont icon-audio-high jessibuca-btn",onClick:t[0]||(t[0]=e=>{h[f.uid]&&h[f.uid].mute()})})):O("",!0),r.value?O("",!0):(y(),_("i",{key:3,class:"iconfont icon-audio-mute jessibuca-btn",onClick:t[1]||(t[1]=e=>{h[f.uid]&&h[f.uid].cancelMute()})}))]),D("div",Jr,[D("span",Qr,V(c.value)+" kb/s",1),D("i",{class:"iconfont icon-camera1196054easyiconnet jessibuca-btn",style:{"font-size":"1rem !important"},onClick:j}),D("i",{class:"iconfont icon-shuaxin11 jessibuca-btn",onClick:I}),s.value?O("",!0):(y(),_("i",{key:0,class:"iconfont icon-weibiaoti10 jessibuca-btn",onClick:S})),s.value?(y(),_("i",{key:1,class:"iconfont icon-weibiaoti11 jessibuca-btn",onClick:S})):O("",!0)])],512)],544))}}),[["__scopeId","data-v-95207ea6"]]),Zr={class:"video-player-container"},Xr=f({name:"VcDemoDevicePlayerPanel"}),en=Jo(f({...Xr,setup(e){const t=b(null),o=Gn.system.useLayoutStore(),{global:a,dynamicRender:r}=Xe(o);Q(r,(e=>{T((()=>{var e,o;t.value&&(null==(o=(e=t.value).resizeListener)||o.call(e))}))}),{deep:!0});const n=()=>{o.toggleGlobalLayout({videoPlayer:!a.value.videoPlayer})};return(e,o)=>M(a).videoPlayer?(y(),_("div",{key:0,class:N(["device-player",M(r).datasource.workBench?"":"full-srceen"])},[I(M(Mr),{ref_key:"dragWrapperRef",ref:t},{default:L((()=>[I(Br,{class:"device-player-panel",title:e.$t("message.panel.videoPlayer"),"title-class":"drag-handle",onClose:n},{default:L((()=>[I(Le,null,{default:L((()=>[D("div",Zr,[I(Kr,{url:"https://sf1-hscdn-tos.pstatp.com/obj/media-fe/xgplayer_doc_video/flv/xgplayer-demo-720p.flv"})])])),_:1})])),_:1},8,["title"])])),_:1},512)],2)):O("",!0)}}),[["__scopeId","data-v-4dd6353c"]]),tn={class:"main-interaction"},on={class:"panel-wrapper"},an=f({name:"VcDemoInteraction"}),rn=Jo(f({...an,setup:e=>(S((()=>{const e=Gn.system.useThemeStore();return e.themeConfig[e.activeName]})),(e,t)=>(y(),_("div",tn,[D("div",on,[I($r),I(qr),I(en)])])))}),[["__scopeId","data-v-1c52f2d6"]]),nn={VcCollectionPrimitive:dt,VcCollectionBillboard:St,VcCollectionPoint:yt,VcCollectionPolyline:Tt,VcDatasourceGeojson:Lt,VcDatasourceCustom:It,VcOverlayDynamic:Pt,VcOverlayHeatmap:Vt,VcPrimitiveTileset:Dt,VcLayerImagery:Ot,VcImageryProviderWms:Rt,VcImageryProviderTencent:jt},sn=f({name:"RenderData",setup(e,t){const o=lt(),a=Gn.viewer.useRenderStore().renderDatas,r=Gn.viewer.useRenderStore().selectedRenderData,n=b(null);let s=!1;const{registerTimeout:i,removeTimeout:l}=ct(),{toggleGlobalLayout:c}=Gn.system.useLayoutStore(),{setMouseOverlayLabel:d,clearMouseOverlayLabel:u}=Gn.viewer.useOverlayStore();let p=!1;Q((()=>at.exports.cloneDeep(r)),((e,t)=>{var o,a,r;if(e.model){const c=e.feature,d=t.feature;if(!s&&c.properties.id!==(null==(o=null==d?void 0:d.properties)?void 0:o.id)){const t=e.model.position||[Number(null==(a=c.properties)?void 0:a.longitude),Number(null==(r=c.properties)?void 0:r.latitude)];e.model&&t&&!isNaN(t[0])&&(l(),i((()=>{n.value.position.value=Cesium.Cartesian3.fromDegrees(t[0],t[1]),n.value.animateAppear(),p=!0}),1500))}s=!1}else(p&&!s||!s&&n.value.selectedFeature.value)&&n.value.animateDepart(),p=!1}),{deep:!0});const m=e=>{var t,a,r,n;const{viewer:s}=o;s.canvas.setAttribute("style","cursor: pointer");const{defined:i,JulianDate:l,BoundingSphere:c,PointPrimitiveCollection:u,BillboardCollection:p,PolylineCollection:m,PrimitiveCollection:h,GeoJsonDataSource:f,CustomDataSource:g}=Cesium;let y,v="",b=[0,0];if(e.cesiumObject instanceof p||e.cesiumObject instanceof u){const o=e.pickedFeature.primitive,a=null==o?void 0:o.feature;i(a)&&(v=null==(t=a.properties)?void 0:t.name,y=o.position||e.surfacePosition,b=[16,16])}else if(e.cesiumObject instanceof m){const t=e.pickedFeature.primitive,o=null==t?void 0:t.feature;if(i(o)){v=null==(a=o.properties)?void 0:a.name;const e=t.positions;y=c.fromPoints(e).center,b=[16,16]}}else if(e.cesiumObject instanceof h){const t=null==(r=e.pickedFeature.primitive)?void 0:r._vcParent,o=null==t?void 0:t.feature;if(i(o)){v=null==(n=o.properties)?void 0:n.name;const e=t.positions.length?t.positions:t.polygonHierarchy.positions;y=c.fromPoints(e).center,b=[16,16]}}else if(e.cesiumObject instanceof g||e.cesiumObject instanceof f){const t=e.pickedFeature.id,o=null==t?void 0:t.feature;if(i(o)){const e=o.properties;v=null==e?void 0:e.name;let a,r;switch(null==e?void 0:e.actualRenderingType){case"label":case"point":case"billboard":case"model":y=t.position.getValue(l.now());break;case"polyline":r=t.polyline.positions.getValue(),a=c.fromPoints(r),y=a.center;break;case"polygon":r=t.polygon.hierarchy.getValue().positions,a=c.fromPoints(r),y=a.center;break;case"geojson":v=t.properties.dValue.getValue(),a=new Cesium.BoundingSphere,s.dataSourceDisplay.getBoundingSphere(t,!0,a),y=a.center}b=[16,16]}}v&&""!==v&&d({position:y,show:!0,text:v,pixelOffset:b})},h=e=>{const{viewer:t}=o;t.canvas.setAttribute("style","cursor: auto"),u()},f=e=>{const{viewer:t,vm:a}=o;e?"__Vc__Pick__Location__"!==e.id&&(s=!0,c({featureInfo:!1}),setTimeout((()=>{var o,r,n;const{defined:s,JulianDate:i,BoundingSphere:l}=Cesium,d=(null==(o=e.cesiumObject)?void 0:o.feature)||(null==(n=null==(r=e.cesiumObject)?void 0:r._vcParent)?void 0:n.feature);s(d)?T((()=>{var o,r;const{renderingType:n,actualRenderingType:s,datasetId:c,id:u,renderingApi:p}=d.properties;let m,h;po(s,c,d);const f=e.cesiumObject;switch(s){case"label":case"point":case"billboard":case"model":"primitive"===p?f.position:f.position.getValue(i.now());break;case"polyline":h="primitive"===p?f.positions:f.polyline.positions.getValue(),m=l.fromPoints(h),m.center;break;case"polygon":h="primitive"===p?null==(o=f._vcParent)?void 0:o.polygonHierarchy.positions:f.polygon.hierarchy.getValue().positions,m=l.fromPoints(h),m.center;break;case"geojson":m=new Cesium.BoundingSphere,t.dataSourceDisplay.getBoundingSphere(f,!0,m),m.center}a.vcMitt.emit("pickEvt",d.properties.id);(!Cesium.defined(null==(r=null==d?void 0:d.properties)?void 0:r.showBillboardMenu)||d.properties.showBillboardMenu)&&g()})):(uo(),c({featureInfo:!1,videoPlayer:!1}),a.vcMitt.emit("pickEvt",""))}),100)):(uo(),c({featureInfo:!1,videoPlayer:!1}),a.vcMitt.emit("pickEvt",""))},g=()=>{const e=r.feature;Cesium.defined(e)&&bo(e,r)};function y(e){this.cmpRef=e}const v=e=>{const t=[];return null==e||e.forEach((e=>{const o=nn[e.cmpName];o?t.push(j(o,{...e.props,ref:y.bind(e),onMouseover:m,onMouseout:h},(()=>v(null==e?void 0:e.children)))):Kt(`添加渲染数据集失败，原因：没要找到渲染组件名【${e.cmpName}】。`,"渲染集合数据模型：",e)})),t};return()=>{const e=[];return e.push(j(Et,{ref:n,onPickEvt:f})),a.forEach((t=>{null==t||t.datasets.forEach((t=>{const o=nn[t.cmpName];o?e.push(j(o,{...t.props,ref:y.bind(t),onMouseover:m,onMouseout:h},(()=>v(null==t?void 0:t.children)))):Kt(`添加渲染数据集失败，原因：没要找到渲染组件名【${t.cmpName}】。`,"渲染集合数据模型：",t)}))})),e}}}),ln={class:"vc-drawtip vc-tooltip--style"},cn=f({name:"VcDemoViewer"}),dn=f({...cn,emits:["viewerReady","cesiumReady","leftClick","destroyed"],setup(e,{emit:t}){const o={"en-US":Bt,"zh-CN":Mt},{locale:a}=W(),r=S((()=>o[a.value])),n=Gn.system.useThemeStore(),s=S((()=>n.themeConfig[n.activeName])),{toggleGlobalLayout:i}=Gn.system.useLayoutStore(),{registerTimeout:l}=ct(),c=b(null),d=b([0,75]),u=S((()=>({outerOptions:{icon:s.value.navigation.themeVcCompassOuterIcon,color:s.value.navigation.themeVcCompassOuterColor},innerOptions:{icon:s.value.navigation.themeVcCompassInnerIcon,color:s.value.navigation.themeVcCompassInnerColor,background:s.value.navigation.themeVcCompassInnerBackgroundColor},markerOptions:{color:s.value.global.themeColorAlpha},duration:5}))),p=S((()=>({background:s.value.navigation.themeVcZoomControlBackgroundColor,color:s.value.global.themeColor,border:`solid 1px ${s.value.commonPanel.themeCommonPanelListBorderColor}`,zoomInOptions:{color:s.value.global.themeColor},zoomOutOptions:{color:s.value.global.themeColor},zoomResetOptions:{color:s.value.global.themeColor}}))),m=S((()=>({color:s.value.global.themeColor,background:s.value.navigation.themeVcPrintBackgroundColor,round:!0}))),h=S((()=>({color:s.value.global.themeColor,background:s.value.navigation.themeVcPrintBackgroundColor,round:!0}))),f=S((()=>({position:"bottom-right",offset:[0,10],statusBarOpts:{color:s.value.global.themeColor,background:s.value.navigation.themeVcStatusBarBackgroundColor},distancelegendOpts:{color:s.value.global.themeColor,background:s.value.navigation.themeVcDistanceLegendBackgroundColor}}))),k=Gn.viewer.useOverlayStore().mouseOverNameOpts;Gn.viewer.useRenderStore().selectedRenderData;const C=S((()=>[...Gn.viewer.useLayerStore().baseLayers,...Gn.viewer.useLayerStore().overlayLayers])),w=S((()=>Gn.viewer.useLayerStore().terrainLayers)),x=e=>{t("viewerReady",e),i({header:!0}),l((()=>{i({content:!0})}),500)},T=e=>{t("cesiumReady",e)};return(e,t)=>{const o=g("vc-navigation"),a=g("vc-ajax-bar"),n=g("vc-overlay-html"),s=g("vc-viewer");return y(),v(M(_t),{locale:M(r),"cesium-path":M("https://unpkg.com/cesium@latest/Build/Cesium/Cesium.js"),"access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI5Y2U0ZTk2Ni1jNzdkLTQ3OWYtYjVmYS0yMGM3YTk3NjgzMmUiLCJpZCI6Njk5Nywic2NvcGVzIjpbImFzciIsImdjIl0sImlhdCI6MTU0ODA1MTc0OH0.Csy6yyAnv6JSBppH0Ou3ahshqcHFEhP27iOz5gjQMEo"},{default:L((()=>[I(s,{ref_key:"viewerRef",ref:c,class:"main-viewer",onReady:x,onCesiumReady:T},{default:L((()=>[I(o,{offset:d.value,"compass-opts":M(u),"zoom-opts":M(p),"print-opts":M(m),"location-opts":M(h),"other-opts":M(f)},null,8,["offset","compass-opts","zoom-opts","print-opts","location-opts","other-opts"]),I(a,{position:"bottom",color:"#21BA45",size:"3px",positioning:"fixed"}),I(M(sn)),(y(!0),_(A,null,F(M(C),((e,t)=>(y(),v(oe(e.component),K(Z({key:"layer"+t},e.props)),{default:L((()=>[(y(!0),_(A,null,F(null==e?void 0:e.children,((e,o)=>(y(),v(oe(e.component),K(Z({key:t+"_"+o},e.props)),null,16)))),128))])),_:2},1040)))),128)),(y(!0),_(A,null,F(M(w),((e,t)=>(y(),_(A,{key:"terrain"+t},[e.props.show?(y(),v(oe(e.component),K(Z({key:0},e.props)),null,16)):O("",!0)],64)))),128)),M(k).show?(y(),v(n,{key:0,position:M(k).position,"pixel-offset":M(k).pixelOffset},{default:L((()=>[D("div",ln,V(M(k).text),1)])),_:1},8,["position","pixel-offset"])):O("",!0),Y(e.$slots,"default")])),_:3},512)])),_:3},8,["locale","cesium-path"])}}}),un={key:0,elevated:"",class:"main-header-container text-h4 text-center text-white"},pn={key:1,class:"content"},mn=f({name:"VcDemoMainLayout"}),hn=Jo(f({...mn,setup(e){B((e=>({"0654bfc8":M(c).header.themeHeaderContentBackgroundColor,"4f97983f":M(c).menu.themeMenuColor,"58b2f04e":M(c).menu.themeMenuActiveColor,"26d3b3cb":M(c).menu.themeMenuActiveBackgroundColor})));const t=w(),o=Xe(Gn.system.useLayoutStore()).global,{active:a}=Xe(Gn.system.useGrayStore()),r=Gn.system.useMenuStore(),n=b(!1),s=S((()=>{const e=r.header;return e.length?e[0].children:[]})),i=S((()=>r.aside)),l=S((()=>t.name)),c=S((()=>{const e=Gn.system.useThemeStore();return e.themeConfig[e.activeName]}));return Q((()=>t.matched),(e=>{var t,o;if(e.length>1){const a=s.value.filter((t=>t.path===e[1].path));if(a.length){const e=null==(o=null==(t=a[0])?void 0:t.children)?void 0:o.filter((e=>10===e.type));(null==e?void 0:e.length)?r.asideSet(e):r.asideSet([])}else r.asideSet([])}}),{immediate:!0}),k((()=>{Gn.system.useAccountStore().load(),Gn.system.useFullscreenStore().listen(),window.onunhandledrejection=e=>{Gn.system.useLogStore(Fn).push({message:at.exports.get(e,"reason.message","Unknown error"),type:"danger",meta:{error:at.exports.get(e,"reason"),trace:at.exports.get(e,"reason.stack")}})},window.onerror=(e,t,o,a,r)=>{Gn.system.useLogStore(Fn).push({message:at.exports.get(r,"message","Unknown error"),type:"danger",meta:{error:r,trace:at.exports.get(r,"stack"),source:`${t}@${o}:${a}`,event:e}})}})),(e,t)=>{const r=g("router-view");return y(),v($e,{view:"hHh Lpr fFf",class:N(["main-layout",{"gray-mode":M(a)}])},{default:L((()=>{var a;return[(null==(a=M(i))?void 0:a.length)&&M(o).header?(y(),v(Ue,{key:0,modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),"show-if-above":"",width:180,breakpoint:500,bordered:"",mini:M(o).leftDrawerMini},{default:L((()=>[I(ue,{class:"drawer-menu-list"},{default:L((()=>[(y(!0),_(A,null,F(M(i),((t,a)=>(y(),_(A,{key:a},[E((y(),v(ye,{clickable:"","active-class":"menu-active-item",active:t.name===M(l),onClick:o=>e.$router.push(t.path)},{default:L((()=>[I(pe,{avatar:""},{default:L((()=>[I(he,{name:t.icon},null,8,["name"])])),_:2},1024),I(pe,null,{default:L((()=>[P(V(e.$t(t.title)||t.caption),1)])),_:2},1024),M(o).leftDrawerMini?(y(),v(le,{key:0,"transition-show":"scale","transition-hide":"scale",anchor:"center right",self:"center left"},{default:L((()=>[P(V(e.$t(t.title)||t.caption),1)])),_:2},1024)):O("",!0)])),_:2},1032,["active","onClick"])),[[ge]]),t.separator?(y(),v(Ge,{key:"sep"+a})):O("",!0)],64)))),128))])),_:1})])),_:1},8,["modelValue","mini"])):O("",!0),I(We,{class:"no-padding"},{default:L((()=>[I(qe,{class:"interaction-root"},{default:L((()=>[I(dn,null,{default:L((()=>[M(o).header?(y(),_("header",un,[I(Rr)])):O("",!0),M(o).content?(y(),_("div",pn,[I(rn),I(r)])):O("",!0)])),_:1})])),_:1})])),_:1})]})),_:1},8,["class"])}}}),[["__scopeId","data-v-1b973d5e"]]),fn=Object.freeze(Object.defineProperty({__proto__:null,default:hn},Symbol.toStringTag,{value:"Module"})),gn=ko([]);ko([]);const yn={theme:{list:[{title:"经典",name:"classic",preview:"images/theme/classic/preview@2x.png"},{title:"Element",name:"element",preview:"images/theme/element/preview@2x.png"}]},menu:{asideCollapse:!1,asideTransition:!0},hotkey:{search:{open:"s",close:"esc"}},transition:{active:!0}},vn=Ze("menu",{state:()=>({header:[],aside:[],asideCollapse:yn.menu.asideCollapse,asideTransition:yn.menu.asideTransition,moduleHeader:[]}),getters:{},actions:{async asideCollapseSet(e){this.asideCollapse=e;qo().set({dbName:"sys",path:"menu.asideCollapse",value:String(this.asideCollapse),user:!0})},async asideCollapseToggle(){this.asideCollapse=!this.asideCollapse;qo().set({dbName:"sys",path:"menu.asideCollapse",value:String(this.asideCollapse),user:!0})},async asideTransitionSet(e){this.asideTransition=e;qo().set({dbName:"sys",path:"menu.asideTransition",value:String(this.asideTransition),user:!0})},async asideTransitionToggle(){this.asideTransition=!this.asideTransition;qo().set({dbName:"sys",path:"menu.asideTransition",value:String(this.asideTransition),user:!0})},async asideLoad(){qo().get({dbName:"sys",path:"menu",defaultValue:String(yn.menu),user:!0})},headerSet(e){this.header=e},asideSet(e){this.aside=e},clear(){this.header=[],this.aside=[]},moduleHeaderSet(e){this.moduleHeader=e}}}),bn=Ze("search",{state:()=>({active:!1,hotkey:{open:yn.hotkey.search.open,close:yn.hotkey.search.close},pool:[]}),actions:{toggle(){this.active=!this.active},set(e){this.active=e},init(e){const t=[],o=function(e,a=[]){e.forEach((e=>{e.children?o(e.children,[...a,e.title]):t.push({...e,fullTitle:[...a,e.title].join(" / ")})}))};o(e),this.pool=t}}}),kn=[...gn];const Cn=Object.assign({"../../pages/dynamic-render/Index.vue":Yo,"../../pages/dynamic-render/historical-track/Index.vue":Xo,"../../pages/dynamic-render/recursive-list/Index.vue":ya,"../../pages/dynamic-render/recursive-list/work-bench/Index.vue":ma,"../../pages/dynamic-render/stack/Index.vue":Sa,"../../pages/expansion/Index.vue":La,"../../pages/expansion/typhoon/Index.vue":Oa,"../../pages/index/Index.vue":Ba,"../../pages/other/Index.vue":za,"../../pages/other/tsx/Index.vue":$a,"../../pages/system/Error404.vue":Ya,"../../pages/system/Login.vue":rr,"../../pages/test/on-demand/Index.vue":sr});function _n(e,t){return null==e&&(e={path:"/",children:[]}),t.forEach((t=>{let o=e;if(20!==t.type&&(null!=(a=t.component)&&""!==a)){let a=null;a="MainLayout"===t.component?hn:(e=>{const t=Cn[`../../pages${e}/Index.vue`];if(t)return t.default;Yt(`动态路由页面【${e}】加载失败。请检查页面文件是否存在。`)})(t.path);const r=e.children;o={path:t.path,name:t.name,component:a,meta:{title:t.title,auth:!0,cache:!0}},t.redirect&&(o.redirect=t.redirect),r.push(o)}var a;null!=t.children&&t.children.length>0&&(null==o.children&&(o.children=[]),_n(o,t.children))})),e.children}function wn(e,t){return null==e&&(e=[]),e.forEach((e=>{null!=e.permission&&""!==e.permission&&t.push(e.permission),null!=e.children&&e.children.length>0&&wn(e.children,t)})),t}function xn(e){null==e&&(e=[]);let t=[];return e.forEach((e=>{if(10!==e.type)return;let o,a;null!=e.children&&e.children.length>0&&(o=xn(e.children)),null!=e.icon&&""!==e.icon&&(a=e.icon),t.push({icon:a,children:o,...e})})),0===t.length&&(t=void 0),t}const Sn=Ze("permission",{state:()=>({routes:[],addRoutes:[],permissions:[],inited:!1}),getters:{},actions:{setRoutes({accessedRoutes:e,permissions:t}){this.addRoutes=e,this.routes=Qt.concat(e),this.inited=!0,this.permissions=t},clear(){this.addRoutes=[],this.routes=[],this.inited=!1,this.permissions=[]},generateRoutes({menuTree:e}){return new Promise((t=>{const o=_n(null,e),a=wn(e,[]);this.setRoutes({accessedRoutes:o,permissions:a}),o.forEach((e=>{"layout"===e.name&&"/"===e.path&&(e.children=e.children.concat(Jt[0].children)),Fo.addRoute(e)}));const r=ko(xn(e));gn.splice(0,gn.length),gn.push(...kn),gn.push(...r);vn().headerSet(gn);bn().init(gn),t(!0)}))},async getAccessibleMenus({state:e,dispatch:t}){}}}),Tn=Ze("gray",{state:()=>({active:!1}),getters:{},actions:{toggle(){this.active=!this.active},set(e){this.active=e}}}),Ln={themeName:"classic",global:{themeBGColor:"#ebf1f6",themeBGMaskColor:"rgba(0, 0, 0, 0)",themeColor:"#cbe1e5",themeColorAlpha:"rgba(255, 255, 255, 0.6)",themeColorActive:"#fff",themeScrollTopBackgroundColor:"rgba(0, 0, 0, 0)",themeQInputColor:"#fff",themeQInputBorderColor:"#fff9",themeQCheckboxTruthyColor:"#1976d2",themeQMenuColor:"#fff",themeQMenuBackgroundColor:"rgba(0, 68, 82, 0.6)",themeQCardColor:"#fff",themeQCardHeaderBackgroundColor:"rgba(0, 101, 122, 0.5)",themeQCardBackgroundColor:"rgba(0, 68, 82, 0.6)",themeQScrollAreaColor:"#fff"},header:{themeHeaderColor:"#cbe1e5",themeHeaderTitleColor:"#fff",themeHeaderLogoBackgroundColor:"rgba(255, 255, 255, 0)",themeHeaderBackgroundColor:"rgba(29, 29, 29, 0)",themeHeaderContentBackgroundColor:"rgba(0, 68, 82, 0.6)"},commonPanel:{themeCommonPanelHeaderColor:"#fff",themeCommonPanelHeaderBackgroundColor:"rgba(0, 101, 122, 0.8)",themeCommonPanelContentColor:"#fff",themeCommonPanelContentBackgroundColor:"rgba(0, 68, 82, 0.6)",themeCommonPanelListColor:"#fff",themeCommonPanelListBorderColor:"rgba(255, 255, 255, 0.278)"},navigation:{themeVcCompassOuterIcon:"svguse:#vc-icons-compass-outer",themeVcCompassOuterColor:"rgba(0, 68, 82)",themeVcCompassInnerIcon:"fa fa-compass",themeVcCompassInnerColor:"rgba(255, 255, 255, 0.7)",themeVcCompassInnerBackgroundColor:"rgba(0, 68, 82, 0.6)",themeVcZoomControlBackgroundColor:"rgba(0, 68, 82, 0.6)",themeVcPrintBackgroundColor:"rgba(0, 68, 82, 0.6)",themeVcStatusBarBackgroundColor:"rgba(0, 68, 82, 0.8)",themeVcDistanceLegendBackgroundColor:"rgba(0, 68, 82, 0.8)"},pageLogin:{themePageLoginColor:"#fff",themePageLoginBackground:"rgba(29,29,29, 0.5)"},menu:{themeMenuColor:"#cbe1e5",themeMenuActiveColor:"#fff",themeMenuActiveBackgroundColor:"#F2C037"}},In={themeName:"element",global:{themeBGColor:"#314255",themeBGMaskColor:"rgba(0, 0, 0, 0)",themeColor:"#bfcbd9",themeColorAlpha:"rgba(70, 160, 252, 0.6)",themeColorActive:"#46a0fc",themeScrollTopBackgroundColor:"rgba(0, 0, 0, 0)",themeQInputColor:"#bfcbd9",themeQInputBorderColor:"#fff9",themeQCheckboxTruthyColor:"#46a0fc",themeQMenuColor:"#bfcbd9",themeQMenuBackgroundColor:"rgba(29, 29, 29, 0.6)",themeQCardColor:"#bfcbd9",themeQCardHeaderBackgroundColor:"rgba(49, 66, 85, 0.5)",themeQCardBackgroundColor:"rgba(29, 29, 29, 0.6)",themeQScrollAreaColor:"#46a0fc"},header:{themeHeaderColor:"#bfcbd9",themeHeaderTitleColor:"#bfcbd9",themeHeaderLogoBackgroundColor:"#314255",themeHeaderBackgroundColor:"#202d3d",themeHeaderContentBackgroundColor:"#314255"},commonPanel:{themeCommonPanelHeaderColor:"#bfcbd9",themeCommonPanelHeaderBackgroundColor:"rgba(49, 66, 85, 0.8)",themeCommonPanelContentColor:"#bfcbd9",themeCommonPanelContentBackgroundColor:"rgba(32, 45, 61, 0.6)",themeCommonPanelListColor:"#bfcbd9",themeCommonPanelListBorderColor:"rgba(255, 255, 255, 0.278)"},navigation:{themeVcCompassOuterIcon:"fa fa-circle-o-notch",themeVcCompassOuterColor:"rgb(49, 66, 85)",themeVcCompassInnerIcon:"fa fa-circle",themeVcCompassInnerColor:"rgba(49, 66, 85, 0.7)",themeVcCompassInnerBackgroundColor:"rgba(49, 66, 85, 0.6)",themeVcZoomControlBackgroundColor:"rgba(49, 66, 85, 0.6)",themeVcPrintBackgroundColor:"rgba(49, 66, 85, 0.6)",themeVcStatusBarBackgroundColor:"rgba(49, 66, 85, 0.8)",themeVcDistanceLegendBackgroundColor:"rgba(49, 66, 85, 0.8)"},pageLogin:{themePageLoginColor:"#bfcbd9",themePageLoginBackground:"rgba(32, 45, 61, 0.5)"},menu:{themeMenuColor:"#bfcbd9",themeMenuActiveColor:"#bfcbd9",themeMenuActiveBackgroundColor:"#F2C037"}};let Pn="";const Vn=Ze("theme",{state:()=>({list:at.exports.get(yn,"theme.list",[]),activeName:at.exports.get(yn,"theme.list[0].name","h2o"),themeConfig:{classic:Ln,element:In}}),getters:{activeSetting:e=>e.list.find((t=>t.name===e.activeName))},actions:{dom(){const e=`theme-${Pn}`,t=`theme-${this.activeName}`;document.body.className.includes(e)?document.body.className=document.body.className.replace(e,t):document.body.className+=" "+t;const o=this.themeConfig[this.activeName];Object.keys(o.global).forEach((e=>{document.body.style.setProperty(`--${e}`,o.global[e])}))},async set(e){Pn=this.activeName,this.activeName=this.list.find((t=>t.name===e))?e:this.list[0].name,this.dom();qo().set({dbName:"sys",path:"theme.activeName",value:this.activeName,user:!0})},async load(){Pn=this.activeName;const e=qo(),t=e.get({dbName:"sys",path:"theme.activeName",defaultValue:this.list[0].name,user:!0});this.list.find((e=>e.name===t))?this.activeName=t:(this.activeName=this.list[0].name,e.set({dbName:"sys",path:"theme.activeName",value:this.activeName,user:!0})),this.dom()}}}),Dn=Ze("transition",{state:()=>({active:yn.transition.active}),actions:{async set(e){this.active=e;qo().set({dbName:"sys",path:"transition.active",value:String(this.active),user:!0})},async load(){const e=qo();this.active=e.get({dbName:"sys",path:"transition.active",defaultValue:String(yn.transition.active),user:!0})}}}),On=Ze("account",{state:()=>({}),getters:{},actions:{async login(e){const t=(await Bo.login(e)).data;At("token",t.token),At("uuid",t.id);Wo().set({...t}),this.load()},logout:({confirm:e=!1}={})=>new Promise(((t,o)=>{async function a(){Gt("token"),Gt("uuid");Wo().set({});Sn().clear();vn().clear(),Fo.push({name:"login"}),t(!0)}if(e){const e=Tn();e.set(!0),Je.create({title:"注销用户",message:"确定要注销当前用户吗？",cancel:!0}).onOk((()=>{e.set(!1),a()})).onCancel((()=>{e.set(!1),se.create({message:"取消注销操作"}),t(!1)}))}else a()})),async load(){Wo().load();Vn().load();Dn().load();vn().asideLoad()}}}),Rn=Ze("fullscreen",{state:()=>({active:!1}),getters:{},actions:{listen(){const e=this;ae.isEnabled&&ae.on("change",(()=>{ae.isFullscreen||(e.active=!1)}))},toggle(){ae.isFullscreen?(ae.exit(),this.active=!1):(ae.request(),this.active=!0)}}}),jn=Ze("layout",{state:()=>({global:{header:!1,leftDrawerMini:!0,content:!1,footer:!1,layerManager:!1,navigation:!1,featureInfo:!1,videoPlayer:!1},dynamicRender:{datasource:{workBench:!1}}}),getters:{},actions:{toggleGlobalLayout(e){Object.keys(e).forEach((t=>{at.exports.isBoolean(e[t])&&(this.global[t]=e[t])}))},toggleDynamicRenderPageLayout(e){const t=(e,o)=>{Object.keys(e).forEach((a=>{s(e[a])?t(e[a],o[a]):at.exports.isBoolean(e[a])&&(o[a]=e[a])}))};t(e,this.dynamicRender)}}}),En=Ze("log",{state:()=>({log:[]}),getters:{length:e=>e.log.length,lengthError:e=>e.log.filter((e=>"danger"===e.type)).length},actions:{push({message:e,type:t="info",meta:o}){this.log.push({message:e,type:t,time:Qe.formatDate(Date.now(),"YYYY-MM-DD HH:mm:ss"),meta:{uuid:Ft("uuid"),token:Ft("token"),url:at.exports.get(window,"location.href",""),...o}})},clean(){this.log=[]}}}),Bn={useAccountStore:e=>On(e),useDBStore:e=>qo(e),useFullscreenStore:e=>Rn(e),useGrayStore:e=>Tn(e),useLayoutStore:e=>jn(e),useLogStore:e=>En(e),useMenuStore:e=>vn(e),usePermissionStore:e=>Sn(e),useSearchStore:e=>bn(e),useThemeStore:e=>Vn(e),useTransitionStore:e=>Dn(e),useUserStore:e=>Wo(e)},Mn=Ze("layer",{state:()=>({baseLayers:[{name:"tianditu_img",text:"天地图影像",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderTianditu",props:{mapStyle:"img_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}}]},{name:"tianditu_vec",text:"天地图街道",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderTianditu",props:{mapStyle:"vec_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}}]},{name:"baidu_img",text:"百度影像",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderBaidu",props:{mapStyle:"img",projectionTransforms:{from:"BD09",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"baidu_vec",text:"百度街道",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderBaidu",props:{mapStyle:"vec",projectionTransforms:{from:"BD09",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"baidu_midnight",text:"百度街道_午夜蓝",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderBaidu",props:{mapStyle:"midnight",projectionTransforms:{from:"BD09",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"baidu_dark",text:"百度街道_黑夜",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderBaidu",props:{mapStyle:"dark",projectionTransforms:{from:"BD09",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"amap_img",text:"高德影像",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderAmap",props:{mapStyle:"6",projectionTransforms:{from:"GCJ02",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"amap_vec",text:"高德街道",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderAmap",props:{mapStyle:"7",projectionTransforms:{from:"GCJ02",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"tencent_img",text:"腾讯影像",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderTencent",props:{mapStyle:"img",projectionTransforms:{from:"GCJ02",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"tencent_vector",text:"腾讯街道",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderTencent",props:{mapStyle:"vector",projectionTransforms:{from:"GCJ02",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"tencent_vector_my",text:"腾讯街道_墨渊",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderTencent",props:{mapStyle:"vector",styleId:"4",projectionTransforms:{from:"GCJ02",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"osm",text:"OSM",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderOsm"}]},{name:"arcgis",text:"ArcGIS",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},children:[{component:"VcImageryProviderArcgis"}]}],overlayLayers:[{name:"tianditu_cva",text:"天地图注记",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:30,show:!1},children:[{component:"VcImageryProviderTianditu",props:{mapStyle:"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}}]},{name:"amap_label",text:"高德注记",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:30,show:!1},children:[{component:"VcImageryProviderAmap",props:{mapStyle:"8",ltype:"4",minimumLevel:0,maximumLevel:17,projectionTransforms:{from:"GCJ02",to:"WGS84"}}}]},{name:"amap_traffictile",text:"高德路况",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:30,show:!1},children:[{component:"VcImageryProviderAmap",props:{url:"/traffictile?v=1.0&x={x}&y={y}&z={z}&t=1",minimumLevel:0,maximumLevel:17,projectionTransforms:{from:"GCJ02",to:"WGS84"}}}]},{name:"baidu_traffic",text:"百度路况",component:"VcLayerImagery",props:{alpha:1,brightness:1,contrast:1,sortOrder:30,show:!1},children:[{component:"VcImageryProviderBaidu",props:{mapStyle:"traffic",projectionTransforms:{from:"BD09",to:"WGS84"},minimumLevel:0,maximumLevel:17}}]},{name:"admin",text:"行政区划",component:"VcDatasourceGeojson",props:{strokeWidth:5,stroke:"#ffc107",fill:"transparent",show:!1,data:"/vue-cesium-demo/datas/china.json"},children:[]}],terrainLayers:[{name:"terrain",text:"全球地形",component:"VcTerrainProviderCesium",props:{show:!1}},{name:"null",text:"不显示地形",component:void 0,props:{show:!1}}]}),getters:{},actions:{toggle({names:e,show:t}){const o=[...this.baseLayers,...this.overlayLayers,...this.terrainLayers];(e=Array.isArray(e)?e:[e]).forEach((e=>{var a;const r=at.exports.find(o,(t=>t.name===e));!at.exports.isUndefined(null==r?void 0:r.show)&&(r.show=t),!at.exports.isUndefined(null==(a=null==r?void 0:r.props)?void 0:a.show)&&(r.props.show=t)}))},loadDefaultLayers(e){const t=[...this.baseLayers,...this.overlayLayers,...this.terrainLayers].map((e=>e.name));this.toggle({names:t,show:!1});this.toggle({names:["tianditu_img","admin"],show:!0})}}}),zn=Ze("overlay",{state:()=>({mouseOverNameOpts:{position:[117.186419,45.66446,20],show:!1,text:"",pixelOffset:[0,0]}}),getters:{},actions:{setMouseOverlayLabel({position:e,show:t,text:o,pixelOffset:a}){this.mouseOverNameOpts.position=e,this.mouseOverNameOpts.show=t,this.mouseOverNameOpts.text=o,this.mouseOverNameOpts.pixelOffset=a},clearMouseOverlayLabel(){this.mouseOverNameOpts.position=void 0,this.mouseOverNameOpts.show=!1,this.mouseOverNameOpts.text=void 0}}}),Nn=Ze("render",{state:()=>({renderDatas:[],selectedRenderData:{model:void 0,renderingType:void 0,restoreHandlers:[],feature:void 0,featureInfoListItems:[]}}),getters:{},actions:{addRenderDatas(e){(e=Array.isArray(e)?e:[e]).forEach((e=>{-1===at.exports.findIndex(this.renderDatas,(t=>t.id===e.id))?this.renderDatas.push(e):Kt(`添加渲染数据集失败，原因：id 为【${e.id} 】的数据已经存在。`,"渲染数据模型：",e)}))},removeRenderDataById(e){at.exports.remove(this.renderDatas,(t=>t.id===e))},removeRenderDataByType(e){at.exports.remove(this.renderDatas,(t=>t.type===e))},removeRenderDataByPage(e){at.exports.remove(this.renderDatas,(t=>t.page===e))},removeAllRenderData(){this.renderDatas.length=0},setSelectedRenderData(e,t){this.selectedRenderData.model=e.model,this.selectedRenderData.renderingType=e.renderingType,this.selectedRenderData.feature=e.feature,this.selectedRenderData.featureInfoListItems=e.featureInfoListItems,t?this.selectedRenderData.restoreHandlers=[]:this.selectedRenderData.restoreHandlers.push(...e.restoreHandlers)},getRenderDataByDatasetId(e){return at.exports.find(this.renderDatas,(t=>t.id===e))}}}),An={useLayerStore:e=>Mn(e),useOverlayStore:e=>zn(e),useRenderStore:e=>Nn(e)},Fn=et(),Gn={system:{...Bn},viewer:{...An}};const Hn=re(Jo({},[["render",function(e,t){const o=g("router-view");return y(),v(o)}]]));Hn.use(Ye,{plugins:{Notify:se,Dialog:Je,LocalStorage:ne},lang:Ke}),Hn.use(Ao),Hn.use(zt),Hn.use(Fn),Hn.use(Fo),Hn.mount("#app");
