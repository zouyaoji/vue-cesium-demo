var ct=Object.defineProperty,dt=Object.defineProperties;var mt=Object.getOwnPropertyDescriptors;var Ce=Object.getOwnPropertySymbols;var pt=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable;var Fe=(e,t,s)=>t in e?ct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,M=(e,t)=>{for(var s in t||(t={}))pt.call(t,s)&&Fe(e,s,t[s]);if(Ce)for(var s of Ce(t))ft.call(t,s)&&Fe(e,s,t[s]);return e},ue=(e,t)=>dt(e,mt(t));import{y as ke,z as g,A as gt,B as _t,C as X,D as yt,E as ht,N as Le,F as vt,L as bt,G as wt,H as I,I as xt,J as d,K as h,d as v,j as le,M as m,O as u,P as D,Q as Et,r as k,R as l,S as $t,U as Ct,a as Ft,b as w,V as y,W as E,X as $,Y as p,w as P,Z as B,_ as kt,$ as Lt,a0 as j,a1 as A,a2 as St,a3 as Z,a4 as ie,a5 as ce,a6 as Se,g as Dt,a7 as ee,o as Bt,h as At,a8 as Ot,f as Tt,n as Mt,a9 as De,aa as zt,ab as Q,ac as Be,ad as Rt,ae as Vt,af as Nt,c as It,ag as Pt}from"./vendor.13e4d89c.js";import{P as te,N as q,D as Ae,Q as C,u as jt,a as Qt,b as Oe,c as de,d as z,e as Te,f as Me,g as U,h as me,i as R,j as pe,C as se,k as ze,l as qt,m as Ut,n as Re,o as Wt,p as Ht,q as Gt,r as Yt,s as Jt,t as Kt,v as fe,w as Xt,x as Ve,y as Zt,z as es,A as ts,B as ss,E as as}from"./vendor-quasar.f8b273d0.js";const os=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}};os();const ge="VueCesiumDemo";function Ne(e="default",t=""){te.set(`${ge}-0.0.0-${e}`,t)}function W(e="default"){return te.getItem(`${ge}-0.0.0-${e}`)}function H(e="default"){te.remove(`${ge}-0.0.0-${e}`)}const rs="modulepreload",Ie={},ns="./",_e=function(t,s){return!s||s.length===0?t():Promise.all(s.map(a=>{if(a=`${ns}${a}`,a in Ie)return;Ie[a]=!0;const o=a.endsWith(".css"),n=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${n}`))return;const r=document.createElement("link");if(r.rel=o?"stylesheet":rs,o||(r.as="script",r.crossOrigin=""),r.href=a,document.head.appendChild(r),o)return new Promise((i,c)=>{r.addEventListener("load",i),r.addEventListener("error",c)})})).then(()=>t())},Pe=[{path:"/",name:"layout",component:()=>_e(()=>Promise.resolve().then(function(){return so}),void 0),redirect:{path:"index"},children:[{name:"login",path:"/login",component:()=>_e(()=>Promise.resolve().then(function(){return Ze}),void 0)}]}],us=[{path:"/:catchAll(.*)*",name:"404",component:()=>_e(()=>Promise.resolve().then(function(){return Xe}),void 0)}],ls=Pe;var je=[...Pe,...us];function ye(e,t){L.commit("viewer/layer/toggle",{names:e,show:t})}function Qe(e){L.dispatch("viewer/layer/loadDefaultLayers",e)}function J(e){L.commit("system/layout/toggleGlobalLayout",e)}function is(e){L.commit("system/layout/toggleIndexPageLayout",e)}const qe="VueCesiumDemo";function cs(e="default"){let t="";switch(e){case"default":t="#35495E";break;case"primary":t="#3488ff";break;case"success":t="#43B883";break;case"warning":t="#e6a23c";break;case"danger":t="#f56c6c";break}return t}function ds(e,t,s="primary"){console.log(`%c ${e} %c ${t} %c`,"background:#35495E; padding: 1px; border-radius: 3px 0 0 3px; color: #fff;",`background:${cs(s)}; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff;`,"background:transparent")}const ms=(e="")=>function(...t){e&&(ke(t[0])?t[0]=e.trim()+" "+t[0]:t=[e.trim(),...t]);const s=t.shift(),a=new Error(s);console.warn(a.stack,...t),L.dispatch("system/log/push",{message:"\u4E1A\u52A1\u903B\u8F91\u8B66\u544A",type:"warning",meta:{error:a}}),q.create({message:s,timeout:3e3,type:"warning"})},ps=(e="")=>function(...t){e&&(ke(t[0])?t[0]=e.trim()+" "+t[0]:t=[e.trim(),...t]);const s=t.shift(),a=new Error(s);console.error(a.stack,...t),L.dispatch("system/log/push",{message:"\u4E1A\u52A1\u903B\u8F91\u5F02\u5E38",type:"danger",meta:{error:a}}),q.create({message:s,timeout:3e3,type:"negative"})},fs=ms(`[${qe}] WARN `),Ue=ps(`[${qe}] ERR `);function gs(){L.commit("viewer/render/removeAllRenderData")}function _s(e){const t="VueCesium Demo";window.document.title=`${t}${e?` | ${e}`:""}`}function ae(e){return e.map(t=>M(ue(M({},t),{path:t.path||g.exports.uniqueId("vc-menu-empty-")}),t.children?{children:ae(t.children)}:{}))}function ys(e="{}",t={}){let s=t;try{s=JSON.parse(e)}catch(a){Ue(a)}return s}function he(e={},t="",s=0){return[200,{code:s,msg:t,data:e}]}function hs(e={},t="\u6210\u529F"){return he(e,t)}function vs(e={},t="\u8BF7\u6C42\u5931\u8D25",s=500){return he(e,t,s)}function oe(e){L.dispatch("system/log/push",{message:"\u6570\u636E\u8BF7\u6C42\u5F02\u5E38",type:"danger",meta:{error:e}}),q.create({message:e.message,type:"negative",timeout:3*1e3})}function ve(e){const t=new Error(e);throw oe(t),t}var bs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",parse:ys,response:he,responseSuccess:hs,responseError:vs,errorLog:oe,errorCreate:ve});const We=()=>{const e=_t.create({});return e.interceptors.request.use(t=>t,t=>(oe(t),Promise.reject(t))),e.interceptors.response.use(t=>{const s=t.data,{code:a}=s;if(a===void 0)return s;switch(a){case 0:return s;case 200:return s;case"xxx":ve(`[ code: xxx ] ${s.msg}: ${t.config.url}`);break;default:return ve(`${s.msg}: ${t.config.url}`),Promise.reject(s)}},t=>{switch(g.exports.get(t,"response.status")){case 400:t.message="\u8BF7\u6C42\u9519\u8BEF";break;case 401:t.message="\u672A\u6388\u6743\uFF0C\u8BF7\u767B\u5F55",H("token"),H("uuid"),V.push("/login");break;case 403:t.message="\u62D2\u7EDD\u8BBF\u95EE";break;case 404:t.message=`\u8BF7\u6C42\u5730\u5740\u51FA\u9519: ${t.response.config.url}`;break;case 408:t.message="\u8BF7\u6C42\u8D85\u65F6";break;case 500:t.message="\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF";break;case 501:t.message="\u670D\u52A1\u672A\u5B9E\u73B0";break;case 502:t.message="\u7F51\u5173\u9519\u8BEF";break;case 503:t.message="\u670D\u52A1\u4E0D\u53EF\u7528";break;case 504:t.message="\u7F51\u5173\u8D85\u65F6";break;case 505:t.message="HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301";break}return oe(t),Promise.reject(t)}),e};function He(e){return function(t){const s=W("token"),a={headers:{Authorization:s,"Content-Type":g.exports.get(t,"headers.Content-Type","application/json")},timeout:2e4,baseURL:e.baseURL||"/",data:{}};return s&&(a.headers.Authorization="Bearer "+s),e(Object.assign(a,t))}}const Ge=We(),ws=He(Ge),be=We(),xs=He(be),Es=new gt(be),Ye=[{username:"admin",password:"admin",id:"admin-uuid",name:"Admin"},{username:"editor",password:"editor",id:"editor-uuid",name:"Editor"}],$s=[{id:X.datatype.uuid(),component:"MainLayout",icon:"cog",islock:!1,hidden:!1,name:"layout",path:"/",permission:"",sort:1e3,title:"VueCesiumDemo",type:10,children:[{id:X.datatype.uuid(),component:"/index",icon:"cog",islock:!1,hidden:!1,name:"index",path:"/index",permission:"permission-index",sort:1e3,caption:"\u9996\u9875",title:"message.header.index",type:10,children:[{id:X.datatype.uuid(),component:"",icon:"eye",islock:!1,hidden:!1,name:"left-panel",path:"",permission:"permission-left-panel-view",sort:100101,title:"\u67E5\u770B\u5DE6\u4FA7\u9762\u677F",type:20}]},{id:X.datatype.uuid(),component:"/demo",icon:"cog",islock:!1,hidden:!1,name:"demo",path:"/demo",permission:"permission-demo",sort:1e3,caption:"\u793A\u4F8B",title:"message.header.demo",type:10,children:[]}]}];var Cs=({service:e,request:t,serviceForMock:s,requestForMock:a,mock:o,faker:n,tools:r})=>({login(i={}){return o.onAny("/auth/login").reply(c=>{const f=r.parse(c.data),b=g.exports.find(Ye,{username:f.username,password:f.password});return b?r.responseSuccess(g.exports.assign({},b,{token:"f5befe1a-962c-4cdd-bf45-77ce306dbbce"})):r.responseError({},"\u8D26\u53F7\u6216\u5BC6\u7801\u4E0D\u6B63\u786E")}),a({url:"/auth/login",method:"post",data:i})},getUserInfo(){return o.onAny("/user/info").reply(i=>{const c=W("uuid"),f=g.exports.find(Ye,{id:c});return f?r.responseSuccess(g.exports.assign({},f)):(H("token"),H("uuid"),V.push("/login"),r.responseError({},"\u672A\u6388\u6743, \u8BF7\u767B\u5F55!"))}),a({url:"/user/info",method:"post"})},getAccessibleMenus(i={}){return o.onAny("/api/menu/accessible").reply(c=>r.responseSuccess($s)),a({url:"/api/menu/accessible",method:"post",data:i})}});const Fs={service:Ge,request:ws,serviceForMock:be,requestForMock:xs,mock:Es,faker:yt,tools:bs},we=Cs(Fs),ks=vt,V=ht({scrollBehavior:()=>({left:0,top:0}),routes:je,history:ks("./")}),Je=["/login","/404"];V.beforeEach(async(e,t,s)=>{Le.start(),L.commit("system/search/set",!1);const a=W("token");if(e.path!=="/login"&&we.getUserInfo(),a)try{if(!L.getters["system/permission/inited"]){const r=[...(await we.getAccessibleMenus()).data];await L.dispatch("system/permission/generateRoutes",{menuTree:r},{root:!0}),s(e.path);return}e.path==="/login"?s({path:"/index"}):s()}catch{Je.indexOf(e.path)!==-1?s():s("/login")}else Je.indexOf(e.path)!==-1?s():s("/login")});V.afterEach(e=>{Le.done(),_s(e.meta.title)});var Ls={namespaced:!0,actions:{async login({dispatch:e},t){const s=(await we.login(t)).data;Ne("token",s.token),Ne("uuid",s.id),await e("system/user/set",M({},s),{root:!0}),await e("load")},logout({commit:e,dispatch:t},{confirm:s=!1}={}){return new Promise((a,o)=>{async function n(){H("token"),H("uuid"),await t("system/user/set",{},{root:!0}),e("system/permission/clear",!0,{root:!0}),e("system/menu/clear",!0,{root:!0}),V.push({name:"login"}),a(!0)}s?(e("system/gray/set",!0,{root:!0}),Ae.create({title:"\u6CE8\u9500\u7528\u6237",message:"\u786E\u5B9A\u8981\u6CE8\u9500\u5F53\u524D\u7528\u6237\u5417\uFF1F",cancel:!0}).onOk(()=>{e("system/gray/set",!1,{root:!0}),n()}).onCancel(()=>{e("system/gray/set",!1,{root:!0}),q.create({message:"\u53D6\u6D88\u6CE8\u9500\u64CD\u4F5C"}),a(!1)})):n()})},async load({dispatch:e}){await e("system/user/load",null,{root:!0}),await e("system/theme/load",null,{root:!0}),await e("system/transition/load",null,{root:!0}),await e("system/menu/asideLoad",null,{root:!0})}}},Ss=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ls});const Ds="VueCesiumDemo",Bs=new bt(`${Ds}-0.0.0`),G=wt(Bs);G.defaults({sys:{},database:{}}).write();function xe({dbName:e="database",path:t="",user:s=!0,validator:a=n=>!0,defaultValue:o=""}){const n=W("uuid")||"ghost-uuid",r=`${e}.${s?`user.${n}`:"public"}${t?`.${t}`:""}`,i=G.get(r).value();return i!==void 0&&a(i)||G.set(r,o).write(),r}function As({dbName:e="database",path:t="",value:s="",user:a=!1}){G.set(xe({dbName:e,path:t,user:a}),s).write()}function Os({dbName:e="database",path:t="",defaultValue:s="",user:a=!1}){return g.exports.cloneDeep(G.get(xe({dbName:e,path:t,user:a,defaultValue:s})).value())}function Ke({dbName:e="database",path:t="",user:s=!1,validator:a=()=>!0,defaultValue:o=""}={}){return G.get(xe({dbName:e,path:t,user:s,validator:a,defaultValue:o}))}var Ts={namespaced:!0,actions:{set(e,{dbName:t="database",path:s="",value:a="",user:o=!1}){As({dbName:t,path:s,value:a,user:o})},get(e,{dbName:t="database",path:s="",defaultValue:a="",user:o=!1}){return Os({dbName:t,path:s,defaultValue:a,user:o})},database(e,{user:t=!1}={}){return Ke({user:t,defaultValue:""})},databaseClear(e,{user:t=!1}={}){return Ke({user:t,validator:()=>!0,defaultValue:""})}}},Ms=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ts}),zs={namespaced:!0,state:{active:!1},actions:{listen({commit:e}){I.isEnabled&&I.on("change",()=>{I.isFullscreen||e("set",!1)})},toggle({commit:e}){I.isFullscreen?(I.exit(),e("set",!1)):(I.request(),e("set",!0))}},mutations:{set(e,t){e.active=t}}},Rs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zs}),Vs={namespaced:!0,state:{active:!1},mutations:{toggle(e){e.active=!e.active},set(e,t){e.active=t}}},Ns=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Vs}),Is={namespaced:!0,state:{global:{header:!1,content:!1,footer:!1,layerManager:!1},index:{workBench:!1}},mutations:{toggleGlobalLayout(e,t){Object.keys(t).forEach(a=>{g.exports.isBoolean(t[a])&&(e.global[a]=t[a])})},toggleIndexPageLayout(e,t){Object.keys(t).forEach(a=>{g.exports.isBoolean(t[a])&&(e.index[a]=t[a])})}}},Ps=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Is}),js={namespaced:!0,state:{log:[]},getters:{length(e){return e.log.length},lengthError(e){return e.log.filter(t=>t.type==="danger").length}},actions:{push({rootState:e,commit:t},{message:s,type:a="info",meta:o}){t("push",{message:s,type:a,time:xt().format("YYYY-MM-DD HH:mm:ss"),meta:M({user:e.system.user.info,uuid:W("uuid"),token:W("token"),url:g.exports.get(window,"location.href","")},o)})}},mutations:{push(e,t){e.log.push(t)},clean(e){e.log=[]}}},Qs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:js}),O={theme:{list:[{title:"\u7ECF\u5178",name:"classic",preview:"images/theme/classic/preview@2x.png"},{title:"Element",name:"element",preview:"images/theme/element/preview@2x.png"}]},menu:{asideCollapse:!1,asideTransition:!0},hotkey:{search:{open:"s",close:"esc"}},transition:{active:!0}},qs={namespaced:!0,state:{header:[],aside:[],asideCollapse:O.menu.asideCollapse||!0,asideTransition:O.menu.asideTransition||!0},actions:{async asideCollapseSet({state:e,dispatch:t},s){e.asideCollapse=s,await t("system/db/set",{dbName:"sys",path:"menu.asideCollapse",value:e.asideCollapse,user:!0},{root:!0})},async asideCollapseToggle({state:e,dispatch:t}){e.asideCollapse=!e.asideCollapse,await t("system/db/set",{dbName:"sys",path:"menu.asideCollapse",value:e.asideCollapse,user:!0},{root:!0})},async asideTransitionSet({state:e,dispatch:t},s){e.asideTransition=s,await t("system/db/set",{dbName:"sys",path:"menu.asideTransition",value:e.asideTransition,user:!0},{root:!0})},async asideTransitionToggle({state:e,dispatch:t}){e.asideTransition=!e.asideTransition,await t("system/db/set",{dbName:"sys",path:"menu.asideTransition",value:e.asideTransition,user:!0},{root:!0})},async asideLoad({state:e,dispatch:t}){await t("system/db/get",{dbName:"sys",path:"menu",defaultValue:O.menu,user:!0},{root:!0})}},mutations:{headerSet(e,t){e.header=t},asideSet(e,t){e.aside=t},clear(e){e.header=[],e.aside=[]}}},Us=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qs}),re=(e,t)=>{const s=e.__vccOpts||e;for(const[a,o]of t)s[a]=o;return s};const Ws={},Hs={class:"page-demo absolute"};function Gs(e,t){return d(),h("div",Hs,"index")}var Ys=re(Ws,[["render",Gs]]),Js=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ys});const Ks={class:"z-top absolute-center page-index"},Xs=v({setup(e){return le(()=>{Qe(!0)}),(t,s)=>(d(),h("div",Ks))}});var Zs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xs});const ea=v({name:"Error404"}),ta={class:"fullscreen bg-blue text-white text-center q-pa-md flex flex-center"},sa=m("div",{style:{"font-size":"30vh"}},"404",-1),aa=m("div",{class:"text-h2",style:{opacity:"0.4"}},"\u5662. \u8FD9\u513F\u4EC0\u4E48\u4E5F\u6CA1\u6709...",-1);function oa(e,t,s,a,o,n){return d(),h("div",ta,[m("div",null,[sa,aa,u(C,{class:"q-mt-xl",color:"white","text-color":"blue",unelevated:"",to:"/onemap",label:"\u8FD4\u56DE\u4E3B\u9875","no-caps":""})])])}var ra=re(ea,[["render",oa]]),Xe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ra});const Ee=e=>($t("data-v-d117bb70"),e=e(),Ct(),e),na={class:"q-pa-md page-login z-top"},ua={class:"login-container col row"},la=Ee(()=>m("div",{class:"text-h4 q-my-sm"},"\u767B\u5F55",-1)),ia=Ee(()=>m("div",{class:"oath flex"},[m("div",{class:"title full-width text-center q-pt-md"},"\u793E\u4EA4\u5E10\u53F7\u767B\u5F55"),m("div",{class:"q-gutter-md full-width text-center q-pt-sm flex justify-center"},[m("svg",{t:"1615200042776",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5886",width:"200",height:"200"},[m("path",{d:"M579.867 511.932c-11.67 0-23.344 10.837-23.344 24.178 0 10.839 11.668 21.678 23.344 21.678 17.514 0 30.020-10.839 30.020-21.678 0-13.34-12.505-24.178-30.020-24.178v0zM503.154 399.36c18.345 0 30.020-11.67 30.020-29.185 0-18.345-11.675-29.183-30.020-29.183-17.51 0-34.188 10.839-34.188 29.183-0.001 17.517 16.678 29.185 34.188 29.185v0zM512.326 0.56c-282.655 0-511.788 229.133-511.788 511.788 0 282.653 229.133 511.786 511.788 511.786 282.653 0 511.786-229.133 511.786-511.786 0.001-282.655-229.132-511.788-511.786-511.788v0zM415.602 642.009c-30.855 0-53.369-4.999-82.553-13.341l-84.218 42.53 24.186-71.715c-59.204-41.689-94.228-94.221-94.228-158.428 0-113.403 106.733-200.123 236.814-200.123 115.069 0 217.633 68.377 237.644 165.106-8.338-1.671-15.844-2.502-22.514-2.502-113.403 0-200.954 85.049-200.954 187.613 0 17.508 2.502 33.351 6.671 50.030-6.671 0.829-14.178 0.829-20.849 0.829v0zM763.314 723.724l16.674 60.041-63.371-35.854c-24.18 4.999-47.529 12.505-71.709 12.505-111.737 0-200.123-76.711-200.123-171.769 0-95.058 88.388-171.771 200.123-171.771 105.895 0 200.954 76.713 200.954 171.771 0 53.362-35.854 100.891-82.548 135.078v0zM338.053 340.992c-17.51 0-35.854 10.839-35.854 29.183 0 17.516 18.343 29.19 35.854 29.19 16.679 0 30.020-11.675 30.020-29.19 0-18.343-13.341-29.183-30.020-29.183v0zM710.783 511.932c-12.51 0-23.349 10.837-23.349 24.178 0 10.839 10.839 21.678 23.349 21.678 16.674 0 29.183-10.839 29.183-21.678 0-13.34-12.509-24.178-29.183-24.178v0zM710.783 511.932z","p-id":"5887","data-spm-anchor-id":"a313x.7781069.0.i22",class:"",fill:"#2dc100"})]),m("svg",{t:"1615199447339",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2522",width:"200",height:"200"},[m("path",{d:"M512 0C229.003636 0 0 229.003636 0 512s229.003636 512 512 512 512-229.003636 512-512S794.996364 0 512 0z m210.385455 641.396364c-7.447273 9.309091-26.996364-1.861818-41.89091-32.581819-3.723636 13.963636-13.032727 36.305455-34.443636 64.232728 35.374545 8.378182 44.683636 42.821818 33.512727 61.44-8.378182 13.032727-26.996364 24.203636-59.578181 24.203636-58.647273 0-83.781818-15.825455-95.883637-26.996364-1.861818-2.792727-5.585455-3.723636-10.24-3.723636-4.654545 0-7.447273 0.930909-10.24 3.723636-11.170909 11.170909-37.236364 26.996364-95.883636 26.996364-32.581818 0-52.130909-11.170909-59.578182-24.203636-12.101818-18.618182-1.861818-53.061818 33.512727-61.44-20.48-27.927273-29.789091-50.269091-34.443636-64.232728-13.963636 30.72-34.443636 42.821818-41.890909 32.581819-5.585455-8.378182-8.378182-26.065455-7.447273-38.167273 3.723636-46.545455 34.443636-85.643636 53.061818-106.123636-2.792727-5.585455-8.378182-40.029091 14.894546-63.301819v-1.861818c0-92.16 65.163636-158.254545 148.014545-158.254545 81.92 0 148.014545 66.094545 148.014546 158.254545v1.861818c23.272727 23.272727 17.687273 57.716364 14.894545 63.301819 17.687273 20.48 49.338182 59.578182 53.061818 106.123636 0.930909 12.101818-0.930909 29.789091-7.447272 38.167273z",fill:"#30A5DD","p-id":"2523"})]),m("svg",{t:"1615199464855",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3380",width:"200",height:"200"},[m("path",{d:"M448.698182 482.210909c-96.814545 4.654545-175.010909 56.785455-175.010909 121.949091s78.196364 114.501818 175.010909 109.847273S623.709091 647.912727 623.709091 582.749091c-0.930909-64.232727-79.127273-105.192727-175.010909-100.538182z m65.163636 164.770909c-29.789091 39.098182-88.436364 57.716364-145.221818 26.065455-26.996364-14.894545-26.065455-43.752727-26.065455-43.752728s-11.170909-92.16 85.643637-103.330909c97.745455-12.101818 115.432727 81.92 85.643636 121.018182z",fill:"#EA5D5C","p-id":"3381"}),m("path",{d:"M448.698182 584.610909c-6.516364 4.654545-7.447273 13.032727-3.723637 18.618182 2.792727 5.585455 11.170909 6.516364 16.756364 1.861818 5.585455-4.654545 8.378182-13.032727 4.654546-18.618182-2.792727-5.585455-10.24-6.516364-17.687273-1.861818zM403.083636 597.643636c-18.618182 1.861818-30.72 17.687273-30.72 33.512728 0 14.894545 14.894545 26.065455 32.581819 24.203636 17.687273-1.861818 32.581818-15.825455 32.581818-31.650909s-13.963636-27.927273-34.443637-26.065455z",fill:"#EA5D5C","p-id":"3382"}),m("path",{d:"M512 0C229.003636 0 0 229.003636 0 512s229.003636 512 512 512 512-229.003636 512-512S794.996364 0 512 0z m197.352727 626.501818C669.323636 712.145455 538.065455 754.036364 441.250909 746.589091c-92.16-7.447273-211.316364-38.167273-223.418182-151.738182 0 0-6.516364-51.2 42.821818-117.294545 0 0 70.749091-99.607273 152.669091-128.465455 82.850909-27.927273 92.16 19.549091 92.16 48.407273-4.654545 24.203636-12.101818 38.167273 18.618182 28.858182 0 0 80.989091-38.167273 114.501818-4.654546 26.996364 26.996364 4.654545 65.163636 4.654546 65.163637s-11.170909 12.101818 12.101818 16.756363c21.410909 3.723636 94.021818 37.236364 53.992727 122.88z m-80.058182-236.450909c-8.378182 0-15.825455-7.447273-15.825454-15.825454 0-9.309091 7.447273-15.825455 15.825454-15.825455 0 0 99.607273-18.618182 87.505455 89.367273v1.861818c-0.930909 7.447273-7.447273 13.963636-15.825455 13.963636-9.309091 0-15.825455-7.447273-15.825454-15.825454 0-1.861818 15.825455-73.541818-55.854546-57.716364zM797.789091 493.381818c-2.792727 18.618182-12.101818 11.170909-22.341818 11.170909-13.032727 0-23.272727-16.756364-23.272728-29.789091 0-11.170909 4.654545-22.341818 4.654546-22.341818 0.930909-4.654545 12.101818-34.443636-7.447273-78.196363-35.374545-60.509091-106.123636-60.509091-114.501818-57.716364-8.378182 3.723636-21.410909 5.585455-21.410909 5.585454-13.032727 0-23.272727-10.24-23.272727-23.272727 0-11.170909 7.447273-19.549091 16.756363-22.341818 0 0 0 0.930909 0.930909 0.930909s1.861818 0.930909 1.861819 0.930909c10.24-1.861818 45.614545-4.654545 79.127272 3.723637 62.370909 14.894545 146.152727 83.781818 108.916364 211.316363z",fill:"#EA5D5C","p-id":"3383"})])])],-1)),ca=Ee(()=>m("div",{class:"row justify-between q-pt-md text-grey-8"},[m("span",null,"\u5FD8\u8BB0\u5BC6\u7801"),m("span",{class:"sign-up text-center cursor-pointer"}," \u8FD8\u6CA1\u6709\u8D26\u53F7\uFF1F\u73B0\u5728\u6CE8\u518C\uFF01 ")],-1)),da=v({setup(e){jt();const t=D(),s=Et(),a=k({username:"admin",password:"admin"}),o={username:[i=>i&&i.length>0||"\u8BF7\u8F93\u5165\u7528\u6237\u540D"],password:[i=>i&&i.length>0||"\u8BF7\u8F93\u5165\u7528\u6237\u540D"],rememberMe:[i=>!!i||"You need to accept the license and terms first"]},n=async()=>{t.dispatch("system/account/login",a.value).then(i=>{s.replace(s.currentRoute.value.query.redirect||"/index")})},r=()=>{a.value={username:"",password:""}};return(i,c)=>(d(),h("div",na,[m("div",ua,[u(Qt,{greedy:"",class:"form-login col-md-5",onSubmit:n,onReset:r},{default:l(()=>[la,u(Oe,{modelValue:a.value.username,"onUpdate:modelValue":c[0]||(c[0]=f=>a.value.username=f),outlined:"",label:"\u7528\u6237\u540D","lazy-rules":"",rules:o.username},{prepend:l(()=>[u(de,{class:"icon",name:"perm_identity"})]),_:1},8,["modelValue","rules"]),u(Oe,{modelValue:a.value.password,"onUpdate:modelValue":c[1]||(c[1]=f=>a.value.password=f),outlined:"",label:"\u5BC6\u7801","lazy-rules":"",type:"password",rules:o.password},{prepend:l(()=>[u(de,{class:"icon",name:"lock"})]),_:1},8,["modelValue","rules"]),m("div",null,[u(C,{class:"btn-submit full-width no-outline text-h6",color:"primary",label:"\u767B\u5F55",type:"submit"})]),ia,ca]),_:1})])]))}});var ma=re(da,[["__scopeId","data-v-d117bb70"]]),Ze=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ma});const pa={};var fa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pa});const ga=v({setup(e){const t="VueCesiumDemo",s=D(),a=Ft({sortBy:"desc",descending:!1,rowsPerPage:10}),o=k([{id:"time",label:"\u65F6\u95F4",field:"time",align:"center"},{id:"message",label:"\u4FE1\u606F",field:"message",align:"center"},{id:"url",label:"\u89E6\u53D1\u9875\u9762",field:"url",align:"center"},{id:"more",label:"\u67E5\u770B\u8BE6\u60C5",align:"center"}]),n=w(()=>s.state.system.log.log),r=i=>{q.create({type:"info",caption:"\u65E5\u5FD7\u8BE6\u60C5",message:"\u5B8C\u6574\u7684\u65E5\u5FD7\u5185\u5BB9\u5DF2\u7ECF\u6253\u5370\u5230\u63A7\u5236\u53F0"}),ds(t,"\u65E5\u5FD7\u8BE6\u60C5","primary"),console.group(i.message),console.log("time: ",i.time),console.log("type: ",i.type),console.log(i.meta),console.groupEnd()};return(i,c)=>(d(),y(Me,{class:"log-table-list",rows:p(n),columns:o.value,pagination:p(a)},{body:l(f=>[u(Te,{props:f},{default:l(()=>[u(z,{key:"time",class:"text-center"},{default:l(()=>[E($(f.row.time),1)]),_:2},1024),u(z,{key:"message",class:"text-center"},{default:l(()=>[E($(f.row.message),1)]),_:2},1024),u(z,{key:"url",class:"text-center"},{default:l(()=>[E($(f.row.meta.url),1)]),_:2},1024),u(z,{key:"more",class:"text-center"},{default:l(()=>[u(C,{icon:"more",rounded:"",onClick:b=>r(f.row)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"]))}}),_a=m("div",{class:"text-h6"},"\u65E5\u5FD7\u5217\u8868",-1),ya=E("\u5173\u95ED"),ha=v({setup(e){const t=D(),s=w(()=>t.getters["system/log/length"]),a=w(()=>t.getters["system/log/lengthError"]),o=k(!1),n=w(()=>s.value===0?"\u6CA1\u6709\u65E5\u5FD7\u6216\u5F02\u5E38":`${s.value} \u6761\u65E5\u5FD7${a.value>0?` | \u5305\u542B ${a.value} \u4E2A\u5F02\u5E38`:""}`),r=()=>{o.value=!0};return(i,c)=>(d(),h(B,null,[u(C,{icon:"adjust",size:"md",flat:"",round:"",onClick:r},{default:l(()=>[u(U,null,{default:l(()=>[E($(p(n)),1)]),_:1})]),_:1}),u(ze,{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=f=>o.value=f)},{default:l(()=>[u(me,{style:{width:"1440px","max-width":"960px"}},{default:l(()=>[u(R,{class:"row items-center q-pb-none"},{default:l(()=>[_a,u(pe),P((d(),y(C,{icon:"close",flat:"",round:"",dense:""},{default:l(()=>[u(U,null,{default:l(()=>[ya]),_:1})]),_:1})),[[se]])]),_:1}),u(R,{class:"theme-card"},{default:l(()=>[u(ga)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),va=v({setup(e){const t=D(),s=w(()=>t.state.system.fullscreen.active),a=()=>{t.dispatch("system/fullscreen/toggle",null,{root:!0})};return(o,n)=>(d(),y(C,{icon:p(s)?"fullscreen_exit":"fullscreen",size:"md",flat:"",round:"",onClick:a},{default:l(()=>[u(U,null,{default:l(()=>[E($(p(s)?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F"),1)]),_:1})]),_:1},8,["icon"]))}});const ba=E("\u5DF2\u6FC0\u6D3B"),wa=E("\u4F7F\u7528"),xa=v({setup(e){const t=D(),s=k([{id:"title",label:"\u540D\u79F0",field:"title",align:"center"},{id:"preview",label:"\u9884\u89C8",field:"preview",align:"center"},{id:"handler",label:"\u64CD\u4F5C",align:"center"}]),a=w(()=>t.state.system.theme.list),o=w(()=>t.state.system.theme.activeName),n=r=>{t.dispatch("system/theme/set",r)};return(r,i)=>(d(),y(Me,{class:"theme-table-list",rows:p(a),"hide-header":"","hide-pagination":"",columns:s.value},{body:l(c=>[u(Te,{props:c},{default:l(()=>[u(z,{key:"title"},{default:l(()=>[E($(c.row.title),1)]),_:2},1024),u(z,{key:"preview"},{default:l(()=>[E($(c.row.preview),1)]),_:2},1024),u(z,{key:"handler"},{default:l(()=>[p(o)===c.row.name?(d(),y(C,{key:0,class:"active",icon:"done",rounded:"",outline:""},{default:l(()=>[ba]),_:1})):(d(),y(C,{key:1,rounded:"",outline:"",onClick:f=>n(c.row.name)},{default:l(()=>[wa]),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}}),Ea=E("\u4E3B\u9898"),$a=m("div",{class:"text-h6"},"\u4E3B\u9898",-1),Ca=E("\u5173\u95ED"),Fa=v({setup(e){const t=k(!1);return(s,a)=>(d(),h(B,null,[u(C,{icon:"style",size:"md",flat:"",round:"",onClick:a[0]||(a[0]=o=>t.value=!0)},{default:l(()=>[u(U,null,{default:l(()=>[Ea]),_:1})]),_:1}),u(ze,{modelValue:t.value,"onUpdate:modelValue":a[1]||(a[1]=o=>t.value=o)},{default:l(()=>[u(me,{style:{width:"650px"}},{default:l(()=>[u(R,{class:"row items-center q-pb-none"},{default:l(()=>[$a,u(pe),P((d(),y(C,{icon:"close",flat:"",round:"",dense:""},{default:l(()=>[u(U,null,{default:l(()=>[Ca]),_:1})]),_:1})),[[se]])]),_:1}),u(R,{class:"theme-card"},{default:l(()=>[u(xa)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),ka=E("\u6CE8\u9500"),La=v({setup(e){const t=D(),s=t.state.system.user,a=kt(),o=()=>{t.dispatch("system/account/logout",{confirm:!0}).then(n=>{if(n){Qe(!1),is({leftPanel:!1}),J({featureInfo:!1,layerManager:!1}),gs();const r={position:[105,30,21634101],heading:360,pitch:-90,roll:0};(a==null?void 0:a.viewer)&&Lt(a==null?void 0:a.viewer,r,{duration:3})}})};return(n,r)=>{var i,c;return d(),y(C,{dense:"",rounded:"","no-caps":"",size:"md",class:"q-mr-sm","auto-close":"",icon:"person",label:(c=(i=p(s).info)==null?void 0:i.sysUser)==null?void 0:c.username},{default:l(()=>[u(Gt,null,{default:l(()=>[u(qt,{dense:""},{default:l(()=>[P((d(),y(Ut,{clickable:"",dense:"",onClick:o},{default:l(()=>[u(Re,{avatar:""},{default:l(()=>[u(Wt,{icon:"logout"})]),_:1}),u(Re,null,{default:l(()=>[u(Ht,null,{default:l(()=>[ka]),_:1})]),_:1})]),_:1})),[[se]])]),_:1})]),_:1})]),_:1},8,["label"])}}}),Sa={class:"left"},Da={class:"content"},Ba=m("div",{size:"60px",class:"logo-img float"},[m("img",{src:"https://zouyaoji.top/vue-cesium/favicon.png"})],-1),Aa={class:"title text-h4 float"},Oa={class:"nav float"},Ta={class:"right q-ml-sm q-mr-sm"},Ma={key:0,class:"content"},za=v({setup(e){const t=k(!1),s=D(),a=w(()=>"VueCesium Demo"),o=w(()=>s.state.system.menu.header.length?s.state.system.menu.header[0].children:[]),n=w(()=>!1);return(r,i)=>(d(),h("div",{class:"main-header",style:St({opacity:t.value?.5:1})},[m("div",Sa,[m("div",Da,[Ba,m("div",Aa,[m("div",null,$(p(a)),1)]),m("div",Oa,[u(Yt,null,{default:l(()=>[(d(!0),h(B,null,j(p(o),(c,f)=>(d(),y(Jt,{key:f,to:c.path,exact:"",label:r.$t(c.title),"active-class":"menu-active"},null,8,["to","label"]))),128))]),_:1})])])]),m("div",Ta,[p(o).length?(d(),h("div",Ma,[p(n)?(d(),y(ha,{key:0})):A("",!0),u(va),u(Fa),u(La)])):A("",!0)])],4))}}),Ra={key:0,class:"text-weight-bold"},Va={class:"content"},Na=v({props:{title:{type:String,default:""},titleClass:{type:String,default:""},closeTip:{type:String,default:"\u5173\u95ED"},showCloseBtn:{type:Boolean,default:!0},separatorOpts:{type:Object,default:()=>({show:!0,dark:!0,color:"white",size:"1px"})}},emits:["close"],setup(e,{emit:t}){const s=a=>{t("close",a)};return(a,o)=>(d(),y(me,{class:"common-panel"},{default:l(()=>[u(Kt,{class:ie(["header",e.titleClass])},{default:l(()=>[e.title!==""?(d(),h("div",Ra,$(e.title),1)):A("",!0),Z(a.$slots,"header-left"),u(pe),Z(a.$slots,"header-right"),e.showCloseBtn?P((d(),y(C,{key:1,dense:"",flat:"",icon:"close",onClick:s},{default:l(()=>[u(U,null,{default:l(()=>[E($(e.closeTip),1)]),_:1})]),_:1})),[[se]]):A("",!0)]),_:3},8,["class"]),e.separatorOpts.show?(d(),y(fe,ce(Se({key:0},e.separatorOpts)),null,16)):A("",!0),m("div",Va,[Z(a.$slots,"default")])]),_:3}))}});var Ia=v({name:"DragWrapper",props:{restriction:{type:[String,Object,Function],default:"parent"}},setup(e,t){const s=k(null),a=Dt(),o=r=>{const i=r.target,c=(parseFloat(i.getAttribute("data-x"))||0)+r.dx,f=(parseFloat(i.getAttribute("data-y"))||0)+r.dy;i.style.webkitTransform=i.style.transform="translate("+c+"px, "+f+"px)",i.setAttribute("data-x",c),i.setAttribute("data-y",f)},n=()=>{const r=s.value,i=ee(r),c={name:"drag",axis:"xy"};i.reflow(c)};return le(()=>{const r=s.value;ee(r).draggable({ignoreFrom:"button, .ignore-drag",allowFrom:".drag-handle",inertia:!0,onmove:o,restrict:{restriction:e.restriction,endOnly:!0,elementRect:{left:0,right:1,top:0,bottom:1}}}),addEventListener("resize",n,!1)}),Bt(()=>{const r=s.value;ee.isSet(r)&&ee(r).unset(),removeEventListener("resize",n,!1)}),Object.assign(a==null?void 0:a.proxy,{resizeListener:n}),()=>At("div",{ref:s,class:"drag-wrapper absolute"},Ot(t.slots.default))}});const Pa={class:"text-subtitle2"},ja={class:"q-gutter-sm"},Qa={class:"text-subtitle2"},qa={class:"q-gutter-sm"},Ua={class:"text-subtitle2"},Wa={class:"q-gutter-sm"},Ha=v({setup(e){const t=k(null),s=D(),a=k("tianditu_img"),o=s.state.system.layout.global,n=s.state.system.layout.index;Tt(n,b=>{Mt(()=>{var x,_;t.value&&((_=(x=t.value).resizeListener)==null||_.call(x))})},{deep:!0});const r=w(()=>({rasterLayers:s.state.viewer.layer.rasterLayers,baseLayers:s.state.viewer.layer.baseLayers,vectorLayers:s.state.viewer.layer.vectorLayers})),i=(b,x)=>{r.value.baseLayers.forEach(_=>{_.name===b?ye(_.name,!0):ye(_.name,!1)})},c=(b,x)=>{const _=b.name;ye(_,x)},f=()=>{J({layerManager:!s.state.system.layout.global.layerManager})};return(b,x)=>(d(),h("div",{class:ie(["layer-manager",p(n).leftPanel?"":"full-srceen"])},[u(p(Ia),{ref_key:"dragWrapperRef",ref:t},{default:l(()=>[P(u(Na,{class:"layer-manager-panel",title:b.$t("message.panel.layerManager"),"title-class":"drag-handle",onClose:f},{default:l(()=>[u(R,{class:"q-pt-sm"},{default:l(()=>[m("div",Pa,$(b.$t("message.baseLayer")),1),m("div",ja,[(d(!0),h(B,null,j(p(r).baseLayers,(_,T)=>(d(),y(Xt,{key:T,modelValue:a.value,"onUpdate:modelValue":[x[0]||(x[0]=S=>a.value=S),i],val:_.name,label:_.text},null,8,["modelValue","val","label"]))),128))])]),_:1}),u(fe,{inset:""}),u(R,{class:"q-pt-sm"},{default:l(()=>[m("div",Qa,$(b.$t("message.rasterLayer")),1),m("div",qa,[(d(!0),h(B,null,j(p(r).rasterLayers,(_,T)=>(d(),y(Ve,{key:T,modelValue:_.show,"onUpdate:modelValue":[S=>_.show=S,S=>c(_,S)],val:_.name,label:_.text},null,8,["modelValue","onUpdate:modelValue","val","label"]))),128))])]),_:1}),u(fe,{inset:""}),u(R,{class:"q-pt-sm"},{default:l(()=>[m("div",Ua,$(b.$t("message.vectorLayer")),1),m("div",Wa,[(d(!0),h(B,null,j(p(r).vectorLayers,(_,T)=>(d(),y(Ve,{key:T,modelValue:_.props.show,"onUpdate:modelValue":[S=>_.props.show=S,S=>c(_,S)],val:_.name,label:_.text},null,8,["modelValue","onUpdate:modelValue","val","label"]))),128))])]),_:1})]),_:1},8,["title"]),[[De,p(o).layerManager]])]),_:1},512)],2))}}),Ga={class:"main-interaction"},Ya={class:"layer-manager-wrapper"},Ja={key:0,class:"layer-switch cursor-pointer"},Ka=v({setup(e){const t=D();t.state.system.layout.index;const s=w(()=>t.state.system.menu.header.length?t.state.system.menu.header[0].children:[]),a=()=>{J({layerManager:!t.state.system.layout.global.layerManager})};return(o,n)=>(d(),h("div",Ga,[m("div",Ya,[p(s).length?(d(),h("div",Ja,[u(C,{dense:"",round:"",size:"10px",style:{background:"#fff",color:"#3f4854"},onClick:a},{default:l(()=>[u(de,{name:"layers"})]),_:1})])):A("",!0),u(Ha)])]))}}),Xa={class:"vc-drawtip vc-tooltip--style"},Za=v({emits:["viewerReady","cesiumReady","leftClick","destroyed"],setup(e,{emit:t}){k({position:{lng:105,lat:31,height:21634101}});const{registerTimeout:s}=zt();k(null);const a=[0,75],o=k({outerOptions:{icon:"svguse:#vc-icons-compass-outer"},duration:5}),n=D(),r=n.state.viewer.overlay.mouseOverNameOpts;n.state.viewer.render.selectedRenderData;const i=w(()=>[...n.state.viewer.layer.baseLayers,...n.state.viewer.layer.rasterLayers]),c=w(()=>n.state.viewer.layer.vectorLayers),f=x=>{t("viewerReady",x),J({header:!0}),s(()=>{J({content:!0})},500)},b=x=>{t("cesiumReady",x)};return(x,_)=>{const T=Q("vc-navigation"),S=Q("vc-layer-imagery"),lt=Q("vc-overlay-html"),it=Q("vc-viewer");return d(),y(it,{class:"main-viewer",onReady:f,onCesiumReady:b},{default:l(()=>[u(T,{offset:a,"compass-opts":o.value},null,8,["compass-opts"]),(d(!0),h(B,null,j(p(i),(F,ne)=>(d(),y(S,{key:"layer"+ne,alpha:F.alpha,brightness:F.brightness,contrast:F.contrast,"sort-order":F.sortOrder,show:F.show},{default:l(()=>[(d(),y(Be(F.component),ce(Rt(F.props)),null,16))]),_:2},1032,["alpha","brightness","contrast","sort-order","show"]))),128)),(d(!0),h(B,null,j(p(c),(F,ne)=>(d(),h(B,{key:"vector"+ne},[(F.component==="VcTerrainProviderCesium"?F.props.show:!0)?(d(),y(Be(F.component),ce(Se({key:0},F.props)),null,16)):A("",!0)],64))),128)),p(r).show?(d(),y(lt,{key:0,position:p(r).position,"pixel-offset":p(r).pixelOffset},{default:l(()=>[m("div",Xa,$(p(r).text),1)]),_:1},8,["position","pixel-offset"])):A("",!0),Z(x.$slots,"default")]),_:3})}}}),eo={elevated:"",reveal:"",class:"absolute text-h4 text-center"},to={key:0,class:"content"},et=v({setup(e){const t=D(),s=t.state.system.layout.global,a=w(()=>t.state.system.gray.active);return le(()=>{t.dispatch("system/account/load",null,{root:!0}),t.dispatch("system/fullscreen/listen",null,{root:!0}),window.onunhandledrejection=o=>{t.dispatch("system/log/push",{message:g.exports.get(o,"reason.message","Unknown error"),type:"danger",meta:{error:g.exports.get(o,"reason"),trace:g.exports.get(o,"reason.stack")}})},window.onerror=(o,n,r,i,c)=>{t.dispatch("system/log/push",{message:g.exports.get(c,"message","Unknown error"),type:"danger",meta:{error:c,trace:g.exports.get(c,"stack"),source:`${n}@${r}:${i}`,event:o}})}}),(o,n)=>{const r=Q("router-view");return d(),y(Zt,{view:"lhh Lpr lFf",class:ie(["main-layout",{"gray-mode":p(a)}])},{default:l(()=>[u(ts,{class:"no-padding"},{default:l(()=>[u(es,{class:"interaction-root"},{default:l(()=>[u(Za,null,{default:l(()=>[P(m("header",eo,[u(za)],512),[[De,p(s).header]]),p(s).content?(d(),h("div",to,[u(Ka),u(r)])):A("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])}}});var so=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:et});const N=ae([]);ae([]);const ao=[...N];function oo(e){return e==null||e===""}const ro={"../../../pages/demo/Index.vue":Js,"../../../pages/index/Index.vue":Zs,"../../../pages/system/Error404.vue":Xe,"../../../pages/system/Login.vue":Ze,"../../../pages/index/work-bench/Index.vue":fa},no=e=>{const t=ro[`../../../pages${e}/Index.vue`];if(!t){fs(`\u52A8\u6001\u8DEF\u7531\u9875\u9762\u3010${e}\u3011\u52A0\u8F7D\u5931\u8D25\u3002\u8BF7\u68C0\u67E5\u9875\u9762\u6587\u4EF6\u662F\u5426\u5B58\u5728\u3002`);return}return t.default};function tt(e,t){return e==null&&(e={children:[]}),t.forEach(s=>{let a=e;if(s.type!==20&&!oo(s.component)){let o=null;s.component==="MainLayout"?o=et:o=no(s.path);const n=e.children;a={path:s.path,name:s.name,hidden:s.hidden,component:o,meta:{title:s.title,auth:!0,cache:!0}},n.push(a)}s.children!=null&&s.children.length>0&&(a.children==null&&(a.children=[]),tt(a,s.children))}),e.children}function st(e,t){return e==null&&(e=[]),e.forEach(s=>{s.permission!=null&&s.permission!==""&&t.push(s.permission),s.children!=null&&s.children.length>0&&st(s.children,t)}),t}function at(e){e==null&&(e=[]);let t=[];return e.forEach(s=>{s.type===10&&(s.children!=null&&s.children.length>0&&at(s.children),s.icon!=null&&s.icon!=="",t.push(M({},s)))}),t.length===0&&(t=void 0),t}const K={routes:[],addRoutes:[],permissions:[],inited:!1},uo={setRoutes:(e,{accessedRoutes:t,permissions:s})=>{e.addRoutes=t,e.routes=je.concat(t),e.inited=!0,e.permissions=s},clear:()=>{K.addRoutes=[],K.routes=[],K.inited=!1,K.permissions=[]}},lo={generateRoutes({rootState:e,state:t,commit:s},{menuTree:a}){return new Promise(o=>{const n=tt(null,a),r=st(a,[]);s("setRoutes",{accessedRoutes:n,permissions:r}),n.forEach(c=>{c.name==="layout"&&c.path==="/"&&(c.children=c.children.concat(ls[0].children)),V.addRoute(c)});const i=ae(at(a));N.splice(0,N.length),N.push(...ao),N.push(...i),s("system/menu/headerSet",N,{root:!0}),e.system.menu.asideSet==null,s("system/search/init",N,{root:!0}),o(!0)})},async getAccessibleMenus({state:e,dispatch:t}){},clear({commit:e}){e("clear")}},io={inited(e){return e.inited},permissions(e){return e.permissions}};var co={namespaced:!0,state:K,mutations:uo,actions:lo,getters:io},mo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:co}),po={namespaced:!0,state:{active:!1,hotkey:{open:O.hotkey.search.open,close:O.hotkey.search.close},pool:[]},mutations:{toggle(e){e.active=!e.active},set(e,t){e.active=t},init(e,t){const s=[],a=function(o,n=[]){o.forEach(r=>{r.children?a(r.children,[...n,r.title]):s.push(ue(M({},r),{fullTitle:[...n,r.title].join(" / ")}))})};a(t),e.pool=s}}},fo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:po});let $e="";var go={namespaced:!0,state:{list:g.exports.get(O,"theme.list",[]),activeName:g.exports.get(O,"theme.list[0].name","h2o")},getters:{activeSetting(e){return e.list.find(t=>t.name===e.activeName)}},actions:{async set({state:e,commit:t,dispatch:s},a){$e=e.activeName,e.activeName=e.list.find(o=>o.name===a)?a:e.list[0].name,t("dom"),await s("system/db/set",{dbName:"sys",path:"theme.activeName",value:e.activeName,user:!0},{root:!0})},async load({state:e,commit:t,dispatch:s}){$e=e.activeName;const a=await s("system/db/get",{dbName:"sys",path:"theme.activeName",defaultValue:e.list[0].name,user:!0},{root:!0});e.list.find(o=>o.name===a)?e.activeName=a:(e.activeName=e.list[0].name,await s("system/db/set",{dbName:"sys",path:"theme.activeName",value:e.activeName,user:!0},{root:!0})),t("dom")}},mutations:{dom(e){const t=`theme-${$e}`,s=`theme-${e.activeName}`;document.body.className.includes(t)?document.body.className=document.body.className.replace(t,s):document.body.className+=" "+s}}},_o=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:go}),yo={namespaced:!0,state:{active:O.transition.active},actions:{async set({state:e,dispatch:t},s){e.active=s,await t("system/db/set",{dbName:"sys",path:"transition.active",value:e.active,user:!0},{root:!0})},async load({state:e,dispatch:t}){e.active=await t("system/db/get",{dbName:"sys",path:"transition.active",defaultValue:O.transition.active,user:!0},{root:!0})}}},ho=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yo}),vo={namespaced:!0,state:{info:{}},mutations:{set(e,t){e.info=t}},actions:{async set({state:e,dispatch:t,commit:s},a){s("set",a),await t("system/db/set",{dbName:"sys",path:"user.info",value:a,user:!0},{root:!0})},async load({state:e,dispatch:t,commit:s}){const a=await t("system/db/get",{dbName:"sys",path:"user.info",defaultValue:{},user:!0},{root:!0});s("set",a)}}},bo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vo});const ot={"./account.ts":Ss,"./db.ts":Ms,"./fullscreen.ts":Rs,"./gray.ts":Ns,"./layout.ts":Ps,"./log.ts":Qs,"./menu.ts":Us,"./permission.ts":mo,"./search.ts":fo,"./theme.ts":_o,"./transition.ts":ho,"./user.ts":bo},rt={};for(const e in ot)rt[e.replace(/(\.\/|\.ts)/g,"")]=ot[e].default;var wo={namespaced:!0,modules:rt},xo={namespaced:!0,state:{baseLayers:[{name:"tianditu_img",text:"\u5929\u5730\u56FE\u5F71\u50CF",component:"VcImageryProviderTianditu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!0,props:{mapStyle:"img_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}},{name:"tianditu_vec",text:"\u5929\u5730\u56FE\u77E2\u91CF",component:"VcImageryProviderTianditu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!0,props:{mapStyle:"vec_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}},{name:"baidu_dark",text:"\u767E\u5EA6\u5730\u56FE_\u9ED1\u591C",component:"VcImageryProviderBaidu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{customid:"dark",projectionTransforms:{form:"BD09",to:"WGS84"}}},{name:"baidu_midnight",text:"\u767E\u5EA6\u5730\u56FE_\u5348\u591C\u84DD",component:"VcImageryProviderBaidu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{customid:"midnight",projectionTransforms:{form:"BD09",to:"WGS84"}}},{name:"osm",text:"OSM",component:"VcImageryProviderOsm",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},{name:"arcgis",text:"ArcGIS",component:"VcImageryProviderArcgis",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1}],rasterLayers:[{name:"tianditu_cva",text:"\u5929\u5730\u56FE\u6CE8\u8BB0",component:"VcImageryProviderTianditu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!0,props:{mapStyle:"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}}],vectorLayers:[{name:"admin",text:"\u884C\u653F\u533A\u5212",component:"VcDatasourceGeojson",props:{strokeWidth:5,stroke:"#ffc107",fill:"transparent",show:!1,data:"./datas/china.json"}},{name:"terrain",text:"\u5168\u7403\u5730\u5F62",component:"VcTerrainProviderCesium",props:{show:!1}}]},mutations:{toggle(e,{names:t,show:s}){const a=[...e.baseLayers,...e.rasterLayers,...e.vectorLayers];t=Array.isArray(t)?t:[t],t.forEach(o=>{var r;const n=g.exports.find(a,i=>i.name===o);!g.exports.isUndefined(n==null?void 0:n.show)&&(n.show=s),!g.exports.isUndefined((r=n==null?void 0:n.props)==null?void 0:r.show)&&(n.props.show=s)})}},actions:{loadDefaultLayers({state:e,dispatch:t,commit:s},a){const o=[...e.baseLayers,...e.rasterLayers,...e.vectorLayers].map(r=>r.name);s("toggle",{names:o,show:!1}),s("toggle",{names:["tianditu_img","tianditu_cva","admin"],show:!0})}}},Eo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xo}),$o={namespaced:!0,state:{mouseOverNameOpts:{position:[117.186419,45.66446,20],show:!1,text:"",pixelOffset:[0,0]}},mutations:{setMouseOverlayLabel(e,{position:t,show:s,text:a,pixelOffset:o}){e.mouseOverNameOpts.position=t,e.mouseOverNameOpts.show=s,e.mouseOverNameOpts.text=a,e.mouseOverNameOpts.pixelOffset=o}}},Co=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$o}),Fo={namespaced:!0,state:{renderDatas:[],selectedRenderData:{model:void 0,renderingType:void 0,restoreHandler:void 0,feature:void 0,featureInfoListItems:[]},renderingApi:"entity"},getters:{selectedRenderData(e){return e.selectedRenderData},renderingApi(e){return e.renderingApi}},mutations:{addRenderDatas(e,t){t=Array.isArray(t)?t:[t],t.forEach(s=>{if(g.exports.findIndex(e.renderDatas,a=>a.id===s.id)!==-1){Ue(`\u6DFB\u52A0\u6E32\u67D3\u6570\u636E\u96C6\u5931\u8D25\uFF0C\u539F\u56E0\uFF1Aid \u4E3A\u3010${s.id} \u3011\u7684\u6570\u636E\u5DF2\u7ECF\u5B58\u5728\u3002`,"\u6E32\u67D3\u6570\u636E\u6A21\u578B\uFF1A",s);return}e.renderDatas.push(s)})},removeRenderDataById(e,t){g.exports.remove(e.renderDatas,s=>s.id===t)},removeRenderDataByType(e,t){g.exports.remove(e.renderDatas,s=>s.type===t)},removeRenderDataByPage(e,t){g.exports.remove(e.renderDatas,s=>s.page===t)},removeAllRenderData(e){e.renderDatas.length=0},setSelectedRenderData(e,t){e.selectedRenderData.model=t.model,e.selectedRenderData.renderingType=t.renderingType,e.selectedRenderData.restoreHandler=t.restoreHandler,e.selectedRenderData.feature=t.feature,e.selectedRenderData.featureInfoListItems=t.featureInfoListItems}},actions:{getRenderDataByDatasetId({state:e},t){return g.exports.find(e.renderDatas,s=>s.id===t)}}},ko=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Fo});const nt={"./layer.ts":Eo,"./overlay.ts":Co,"./render.ts":ko},ut={};for(const e in nt)ut[e.replace(/(\.\/|\.ts)/g,"")]=nt[e].default;var Lo={namespaced:!0,modules:ut};const So=Vt({modules:{system:wo,viewer:Lo},strict:!1});var L=So,Do={message:{header:{index:"\u9996\u9875",demo:"\u793A\u4F8B"},panel:{layerManager:"\u56FE\u5C42\u7BA1\u7406"},baseLayer:"\u5E95\u56FE\u56FE\u5C42",rasterLayer:"\u6805\u683C\u56FE\u5C42",vectorLayer:"\u77E2\u91CF\u56FE\u5C42"}},Bo={message:{header:{index:"Index",demo:"Demo"},panel:{layerManager:"LayerManager"},baseLayer:"BaseLayer",rasterLayer:"RasterLayer",vectorLayer:"VectorLayer"}},Ao={"zh-CN":Do,"en-US":Bo};const Oo={};function To(e,t){const s=Q("router-view");return d(),y(s)}var Mo=re(Oo,[["render",To]]);const zo=Nt({legacy:!1,locale:"zh-CN",fallbackLocale:"zh-CN",globalInjection:!0,messages:Ao}),Y=It(Mo);Y.use(ss,{plugins:{Notify:q,Dialog:Ae,LocalStorage:te},lang:as});Y.use(zo);Y.use(Pt);Y.use(L);Y.use(V);Y.mount("#app");
