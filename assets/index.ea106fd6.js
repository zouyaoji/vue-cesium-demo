var yt=Object.defineProperty,ht=Object.defineProperties;var vt=Object.getOwnPropertyDescriptors;var Se=Object.getOwnPropertySymbols;var bt=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable;var De=(e,t,s)=>t in e?yt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,M=(e,t)=>{for(var s in t||(t={}))bt.call(t,s)&&De(e,s,t[s]);if(Se)for(var s of Se(t))wt.call(t,s)&&De(e,s,t[s]);return e},le=(e,t)=>ht(e,vt(t));import{z as Ie,A as _,B as xt,C as Et,D as Z,E as $t,F as Ct,N as Pe,G as Ft,L as kt,H as Lt,I as Q,J as St,K as d,M as h,d as v,j as be,O as m,P as u,Q as S,R as Dt,r as C,S as l,U as Bt,V as At,a as Ot,b,W as g,X as w,Y as $,Z as f,w as T,_ as B,$ as Tt,a0 as zt,a1 as je,a2 as q,a3 as A,a4 as Mt,a5 as te,a6 as we,a7 as de,a8 as Qe,g as Rt,a9 as ee,o as Vt,h as Nt,aa as It,f as Pt,n as jt,ab as qe,ac as Qt,ad as V,ae as qt,af as Ut,ag as Be,ah as Wt,ai as Ht,aj as Gt,c as Yt,ak as Jt}from"./vendor.fbdd6bec.js";import{P as oe,N as Y,D as Ue,Q as F,u as Kt,a as Xt,b as Ae,c as me,d as N,e as We,f as He,g as U,h as xe,i as I,j as Ee,C as W,k as Ge,l as Ye,m as pe,n as se,o as Zt,p as fe,q as es,r as ts,s as ss,t as as,v as os,w as ge,x as rs,y as Oe,z as ns,A as us,B as ls,E as is,F as cs}from"./vendor-quasar.27a8d5c4.js";const ds=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}};ds();const $e="VueCesiumDemo";function _e(e="default",t=""){oe.set(`${$e}-0.0.0-${e}`,t)}function P(e="default"){return oe.getItem(`${$e}-0.0.0-${e}`)}function H(e="default"){oe.remove(`${$e}-0.0.0-${e}`)}const ms="modulepreload",Te={},ps="./",ye=function(t,s){return!s||s.length===0?t():Promise.all(s.map(a=>{if(a=`${ps}${a}`,a in Te)return;Te[a]=!0;const o=a.endsWith(".css"),n=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${n}`))return;const r=document.createElement("link");if(r.rel=o?"stylesheet":ms,o||(r.as="script",r.crossOrigin=""),r.href=a,document.head.appendChild(r),o)return new Promise((c,i)=>{r.addEventListener("load",c),r.addEventListener("error",i)})})).then(()=>t())},Je=[{path:"/",name:"layout",component:()=>ye(()=>Promise.resolve().then(function(){return po}),void 0),redirect:{path:"index"},children:[{name:"login",path:"/login",component:()=>ye(()=>Promise.resolve().then(function(){return rt}),void 0)}]}],fs=[{path:"/:catchAll(.*)*",name:"404",component:()=>ye(()=>Promise.resolve().then(function(){return ot}),void 0)}],gs=Je;var Ke=[...Je,...fs];function ie(e,t){L.commit("viewer/layer/toggle",{names:e,show:t})}function Xe(e){L.dispatch("viewer/layer/loadDefaultLayers",e)}function X(e){L.commit("system/layout/toggleGlobalLayout",e)}function _s(e){L.commit("system/layout/toggleIndexPageLayout",e)}const Ze="VueCesiumDemo";function ys(e="default"){let t="";switch(e){case"default":t="#35495E";break;case"primary":t="#3488ff";break;case"success":t="#43B883";break;case"warning":t="#e6a23c";break;case"danger":t="#f56c6c";break}return t}function hs(e,t,s="primary"){console.log(`%c ${e} %c ${t} %c`,"background:#35495E; padding: 1px; border-radius: 3px 0 0 3px; color: #fff;",`background:${ys(s)}; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff;`,"background:transparent")}const vs=(e="")=>function(...t){e&&(Ie(t[0])?t[0]=e.trim()+" "+t[0]:t=[e.trim(),...t]);const s=t.shift(),a=new Error(s);console.warn(a.stack,...t),L.dispatch("system/log/push",{message:"\u4E1A\u52A1\u903B\u8F91\u8B66\u544A",type:"warning",meta:{error:a}}),Y.create({message:s,timeout:3e3,type:"warning"})},bs=(e="")=>function(...t){e&&(Ie(t[0])?t[0]=e.trim()+" "+t[0]:t=[e.trim(),...t]);const s=t.shift(),a=new Error(s);console.error(a.stack,...t),L.dispatch("system/log/push",{message:"\u4E1A\u52A1\u903B\u8F91\u5F02\u5E38",type:"danger",meta:{error:a}}),Y.create({message:s,timeout:3e3,type:"negative"})},ws=vs(`[${Ze}] WARN `),et=bs(`[${Ze}] ERR `);function xs(){L.commit("viewer/render/removeAllRenderData")}function Es(e){const t="VueCesium Demo";window.document.title=`${t}${e?` | ${e}`:""}`}function re(e){return e.map(t=>M(le(M({},t),{path:t.path||_.exports.uniqueId("vc-menu-empty-")}),t.children?{children:re(t.children)}:{}))}function $s(e="{}",t={}){let s=t;try{s=JSON.parse(e)}catch(a){et(a)}return s}function Ce(e={},t="",s=0){return[200,{code:s,msg:t,data:e}]}function Cs(e={},t="\u6210\u529F"){return Ce(e,t)}function Fs(e={},t="\u8BF7\u6C42\u5931\u8D25",s=500){return Ce(e,t,s)}function ae(e){L.dispatch("system/log/push",{message:"\u6570\u636E\u8BF7\u6C42\u5F02\u5E38",type:"danger",meta:{error:e}}),Y.create({message:e.message,type:"negative",timeout:3*1e3})}function he(e){const t=new Error(e);throw ae(t),t}var ks=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",parse:$s,response:Ce,responseSuccess:Cs,responseError:Fs,errorLog:ae,errorCreate:he});const tt=()=>{const e=Et.create({});return e.interceptors.request.use(t=>t,t=>(ae(t),Promise.reject(t))),e.interceptors.response.use(t=>{const s=t.data,{code:a}=s;if(a===void 0)return s;switch(a){case 0:return s;case 200:return s;case"xxx":he(`[ code: xxx ] ${s.msg}: ${t.config.url}`);break;default:return he(`${s.msg}: ${t.config.url}`),Promise.reject(s)}},t=>{switch(_.exports.get(t,"response.status")){case 400:t.message="\u8BF7\u6C42\u9519\u8BEF";break;case 401:t.message="\u672A\u6388\u6743\uFF0C\u8BF7\u767B\u5F55",H("token"),H("uuid"),j.push("/login");break;case 403:t.message="\u62D2\u7EDD\u8BBF\u95EE";break;case 404:t.message=`\u8BF7\u6C42\u5730\u5740\u51FA\u9519: ${t.response.config.url}`;break;case 408:t.message="\u8BF7\u6C42\u8D85\u65F6";break;case 500:t.message="\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF";break;case 501:t.message="\u670D\u52A1\u672A\u5B9E\u73B0";break;case 502:t.message="\u7F51\u5173\u9519\u8BEF";break;case 503:t.message="\u670D\u52A1\u4E0D\u53EF\u7528";break;case 504:t.message="\u7F51\u5173\u8D85\u65F6";break;case 505:t.message="HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301";break}return ae(t),Promise.reject(t)}),e};function st(e){return function(t){const s=P("token"),a={headers:{Authorization:s,"Content-Type":_.exports.get(t,"headers.Content-Type","application/json")},timeout:2e4,baseURL:e.baseURL||"/",data:{}};return s&&(a.headers.Authorization="Bearer "+s),e(Object.assign(a,t))}}const at=tt(),Ls=st(at),Fe=tt(),Ss=st(Fe),Ds=new xt(Fe),ze=[{username:"admin",password:"admin",id:"admin-uuid",name:"Admin"},{username:"editor",password:"editor",id:"editor-uuid",name:"Editor"}],Bs=[{id:Z.datatype.uuid(),component:"MainLayout",icon:"cog",islock:!1,hidden:!1,name:"layout",path:"/",permission:"",sort:1e3,title:"VueCesiumDemo",type:10,children:[{id:Z.datatype.uuid(),component:"/index",icon:"cog",islock:!1,hidden:!1,name:"index",path:"/index",permission:"permission-index",sort:1e3,caption:"\u9996\u9875",title:"message.header.index",type:10,children:[{id:Z.datatype.uuid(),component:"",icon:"eye",islock:!1,hidden:!1,name:"left-panel",path:"",permission:"permission-left-panel-view",sort:100101,title:"\u67E5\u770B\u5DE6\u4FA7\u9762\u677F",type:20}]},{id:Z.datatype.uuid(),component:"/demo",icon:"cog",islock:!1,hidden:!1,name:"demo",path:"/demo",permission:"permission-demo",sort:1e3,caption:"\u793A\u4F8B",title:"message.header.demo",type:10,children:[]}]}];var As=({service:e,request:t,serviceForMock:s,requestForMock:a,mock:o,faker:n,tools:r})=>({login(c={}){return o.onAny("/auth/login").reply(i=>{const p=r.parse(i.data),x=_.exports.find(ze,{username:p.username,password:p.password});return x?r.responseSuccess(_.exports.assign({},x,{token:"f5befe1a-962c-4cdd-bf45-77ce306dbbce"})):r.responseError({},"\u8D26\u53F7\u6216\u5BC6\u7801\u4E0D\u6B63\u786E")}),a({url:"/auth/login",method:"post",data:c})},getUserInfo(){return o.onAny("/user/info").reply(c=>{const i=P("uuid"),p=_.exports.find(ze,{id:i});return p?r.responseSuccess(_.exports.assign({},p)):(H("token"),H("uuid"),j.push("/login"),r.responseError({},"\u672A\u6388\u6743, \u8BF7\u767B\u5F55!"))}),a({url:"/user/info",method:"post"})},getAccessibleMenus(c={}){return o.onAny("/api/menu/accessible").reply(i=>r.responseSuccess(Bs)),a({url:"/api/menu/accessible",method:"post",data:c})}});const Os={service:at,request:Ls,serviceForMock:Fe,requestForMock:Ss,mock:Ds,faker:$t,tools:ks},ve=As(Os),Ts=Ft,j=Ct({scrollBehavior:()=>({left:0,top:0}),routes:Ke,history:Ts("/vue-cesium-demo")}),Me=["/login","/404"];j.beforeEach(async(e,t,s)=>{Pe.start(),L.commit("system/search/set",!1);const a=P("token");if(e.path!=="/login"&&ve.getUserInfo(),a)try{if(!L.getters["system/permission/inited"]){const r=[...(await ve.getAccessibleMenus()).data];await L.dispatch("system/permission/generateRoutes",{menuTree:r},{root:!0}),s(e.path);return}e.path==="/login"?s({path:"/index"}):s()}catch{Me.indexOf(e.path)!==-1?s():s("/login")}else Me.indexOf(e.path)!==-1?s():s("/login")});j.afterEach(e=>{Pe.done(),Es(e.meta.title)});var zs={namespaced:!0,actions:{async login({dispatch:e},t){const s=(await ve.login(t)).data;_e("token",s.token),_e("uuid",s.id),await e("system/user/set",M({},s),{root:!0}),await e("load")},logout({commit:e,dispatch:t},{confirm:s=!1}={}){return new Promise((a,o)=>{async function n(){H("token"),H("uuid"),await t("system/user/set",{},{root:!0}),e("system/permission/clear",!0,{root:!0}),e("system/menu/clear",!0,{root:!0}),j.push({name:"login"}),a(!0)}s?(e("system/gray/set",!0,{root:!0}),Ue.create({title:"\u6CE8\u9500\u7528\u6237",message:"\u786E\u5B9A\u8981\u6CE8\u9500\u5F53\u524D\u7528\u6237\u5417\uFF1F",cancel:!0}).onOk(()=>{e("system/gray/set",!1,{root:!0}),n()}).onCancel(()=>{e("system/gray/set",!1,{root:!0}),Y.create({message:"\u53D6\u6D88\u6CE8\u9500\u64CD\u4F5C"}),a(!1)})):n()})},async load({dispatch:e}){await e("system/user/load",null,{root:!0}),await e("system/theme/load",null,{root:!0}),await e("system/transition/load",null,{root:!0}),await e("system/menu/asideLoad",null,{root:!0})}}},Ms=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zs});const Rs="VueCesiumDemo",Vs=new kt(`${Rs}-0.0.0`),G=Lt(Vs);G.defaults({sys:{},database:{}}).write();function ke({dbName:e="database",path:t="",user:s=!0,validator:a=n=>!0,defaultValue:o=""}){const n=P("uuid")||"ghost-uuid",r=`${e}.${s?`user.${n}`:"public"}${t?`.${t}`:""}`,c=G.get(r).value();return c!==void 0&&a(c)||G.set(r,o).write(),r}function Ns({dbName:e="database",path:t="",value:s="",user:a=!1}){G.set(ke({dbName:e,path:t,user:a}),s).write()}function Is({dbName:e="database",path:t="",defaultValue:s="",user:a=!1}){return _.exports.cloneDeep(G.get(ke({dbName:e,path:t,user:a,defaultValue:s})).value())}function Re({dbName:e="database",path:t="",user:s=!1,validator:a=()=>!0,defaultValue:o=""}={}){return G.get(ke({dbName:e,path:t,user:s,validator:a,defaultValue:o}))}var Ps={namespaced:!0,actions:{set(e,{dbName:t="database",path:s="",value:a="",user:o=!1}){Ns({dbName:t,path:s,value:a,user:o})},get(e,{dbName:t="database",path:s="",defaultValue:a="",user:o=!1}){return Is({dbName:t,path:s,defaultValue:a,user:o})},database(e,{user:t=!1}={}){return Re({user:t,defaultValue:""})},databaseClear(e,{user:t=!1}={}){return Re({user:t,validator:()=>!0,defaultValue:""})}}},js=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ps}),Qs={namespaced:!0,state:{active:!1},actions:{listen({commit:e}){Q.isEnabled&&Q.on("change",()=>{Q.isFullscreen||e("set",!1)})},toggle({commit:e}){Q.isFullscreen?(Q.exit(),e("set",!1)):(Q.request(),e("set",!0))}},mutations:{set(e,t){e.active=t}}},qs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qs}),Us={namespaced:!0,state:{active:!1},mutations:{toggle(e){e.active=!e.active},set(e,t){e.active=t}}},Ws=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Us}),Hs={namespaced:!0,state:{global:{header:!1,content:!1,footer:!1,layerManager:!1},index:{workBench:!1}},mutations:{toggleGlobalLayout(e,t){Object.keys(t).forEach(a=>{_.exports.isBoolean(t[a])&&(e.global[a]=t[a])})},toggleIndexPageLayout(e,t){Object.keys(t).forEach(a=>{_.exports.isBoolean(t[a])&&(e.index[a]=t[a])})}}},Gs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Hs}),Ys={namespaced:!0,state:{log:[]},getters:{length(e){return e.log.length},lengthError(e){return e.log.filter(t=>t.type==="danger").length}},actions:{push({rootState:e,commit:t},{message:s,type:a="info",meta:o}){t("push",{message:s,type:a,time:St().format("YYYY-MM-DD HH:mm:ss"),meta:M({user:e.system.user.info,uuid:P("uuid"),token:P("token"),url:_.exports.get(window,"location.href","")},o)})}},mutations:{push(e,t){e.log.push(t)},clean(e){e.log=[]}}},Js=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ys}),O={theme:{list:[{title:"\u7ECF\u5178",name:"classic",preview:"images/theme/classic/preview@2x.png"},{title:"Element",name:"element",preview:"images/theme/element/preview@2x.png"}]},menu:{asideCollapse:!1,asideTransition:!0},hotkey:{search:{open:"s",close:"esc"}},transition:{active:!0}},Ks={namespaced:!0,state:{header:[],aside:[],asideCollapse:O.menu.asideCollapse||!0,asideTransition:O.menu.asideTransition||!0},actions:{async asideCollapseSet({state:e,dispatch:t},s){e.asideCollapse=s,await t("system/db/set",{dbName:"sys",path:"menu.asideCollapse",value:e.asideCollapse,user:!0},{root:!0})},async asideCollapseToggle({state:e,dispatch:t}){e.asideCollapse=!e.asideCollapse,await t("system/db/set",{dbName:"sys",path:"menu.asideCollapse",value:e.asideCollapse,user:!0},{root:!0})},async asideTransitionSet({state:e,dispatch:t},s){e.asideTransition=s,await t("system/db/set",{dbName:"sys",path:"menu.asideTransition",value:e.asideTransition,user:!0},{root:!0})},async asideTransitionToggle({state:e,dispatch:t}){e.asideTransition=!e.asideTransition,await t("system/db/set",{dbName:"sys",path:"menu.asideTransition",value:e.asideTransition,user:!0},{root:!0})},async asideLoad({state:e,dispatch:t}){await t("system/db/get",{dbName:"sys",path:"menu",defaultValue:O.menu,user:!0},{root:!0})}},mutations:{headerSet(e,t){e.header=t},asideSet(e,t){e.aside=t},clear(e){e.header=[],e.aside=[]}}},Xs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ks}),ne=(e,t)=>{const s=e.__vccOpts||e;for(const[a,o]of t)s[a]=o;return s};const Zs={},ea={class:"page-demo absolute"};function ta(e,t){return d(),h("div",ea,"index")}var sa=ne(Zs,[["render",ta]]),aa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sa});const oa={class:"z-top absolute-center page-index"},ra=v({setup(e){return be(()=>{Xe(!0)}),(t,s)=>(d(),h("div",oa))}});var na=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ra});const ua=v({name:"Error404"}),la={class:"fullscreen bg-blue text-white text-center q-pa-md flex flex-center"},ia=m("div",{style:{"font-size":"30vh"}},"404",-1),ca=m("div",{class:"text-h2",style:{opacity:"0.4"}},"\u5662. \u8FD9\u513F\u4EC0\u4E48\u4E5F\u6CA1\u6709...",-1);function da(e,t,s,a,o,n){return d(),h("div",la,[m("div",null,[ia,ca,u(F,{class:"q-mt-xl",color:"white","text-color":"blue",unelevated:"",to:"/onemap",label:"\u8FD4\u56DE\u4E3B\u9875","no-caps":""})])])}var ma=ne(ua,[["render",da]]),ot=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ma});const Le=e=>(Bt("data-v-d117bb70"),e=e(),At(),e),pa={class:"q-pa-md page-login z-top"},fa={class:"login-container col row"},ga=Le(()=>m("div",{class:"text-h4 q-my-sm"},"\u767B\u5F55",-1)),_a=Le(()=>m("div",{class:"oath flex"},[m("div",{class:"title full-width text-center q-pt-md"},"\u793E\u4EA4\u5E10\u53F7\u767B\u5F55"),m("div",{class:"q-gutter-md full-width text-center q-pt-sm flex justify-center"},[m("svg",{t:"1615200042776",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5886",width:"200",height:"200"},[m("path",{d:"M579.867 511.932c-11.67 0-23.344 10.837-23.344 24.178 0 10.839 11.668 21.678 23.344 21.678 17.514 0 30.020-10.839 30.020-21.678 0-13.34-12.505-24.178-30.020-24.178v0zM503.154 399.36c18.345 0 30.020-11.67 30.020-29.185 0-18.345-11.675-29.183-30.020-29.183-17.51 0-34.188 10.839-34.188 29.183-0.001 17.517 16.678 29.185 34.188 29.185v0zM512.326 0.56c-282.655 0-511.788 229.133-511.788 511.788 0 282.653 229.133 511.786 511.788 511.786 282.653 0 511.786-229.133 511.786-511.786 0.001-282.655-229.132-511.788-511.786-511.788v0zM415.602 642.009c-30.855 0-53.369-4.999-82.553-13.341l-84.218 42.53 24.186-71.715c-59.204-41.689-94.228-94.221-94.228-158.428 0-113.403 106.733-200.123 236.814-200.123 115.069 0 217.633 68.377 237.644 165.106-8.338-1.671-15.844-2.502-22.514-2.502-113.403 0-200.954 85.049-200.954 187.613 0 17.508 2.502 33.351 6.671 50.030-6.671 0.829-14.178 0.829-20.849 0.829v0zM763.314 723.724l16.674 60.041-63.371-35.854c-24.18 4.999-47.529 12.505-71.709 12.505-111.737 0-200.123-76.711-200.123-171.769 0-95.058 88.388-171.771 200.123-171.771 105.895 0 200.954 76.713 200.954 171.771 0 53.362-35.854 100.891-82.548 135.078v0zM338.053 340.992c-17.51 0-35.854 10.839-35.854 29.183 0 17.516 18.343 29.19 35.854 29.19 16.679 0 30.020-11.675 30.020-29.19 0-18.343-13.341-29.183-30.020-29.183v0zM710.783 511.932c-12.51 0-23.349 10.837-23.349 24.178 0 10.839 10.839 21.678 23.349 21.678 16.674 0 29.183-10.839 29.183-21.678 0-13.34-12.509-24.178-29.183-24.178v0zM710.783 511.932z","p-id":"5887","data-spm-anchor-id":"a313x.7781069.0.i22",class:"",fill:"#2dc100"})]),m("svg",{t:"1615199447339",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2522",width:"200",height:"200"},[m("path",{d:"M512 0C229.003636 0 0 229.003636 0 512s229.003636 512 512 512 512-229.003636 512-512S794.996364 0 512 0z m210.385455 641.396364c-7.447273 9.309091-26.996364-1.861818-41.89091-32.581819-3.723636 13.963636-13.032727 36.305455-34.443636 64.232728 35.374545 8.378182 44.683636 42.821818 33.512727 61.44-8.378182 13.032727-26.996364 24.203636-59.578181 24.203636-58.647273 0-83.781818-15.825455-95.883637-26.996364-1.861818-2.792727-5.585455-3.723636-10.24-3.723636-4.654545 0-7.447273 0.930909-10.24 3.723636-11.170909 11.170909-37.236364 26.996364-95.883636 26.996364-32.581818 0-52.130909-11.170909-59.578182-24.203636-12.101818-18.618182-1.861818-53.061818 33.512727-61.44-20.48-27.927273-29.789091-50.269091-34.443636-64.232728-13.963636 30.72-34.443636 42.821818-41.890909 32.581819-5.585455-8.378182-8.378182-26.065455-7.447273-38.167273 3.723636-46.545455 34.443636-85.643636 53.061818-106.123636-2.792727-5.585455-8.378182-40.029091 14.894546-63.301819v-1.861818c0-92.16 65.163636-158.254545 148.014545-158.254545 81.92 0 148.014545 66.094545 148.014546 158.254545v1.861818c23.272727 23.272727 17.687273 57.716364 14.894545 63.301819 17.687273 20.48 49.338182 59.578182 53.061818 106.123636 0.930909 12.101818-0.930909 29.789091-7.447272 38.167273z",fill:"#30A5DD","p-id":"2523"})]),m("svg",{t:"1615199464855",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3380",width:"200",height:"200"},[m("path",{d:"M448.698182 482.210909c-96.814545 4.654545-175.010909 56.785455-175.010909 121.949091s78.196364 114.501818 175.010909 109.847273S623.709091 647.912727 623.709091 582.749091c-0.930909-64.232727-79.127273-105.192727-175.010909-100.538182z m65.163636 164.770909c-29.789091 39.098182-88.436364 57.716364-145.221818 26.065455-26.996364-14.894545-26.065455-43.752727-26.065455-43.752728s-11.170909-92.16 85.643637-103.330909c97.745455-12.101818 115.432727 81.92 85.643636 121.018182z",fill:"#EA5D5C","p-id":"3381"}),m("path",{d:"M448.698182 584.610909c-6.516364 4.654545-7.447273 13.032727-3.723637 18.618182 2.792727 5.585455 11.170909 6.516364 16.756364 1.861818 5.585455-4.654545 8.378182-13.032727 4.654546-18.618182-2.792727-5.585455-10.24-6.516364-17.687273-1.861818zM403.083636 597.643636c-18.618182 1.861818-30.72 17.687273-30.72 33.512728 0 14.894545 14.894545 26.065455 32.581819 24.203636 17.687273-1.861818 32.581818-15.825455 32.581818-31.650909s-13.963636-27.927273-34.443637-26.065455z",fill:"#EA5D5C","p-id":"3382"}),m("path",{d:"M512 0C229.003636 0 0 229.003636 0 512s229.003636 512 512 512 512-229.003636 512-512S794.996364 0 512 0z m197.352727 626.501818C669.323636 712.145455 538.065455 754.036364 441.250909 746.589091c-92.16-7.447273-211.316364-38.167273-223.418182-151.738182 0 0-6.516364-51.2 42.821818-117.294545 0 0 70.749091-99.607273 152.669091-128.465455 82.850909-27.927273 92.16 19.549091 92.16 48.407273-4.654545 24.203636-12.101818 38.167273 18.618182 28.858182 0 0 80.989091-38.167273 114.501818-4.654546 26.996364 26.996364 4.654545 65.163636 4.654546 65.163637s-11.170909 12.101818 12.101818 16.756363c21.410909 3.723636 94.021818 37.236364 53.992727 122.88z m-80.058182-236.450909c-8.378182 0-15.825455-7.447273-15.825454-15.825454 0-9.309091 7.447273-15.825455 15.825454-15.825455 0 0 99.607273-18.618182 87.505455 89.367273v1.861818c-0.930909 7.447273-7.447273 13.963636-15.825455 13.963636-9.309091 0-15.825455-7.447273-15.825454-15.825454 0-1.861818 15.825455-73.541818-55.854546-57.716364zM797.789091 493.381818c-2.792727 18.618182-12.101818 11.170909-22.341818 11.170909-13.032727 0-23.272727-16.756364-23.272728-29.789091 0-11.170909 4.654545-22.341818 4.654546-22.341818 0.930909-4.654545 12.101818-34.443636-7.447273-78.196363-35.374545-60.509091-106.123636-60.509091-114.501818-57.716364-8.378182 3.723636-21.410909 5.585455-21.410909 5.585454-13.032727 0-23.272727-10.24-23.272727-23.272727 0-11.170909 7.447273-19.549091 16.756363-22.341818 0 0 0 0.930909 0.930909 0.930909s1.861818 0.930909 1.861819 0.930909c10.24-1.861818 45.614545-4.654545 79.127272 3.723637 62.370909 14.894545 146.152727 83.781818 108.916364 211.316363z",fill:"#EA5D5C","p-id":"3383"})])])],-1)),ya=Le(()=>m("div",{class:"row justify-between q-pt-md text-grey-8"},[m("span",null,"\u5FD8\u8BB0\u5BC6\u7801"),m("span",{class:"sign-up text-center cursor-pointer"}," \u8FD8\u6CA1\u6709\u8D26\u53F7\uFF1F\u73B0\u5728\u6CE8\u518C\uFF01 ")],-1)),ha=v({setup(e){Kt();const t=S(),s=Dt(),a=C({username:"admin",password:"admin"}),o={username:[c=>c&&c.length>0||"\u8BF7\u8F93\u5165\u7528\u6237\u540D"],password:[c=>c&&c.length>0||"\u8BF7\u8F93\u5165\u7528\u6237\u540D"],rememberMe:[c=>!!c||"You need to accept the license and terms first"]},n=async()=>{t.dispatch("system/account/login",a.value).then(c=>{s.replace(s.currentRoute.value.query.redirect||"/index")})},r=()=>{a.value={username:"",password:""}};return(c,i)=>(d(),h("div",pa,[m("div",fa,[u(Xt,{greedy:"",class:"form-login col-md-5",onSubmit:n,onReset:r},{default:l(()=>[ga,u(Ae,{modelValue:a.value.username,"onUpdate:modelValue":i[0]||(i[0]=p=>a.value.username=p),outlined:"",label:"\u7528\u6237\u540D","lazy-rules":"",rules:o.username},{prepend:l(()=>[u(me,{class:"icon",name:"perm_identity"})]),_:1},8,["modelValue","rules"]),u(Ae,{modelValue:a.value.password,"onUpdate:modelValue":i[1]||(i[1]=p=>a.value.password=p),outlined:"",label:"\u5BC6\u7801","lazy-rules":"",type:"password",rules:o.password},{prepend:l(()=>[u(me,{class:"icon",name:"lock"})]),_:1},8,["modelValue","rules"]),m("div",null,[u(F,{class:"btn-submit full-width no-outline text-h6",color:"primary",label:"\u767B\u5F55",type:"submit"})]),_a,ya]),_:1})])]))}});var va=ne(ha,[["__scopeId","data-v-d117bb70"]]),rt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:va});const ba={};var wa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ba});const xa=v({setup(e){const t="VueCesiumDemo",s=S(),a=Ot({sortBy:"desc",descending:!1,rowsPerPage:10}),o=C([{id:"time",label:"\u65F6\u95F4",field:"time",align:"center"},{id:"message",label:"\u4FE1\u606F",field:"message",align:"center"},{id:"url",label:"\u89E6\u53D1\u9875\u9762",field:"url",align:"center"},{id:"more",label:"\u67E5\u770B\u8BE6\u60C5",align:"center"}]),n=b(()=>s.state.system.log.log),r=c=>{Y.create({type:"info",caption:"\u65E5\u5FD7\u8BE6\u60C5",message:"\u5B8C\u6574\u7684\u65E5\u5FD7\u5185\u5BB9\u5DF2\u7ECF\u6253\u5370\u5230\u63A7\u5236\u53F0"}),hs(t,"\u65E5\u5FD7\u8BE6\u60C5","primary"),console.group(c.message),console.log("time: ",c.time),console.log("type: ",c.type),console.log(c.meta),console.groupEnd()};return(c,i)=>(d(),g(He,{class:"log-table-list",rows:f(n),columns:o.value,pagination:f(a)},{body:l(p=>[u(We,{props:p},{default:l(()=>[u(N,{key:"time",class:"text-center"},{default:l(()=>[w($(p.row.time),1)]),_:2},1024),u(N,{key:"message",class:"text-center"},{default:l(()=>[w($(p.row.message),1)]),_:2},1024),u(N,{key:"url",class:"text-center"},{default:l(()=>[w($(p.row.meta.url),1)]),_:2},1024),u(N,{key:"more",class:"text-center"},{default:l(()=>[u(F,{icon:"more",rounded:"",onClick:x=>r(p.row)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"]))}}),Ea=m("div",{class:"text-h6"},"\u65E5\u5FD7\u5217\u8868",-1),$a=w("\u5173\u95ED"),Ca=v({setup(e){const t=S(),s=b(()=>t.getters["system/log/length"]),a=b(()=>t.getters["system/log/lengthError"]),o=C(!1),n=b(()=>s.value===0?"\u6CA1\u6709\u65E5\u5FD7\u6216\u5F02\u5E38":`${s.value} \u6761\u65E5\u5FD7${a.value>0?` | \u5305\u542B ${a.value} \u4E2A\u5F02\u5E38`:""}`),r=()=>{o.value=!0};return(c,i)=>(d(),h(B,null,[u(F,{icon:"adjust",size:"md",flat:"",round:"",onClick:r},{default:l(()=>[u(U,null,{default:l(()=>[w($(f(n)),1)]),_:1})]),_:1}),u(Ge,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=p=>o.value=p)},{default:l(()=>[u(xe,{style:{width:"1440px","max-width":"960px"}},{default:l(()=>[u(I,{class:"row items-center q-pb-none"},{default:l(()=>[Ea,u(Ee),T((d(),g(F,{icon:"close",flat:"",round:"",dense:""},{default:l(()=>[u(U,null,{default:l(()=>[$a]),_:1})]),_:1})),[[W]])]),_:1}),u(I,{class:"theme-card"},{default:l(()=>[u(xa)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),Fa=v({setup(e){const t=S(),s=b(()=>t.state.system.fullscreen.active),a=()=>{t.dispatch("system/fullscreen/toggle",null,{root:!0})};return(o,n)=>(d(),g(F,{icon:f(s)?"fullscreen_exit":"fullscreen",size:"md",flat:"",round:"",onClick:a},{default:l(()=>[u(U,null,{default:l(()=>[w($(f(s)?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F"),1)]),_:1})]),_:1},8,["icon"]))}});const ka=w("\u5DF2\u6FC0\u6D3B"),La=w("\u4F7F\u7528"),Sa=v({setup(e){const t=S(),s=C([{id:"title",label:"\u540D\u79F0",field:"title",align:"center"},{id:"preview",label:"\u9884\u89C8",field:"preview",align:"center"},{id:"handler",label:"\u64CD\u4F5C",align:"center"}]),a=b(()=>t.state.system.theme.list),o=b(()=>t.state.system.theme.activeName),n=r=>{t.dispatch("system/theme/set",r)};return(r,c)=>(d(),g(He,{class:"theme-table-list",rows:f(a),"hide-header":"","hide-pagination":"",columns:s.value},{body:l(i=>[u(We,{props:i},{default:l(()=>[u(N,{key:"title"},{default:l(()=>[w($(i.row.title),1)]),_:2},1024),u(N,{key:"preview"},{default:l(()=>[w($(i.row.preview),1)]),_:2},1024),u(N,{key:"handler"},{default:l(()=>[f(o)===i.row.name?(d(),g(F,{key:0,class:"active",icon:"done",rounded:"",outline:""},{default:l(()=>[ka]),_:1})):(d(),g(F,{key:1,rounded:"",outline:"",onClick:p=>n(i.row.name)},{default:l(()=>[La]),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}}),Da=w("\u4E3B\u9898"),Ba=m("div",{class:"text-h6"},"\u4E3B\u9898",-1),Aa=w("\u5173\u95ED"),Oa=v({setup(e){const t=C(!1);return(s,a)=>(d(),h(B,null,[u(F,{icon:"style",size:"md",flat:"",round:"",onClick:a[0]||(a[0]=o=>t.value=!0)},{default:l(()=>[u(U,null,{default:l(()=>[Da]),_:1})]),_:1}),u(Ge,{modelValue:t.value,"onUpdate:modelValue":a[1]||(a[1]=o=>t.value=o)},{default:l(()=>[u(xe,{style:{width:"650px"}},{default:l(()=>[u(I,{class:"row items-center q-pb-none"},{default:l(()=>[Ba,u(Ee),T((d(),g(F,{icon:"close",flat:"",round:"",dense:""},{default:l(()=>[u(U,null,{default:l(()=>[Aa]),_:1})]),_:1})),[[W]])]),_:1}),u(I,{class:"theme-card"},{default:l(()=>[u(Sa)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),Ta=w("\u6CE8\u9500"),za=v({setup(e){const t=S(),s=t.state.system.user,a=Tt(),o=()=>{t.dispatch("system/account/logout",{confirm:!0}).then(n=>{if(n){Xe(!1),_s({leftPanel:!1}),X({featureInfo:!1,layerManager:!1}),xs();const r={position:[105,30,21634101],heading:360,pitch:-90,roll:0};(a==null?void 0:a.viewer)&&zt(a==null?void 0:a.viewer,r,{duration:3})}})};return(n,r)=>{var c,i;return d(),g(F,{dense:"",rounded:"","no-caps":"",size:"md",class:"q-mr-sm","auto-close":"",icon:"person",label:(i=(c=f(s).info)==null?void 0:c.sysUser)==null?void 0:i.username},{default:l(()=>[u(es,null,{default:l(()=>[u(Ye,{dense:""},{default:l(()=>[T((d(),g(pe,{clickable:"",dense:"",onClick:o},{default:l(()=>[u(se,{avatar:""},{default:l(()=>[u(Zt,{icon:"logout"})]),_:1}),u(se,null,{default:l(()=>[u(fe,null,{default:l(()=>[Ta]),_:1})]),_:1})]),_:1})),[[W]])]),_:1})]),_:1})]),_:1},8,["label"])}}}),Ma=w("\u7B80\u4F53\u4E2D\u6587"),Ra=w("English"),Va=v({setup(e){const{locale:t}=je(),s=C(!1),a=o=>{t.value=o,_e("locale",o)};return(o,n)=>(d(),g(ts,{modelValue:s.value,"onUpdate:modelValue":n[2]||(n[2]=r=>s.value=r),dense:"",color:"#fff","fab-mini":"",size:"md","dropdown-icon":"language",flat:""},{default:l(()=>[u(Ye,null,{default:l(()=>[T((d(),g(pe,{clickable:"",onClick:n[0]||(n[0]=r=>a("zh-CN"))},{default:l(()=>[u(se,null,{default:l(()=>[u(fe,null,{default:l(()=>[Ma]),_:1})]),_:1})]),_:1})),[[W]]),T((d(),g(pe,{clickable:"",onClick:n[1]||(n[1]=r=>a("en-US"))},{default:l(()=>[u(se,null,{default:l(()=>[u(fe,null,{default:l(()=>[Ra]),_:1})]),_:1})]),_:1})),[[W]])]),_:1})]),_:1},8,["modelValue"]))}}),Na={class:"left"},Ia={class:"content"},Pa=m("div",{size:"60px",class:"logo-img float"},[m("img",{src:"https://zouyaoji.top/vue-cesium/favicon.png"})],-1),ja={class:"title text-h4 float"},Qa={class:"nav float"},qa={class:"right q-ml-sm q-mr-sm"},Ua={key:0,class:"content"},Wa=v({setup(e){const t=C(!1),s=S(),a=b(()=>"VueCesium Demo"),o=b(()=>s.state.system.menu.header.length?s.state.system.menu.header[0].children:[]),n=b(()=>!1);return(r,c)=>(d(),h("div",{class:"main-header",style:Mt({opacity:t.value?.5:1})},[m("div",Na,[m("div",Ia,[Pa,m("div",ja,[m("div",null,$(f(a)),1)]),m("div",Qa,[u(ss,null,{default:l(()=>[(d(!0),h(B,null,q(f(o),(i,p)=>(d(),g(as,{key:p,to:i.path,exact:"",label:r.$t(i.title),"active-class":"menu-active"},null,8,["to","label"]))),128))]),_:1})])])]),m("div",qa,[f(o).length?(d(),h("div",Ua,[f(n)?(d(),g(Ca,{key:0})):A("",!0),u(Fa),u(Oa),u(Va),u(za)])):A("",!0)])],4))}}),Ha={key:0,class:"text-weight-bold"},Ga={class:"content"},Ya=v({props:{title:{type:String,default:""},titleClass:{type:String,default:""},closeTip:{type:String,default:"\u5173\u95ED"},showCloseBtn:{type:Boolean,default:!0},separatorOpts:{type:Object,default:()=>({show:!0,dark:!0,color:"white",size:"1px"})}},emits:["close"],setup(e,{emit:t}){const s=a=>{t("close",a)};return(a,o)=>(d(),g(xe,{class:"common-panel"},{default:l(()=>[u(os,{class:we(["header",e.titleClass])},{default:l(()=>[e.title!==""?(d(),h("div",Ha,$(e.title),1)):A("",!0),te(a.$slots,"header-left"),u(Ee),te(a.$slots,"header-right"),e.showCloseBtn?T((d(),g(F,{key:1,dense:"",flat:"",icon:"close",onClick:s},{default:l(()=>[u(U,null,{default:l(()=>[w($(e.closeTip),1)]),_:1})]),_:1})),[[W]]):A("",!0)]),_:3},8,["class"]),e.separatorOpts.show?(d(),g(ge,de(Qe({key:0},e.separatorOpts)),null,16)):A("",!0),m("div",Ga,[te(a.$slots,"default")])]),_:3}))}});var Ja=v({name:"DragWrapper",props:{restriction:{type:[String,Object,Function],default:"parent"}},setup(e,t){const s=C(null),a=Rt(),o=r=>{const c=r.target,i=(parseFloat(c.getAttribute("data-x"))||0)+r.dx,p=(parseFloat(c.getAttribute("data-y"))||0)+r.dy;c.style.webkitTransform=c.style.transform="translate("+i+"px, "+p+"px)",c.setAttribute("data-x",i),c.setAttribute("data-y",p)},n=()=>{const r=s.value,c=ee(r),i={name:"drag",axis:"xy"};c.reflow(i)};return be(()=>{const r=s.value;ee(r).draggable({ignoreFrom:"button, .ignore-drag",allowFrom:".drag-handle",inertia:!0,onmove:o,restrict:{restriction:e.restriction,endOnly:!0,elementRect:{left:0,right:1,top:0,bottom:1}}}),addEventListener("resize",n,!1)}),Vt(()=>{const r=s.value;ee.isSet(r)&&ee(r).unset(),removeEventListener("resize",n,!1)}),Object.assign(a==null?void 0:a.proxy,{resizeListener:n}),()=>Nt("div",{ref:s,class:"drag-wrapper absolute"},It(t.slots.default))}});const Ka={class:"text-subtitle2"},Xa={class:"q-gutter-sm"},Za={class:"text-subtitle2"},eo={class:"q-gutter-sm"},to={class:"text-subtitle2"},so={class:"q-gutter-sm"},ao=v({setup(e){const t=C(null),s=S(),a=C("tianditu_img"),o=s.state.system.layout.global,n=s.state.system.layout.index;Pt(n,x=>{jt(()=>{var D,y;t.value&&((y=(D=t.value).resizeListener)==null||y.call(D))})},{deep:!0});const r=b(()=>({rasterLayers:s.state.viewer.layer.rasterLayers,baseLayers:s.state.viewer.layer.baseLayers,vectorLayers:s.state.viewer.layer.vectorLayers})),c=(x,D)=>{r.value.baseLayers.forEach(y=>{y.name===x?ie(y.name,!0):ie(y.name,!1)})},i=(x,D)=>{const y=x.name;ie(y,D)},p=()=>{X({layerManager:!s.state.system.layout.global.layerManager})};return(x,D)=>(d(),h("div",{class:we(["layer-manager",f(n).leftPanel?"":"full-srceen"])},[u(f(Ja),{ref_key:"dragWrapperRef",ref:t},{default:l(()=>[T(u(Ya,{class:"layer-manager-panel",title:x.$t("message.panel.layerManager"),"title-class":"drag-handle",onClose:p},{default:l(()=>[u(I,{class:"q-pt-sm"},{default:l(()=>[m("div",Ka,$(x.$t("message.baseLayer")),1),m("div",Xa,[(d(!0),h(B,null,q(f(r).baseLayers,(y,z)=>(d(),g(rs,{key:z,modelValue:a.value,"onUpdate:modelValue":[D[0]||(D[0]=E=>a.value=E),c],val:y.name,label:y.text},null,8,["modelValue","val","label"]))),128))])]),_:1}),u(ge,{inset:""}),u(I,{class:"q-pt-sm"},{default:l(()=>[m("div",Za,$(x.$t("message.rasterLayer")),1),m("div",eo,[(d(!0),h(B,null,q(f(r).rasterLayers,(y,z)=>(d(),g(Oe,{key:z,modelValue:y.show,"onUpdate:modelValue":[E=>y.show=E,E=>i(y,E)],val:y.name,label:y.text},null,8,["modelValue","onUpdate:modelValue","val","label"]))),128))])]),_:1}),u(ge,{inset:""}),u(I,{class:"q-pt-sm"},{default:l(()=>[m("div",to,$(x.$t("message.vectorLayer")),1),m("div",so,[(d(!0),h(B,null,q(f(r).vectorLayers,(y,z)=>(d(),g(Oe,{key:z,modelValue:y.props.show,"onUpdate:modelValue":[E=>y.props.show=E,E=>i(y,E)],val:y.name,label:y.text},null,8,["modelValue","onUpdate:modelValue","val","label"]))),128))])]),_:1})]),_:1},8,["title"]),[[qe,f(o).layerManager]])]),_:1},512)],2))}}),oo={class:"main-interaction"},ro={class:"layer-manager-wrapper"},no={key:0,class:"layer-switch cursor-pointer"},uo=v({setup(e){const t=S();t.state.system.layout.index;const s=b(()=>t.state.system.menu.header.length?t.state.system.menu.header[0].children:[]),a=()=>{X({layerManager:!t.state.system.layout.global.layerManager})};return(o,n)=>(d(),h("div",oo,[m("div",ro,[f(s).length?(d(),h("div",no,[u(F,{dense:"",round:"",size:"10px",style:{background:"#fff",color:"#3f4854"},onClick:a},{default:l(()=>[u(me,{name:"layers"})]),_:1})])):A("",!0),u(ao)])]))}}),lo={class:"vc-drawtip vc-tooltip--style"},io=v({emits:["viewerReady","cesiumReady","leftClick","destroyed"],setup(e,{emit:t}){const s={"en-US":qt,"zh-CN":Ut},{locale:a}=je(),o=b(()=>s[a.value]);C({position:{lng:105,lat:31,height:21634101}});const{registerTimeout:n}=Qt();C(null);const r=[0,75],c=C({outerOptions:{icon:"svguse:#vc-icons-compass-outer"},duration:5}),i=S(),p=i.state.viewer.overlay.mouseOverNameOpts;i.state.viewer.render.selectedRenderData;const x=b(()=>[...i.state.viewer.layer.baseLayers,...i.state.viewer.layer.rasterLayers]),D=b(()=>i.state.viewer.layer.vectorLayers),y=E=>{t("viewerReady",E),X({header:!0}),n(()=>{X({content:!0})},500)},z=E=>{t("cesiumReady",E)};return(E,Go)=>{const mt=V("vc-navigation"),pt=V("vc-layer-imagery"),ft=V("vc-overlay-html"),gt=V("vc-viewer"),_t=V("vc-config-provider");return d(),g(_t,{locale:f(o)},{default:l(()=>[u(gt,{class:"main-viewer",onReady:y,onCesiumReady:z},{default:l(()=>[u(mt,{offset:r,"compass-opts":c.value},null,8,["compass-opts"]),(d(!0),h(B,null,q(f(x),(k,ue)=>(d(),g(pt,{key:"layer"+ue,alpha:k.alpha,brightness:k.brightness,contrast:k.contrast,"sort-order":k.sortOrder,show:k.show},{default:l(()=>[(d(),g(Be(k.component),de(Wt(k.props)),null,16))]),_:2},1032,["alpha","brightness","contrast","sort-order","show"]))),128)),(d(!0),h(B,null,q(f(D),(k,ue)=>(d(),h(B,{key:"vector"+ue},[(k.component==="VcTerrainProviderCesium"?k.props.show:!0)?(d(),g(Be(k.component),de(Qe({key:0},k.props)),null,16)):A("",!0)],64))),128)),f(p).show?(d(),g(ft,{key:0,position:f(p).position,"pixel-offset":f(p).pixelOffset},{default:l(()=>[m("div",lo,$(f(p).text),1)]),_:1},8,["position","pixel-offset"])):A("",!0),te(E.$slots,"default")]),_:3})]),_:3},8,["locale"])}}}),co={elevated:"",reveal:"",class:"absolute text-h4 text-center"},mo={key:0,class:"content"},nt=v({setup(e){const t=S(),s=t.state.system.layout.global,a=b(()=>t.state.system.gray.active);return be(()=>{t.dispatch("system/account/load",null,{root:!0}),t.dispatch("system/fullscreen/listen",null,{root:!0}),window.onunhandledrejection=o=>{t.dispatch("system/log/push",{message:_.exports.get(o,"reason.message","Unknown error"),type:"danger",meta:{error:_.exports.get(o,"reason"),trace:_.exports.get(o,"reason.stack")}})},window.onerror=(o,n,r,c,i)=>{t.dispatch("system/log/push",{message:_.exports.get(i,"message","Unknown error"),type:"danger",meta:{error:i,trace:_.exports.get(i,"stack"),source:`${n}@${r}:${c}`,event:o}})}}),(o,n)=>{const r=V("router-view");return d(),g(ns,{view:"lhh Lpr lFf",class:we(["main-layout",{"gray-mode":f(a)}])},{default:l(()=>[u(ls,{class:"no-padding"},{default:l(()=>[u(us,{class:"interaction-root"},{default:l(()=>[u(io,null,{default:l(()=>[T(m("header",co,[u(Wa)],512),[[qe,f(s).header]]),f(s).content?(d(),h("div",mo,[u(uo),u(r)])):A("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])}}});var po=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nt});const R=re([]);re([]);const fo=[...R];function go(e){return e==null||e===""}const _o={"../../../pages/demo/Index.vue":aa,"../../../pages/index/Index.vue":na,"../../../pages/system/Error404.vue":ot,"../../../pages/system/Login.vue":rt,"../../../pages/index/work-bench/Index.vue":wa},yo=e=>{const t=_o[`../../../pages${e}/Index.vue`];if(!t){ws(`\u52A8\u6001\u8DEF\u7531\u9875\u9762\u3010${e}\u3011\u52A0\u8F7D\u5931\u8D25\u3002\u8BF7\u68C0\u67E5\u9875\u9762\u6587\u4EF6\u662F\u5426\u5B58\u5728\u3002`);return}return t.default};function ut(e,t){return e==null&&(e={children:[]}),t.forEach(s=>{let a=e;if(s.type!==20&&!go(s.component)){let o=null;s.component==="MainLayout"?o=nt:o=yo(s.path);const n=e.children;a={path:s.path,name:s.name,hidden:s.hidden,component:o,meta:{title:s.title,auth:!0,cache:!0}},n.push(a)}s.children!=null&&s.children.length>0&&(a.children==null&&(a.children=[]),ut(a,s.children))}),e.children}function lt(e,t){return e==null&&(e=[]),e.forEach(s=>{s.permission!=null&&s.permission!==""&&t.push(s.permission),s.children!=null&&s.children.length>0&&lt(s.children,t)}),t}function it(e){e==null&&(e=[]);let t=[];return e.forEach(s=>{s.type===10&&(s.children!=null&&s.children.length>0&&it(s.children),s.icon!=null&&s.icon!=="",t.push(M({},s)))}),t.length===0&&(t=void 0),t}const K={routes:[],addRoutes:[],permissions:[],inited:!1},ho={setRoutes:(e,{accessedRoutes:t,permissions:s})=>{e.addRoutes=t,e.routes=Ke.concat(t),e.inited=!0,e.permissions=s},clear:()=>{K.addRoutes=[],K.routes=[],K.inited=!1,K.permissions=[]}},vo={generateRoutes({rootState:e,state:t,commit:s},{menuTree:a}){return new Promise(o=>{const n=ut(null,a),r=lt(a,[]);s("setRoutes",{accessedRoutes:n,permissions:r}),n.forEach(i=>{i.name==="layout"&&i.path==="/"&&(i.children=i.children.concat(gs[0].children)),j.addRoute(i)});const c=re(it(a));R.splice(0,R.length),R.push(...fo),R.push(...c),s("system/menu/headerSet",R,{root:!0}),e.system.menu.asideSet==null,s("system/search/init",R,{root:!0}),o(!0)})},async getAccessibleMenus({state:e,dispatch:t}){},clear({commit:e}){e("clear")}},bo={inited(e){return e.inited},permissions(e){return e.permissions}};var wo={namespaced:!0,state:K,mutations:ho,actions:vo,getters:bo},xo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wo}),Eo={namespaced:!0,state:{active:!1,hotkey:{open:O.hotkey.search.open,close:O.hotkey.search.close},pool:[]},mutations:{toggle(e){e.active=!e.active},set(e,t){e.active=t},init(e,t){const s=[],a=function(o,n=[]){o.forEach(r=>{r.children?a(r.children,[...n,r.title]):s.push(le(M({},r),{fullTitle:[...n,r.title].join(" / ")}))})};a(t),e.pool=s}}},$o=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Eo});let ce="";var Co={namespaced:!0,state:{list:_.exports.get(O,"theme.list",[]),activeName:_.exports.get(O,"theme.list[0].name","classic")},getters:{activeSetting(e){return e.list.find(t=>t.name===e.activeName)}},actions:{async set({state:e,commit:t,dispatch:s},a){ce=e.activeName,e.activeName=e.list.find(o=>o.name===a)?a:e.list[0].name,t("dom"),await s("system/db/set",{dbName:"sys",path:"theme.activeName",value:e.activeName,user:!0},{root:!0})},async load({state:e,commit:t,dispatch:s}){ce=e.activeName;const a=await s("system/db/get",{dbName:"sys",path:"theme.activeName",defaultValue:e.list[0].name,user:!0},{root:!0});e.list.find(o=>o.name===a)?e.activeName=a:(e.activeName=e.list[0].name,await s("system/db/set",{dbName:"sys",path:"theme.activeName",value:e.activeName,user:!0},{root:!0})),t("dom")}},mutations:{dom(e){const t=`theme-${ce}`,s=`theme-${e.activeName}`;document.body.className.includes(t)?document.body.className=document.body.className.replace(t,s):document.body.className+=" "+s}}},Fo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Co}),ko={namespaced:!0,state:{active:O.transition.active},actions:{async set({state:e,dispatch:t},s){e.active=s,await t("system/db/set",{dbName:"sys",path:"transition.active",value:e.active,user:!0},{root:!0})},async load({state:e,dispatch:t}){e.active=await t("system/db/get",{dbName:"sys",path:"transition.active",defaultValue:O.transition.active,user:!0},{root:!0})}}},Lo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ko}),So={namespaced:!0,state:{info:{}},mutations:{set(e,t){e.info=t}},actions:{async set({state:e,dispatch:t,commit:s},a){s("set",a),await t("system/db/set",{dbName:"sys",path:"user.info",value:a,user:!0},{root:!0})},async load({state:e,dispatch:t,commit:s}){const a=await t("system/db/get",{dbName:"sys",path:"user.info",defaultValue:{},user:!0},{root:!0});s("set",a)}}},Do=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:So});const Ve={"./account.ts":Ms,"./db.ts":js,"./fullscreen.ts":qs,"./gray.ts":Ws,"./layout.ts":Gs,"./log.ts":Js,"./menu.ts":Xs,"./permission.ts":xo,"./search.ts":$o,"./theme.ts":Fo,"./transition.ts":Lo,"./user.ts":Do},ct={};for(const e in Ve)ct[e.replace(/(\.\/|\.ts)/g,"")]=Ve[e].default;var Bo={namespaced:!0,modules:ct},Ao={namespaced:!0,state:{baseLayers:[{name:"tianditu_img",text:"\u5929\u5730\u56FE\u5F71\u50CF",component:"VcImageryProviderTianditu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!0,props:{mapStyle:"img_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}},{name:"tianditu_vec",text:"\u5929\u5730\u56FE\u77E2\u91CF",component:"VcImageryProviderTianditu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!0,props:{mapStyle:"vec_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}},{name:"baidu_dark",text:"\u767E\u5EA6\u5730\u56FE_\u9ED1\u591C",component:"VcImageryProviderBaidu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{customid:"dark",projectionTransforms:{form:"BD09",to:"WGS84"}}},{name:"baidu_midnight",text:"\u767E\u5EA6\u5730\u56FE_\u5348\u591C\u84DD",component:"VcImageryProviderBaidu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{customid:"midnight",projectionTransforms:{form:"BD09",to:"WGS84"}}},{name:"osm",text:"OSM",component:"VcImageryProviderOsm",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},{name:"arcgis",text:"ArcGIS",component:"VcImageryProviderArcgis",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1}],rasterLayers:[{name:"tianditu_cva",text:"\u5929\u5730\u56FE\u6CE8\u8BB0",component:"VcImageryProviderTianditu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!0,props:{mapStyle:"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}}],vectorLayers:[{name:"admin",text:"\u884C\u653F\u533A\u5212",component:"VcDatasourceGeojson",props:{strokeWidth:5,stroke:"#ffc107",fill:"transparent",show:!1,data:"./datas/china.json"}},{name:"terrain",text:"\u5168\u7403\u5730\u5F62",component:"VcTerrainProviderCesium",props:{show:!1}}]},mutations:{toggle(e,{names:t,show:s}){const a=[...e.baseLayers,...e.rasterLayers,...e.vectorLayers];t=Array.isArray(t)?t:[t],t.forEach(o=>{var r;const n=_.exports.find(a,c=>c.name===o);!_.exports.isUndefined(n==null?void 0:n.show)&&(n.show=s),!_.exports.isUndefined((r=n==null?void 0:n.props)==null?void 0:r.show)&&(n.props.show=s)})}},actions:{loadDefaultLayers({state:e,dispatch:t,commit:s},a){const o=[...e.baseLayers,...e.rasterLayers,...e.vectorLayers].map(r=>r.name);s("toggle",{names:o,show:!1}),s("toggle",{names:["tianditu_img","tianditu_cva","admin"],show:!0})}}},Oo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ao}),To={namespaced:!0,state:{mouseOverNameOpts:{position:[117.186419,45.66446,20],show:!1,text:"",pixelOffset:[0,0]}},mutations:{setMouseOverlayLabel(e,{position:t,show:s,text:a,pixelOffset:o}){e.mouseOverNameOpts.position=t,e.mouseOverNameOpts.show=s,e.mouseOverNameOpts.text=a,e.mouseOverNameOpts.pixelOffset=o}}},zo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:To}),Mo={namespaced:!0,state:{renderDatas:[],selectedRenderData:{model:void 0,renderingType:void 0,restoreHandler:void 0,feature:void 0,featureInfoListItems:[]},renderingApi:"entity"},getters:{selectedRenderData(e){return e.selectedRenderData},renderingApi(e){return e.renderingApi}},mutations:{addRenderDatas(e,t){t=Array.isArray(t)?t:[t],t.forEach(s=>{if(_.exports.findIndex(e.renderDatas,a=>a.id===s.id)!==-1){et(`\u6DFB\u52A0\u6E32\u67D3\u6570\u636E\u96C6\u5931\u8D25\uFF0C\u539F\u56E0\uFF1Aid \u4E3A\u3010${s.id} \u3011\u7684\u6570\u636E\u5DF2\u7ECF\u5B58\u5728\u3002`,"\u6E32\u67D3\u6570\u636E\u6A21\u578B\uFF1A",s);return}e.renderDatas.push(s)})},removeRenderDataById(e,t){_.exports.remove(e.renderDatas,s=>s.id===t)},removeRenderDataByType(e,t){_.exports.remove(e.renderDatas,s=>s.type===t)},removeRenderDataByPage(e,t){_.exports.remove(e.renderDatas,s=>s.page===t)},removeAllRenderData(e){e.renderDatas.length=0},setSelectedRenderData(e,t){e.selectedRenderData.model=t.model,e.selectedRenderData.renderingType=t.renderingType,e.selectedRenderData.restoreHandler=t.restoreHandler,e.selectedRenderData.feature=t.feature,e.selectedRenderData.featureInfoListItems=t.featureInfoListItems}},actions:{getRenderDataByDatasetId({state:e},t){return _.exports.find(e.renderDatas,s=>s.id===t)}}},Ro=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Mo});const Ne={"./layer.ts":Oo,"./overlay.ts":zo,"./render.ts":Ro},dt={};for(const e in Ne)dt[e.replace(/(\.\/|\.ts)/g,"")]=Ne[e].default;var Vo={namespaced:!0,modules:dt};const No=Ht({modules:{system:Bo,viewer:Vo},strict:!1});var L=No,Io={message:{header:{index:"\u9996\u9875",demo:"\u793A\u4F8B"},panel:{layerManager:"\u56FE\u5C42\u7BA1\u7406"},baseLayer:"\u5E95\u56FE\u56FE\u5C42",rasterLayer:"\u6805\u683C\u56FE\u5C42",vectorLayer:"\u77E2\u91CF\u56FE\u5C42"}},Po={message:{header:{index:"Index",demo:"Demo"},panel:{layerManager:"LayerManager"},baseLayer:"BaseLayer",rasterLayer:"RasterLayer",vectorLayer:"VectorLayer"}},jo={"zh-CN":Io,"en-US":Po};const Qo={};function qo(e,t){const s=V("router-view");return d(),g(s)}var Uo=ne(Qo,[["render",qo]]);const Wo=P("locale"),Ho=Gt({legacy:!1,locale:Wo,fallbackLocale:"zh-CN",globalInjection:!0,messages:jo}),J=Yt(Uo);J.use(is,{plugins:{Notify:Y,Dialog:Ue,LocalStorage:oe},lang:cs});J.use(Ho);J.use(Jt);J.use(L);J.use(j);J.mount("#app");
