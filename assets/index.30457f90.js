var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,l=(e,t)=>{for(var a in t||(t={}))s.call(t,a)&&n(e,a,t[a]);if(o)for(var a of o(t))r.call(t,a)&&n(e,a,t[a]);return e},i=(e,o)=>t(e,a(o));import{I as c,ce as d,cf as m,cg as u,ch as p,ci as h,cj as g,ck as f,cl as v,cm as y,cn as b,co as C,cp as w,cq as x,cr as k,d as _,j as L,cs as S,ct as V,cu as O,cv as B,r as P,b as I,cw as T,cx as N,cy as D,F as z,a as M,cz as A,cA as j,cB as R,w as E,cC as $,cD as q,cE as H,R as G,cF as U,a0 as Q,cG as F,cH as W,cI as Y,g as Z,cJ as J,o as K,h as X,cK as ee,f as te,n as ae,cL as oe,i as se,cM as re,cN as ne,cO as le,cP as ie,cQ as ce,cR as de,c as me}from"./vendor.bd0e1271.js";import{P as ue,N as pe,Q as he,u as ge,a as fe,b as ve,c as ye,d as be,e as Ce,f as we,g as xe,h as ke,i as _e,j as Le,C as Se,k as Ve,l as Oe,m as Be,n as Pe,o as Ie,p as Te,q as Ne,r as De,s as ze,t as Me,v as Ae,w as je,x as Re,y as Ee,z as $e,A as qe,B as He,D as Ge,E as Ue,F as Qe,G as Fe}from"./vendor-quasar.d09e5804.js";import{u as We,f as Ye,h as Ze,a as Je,V as Ke,e as Xe,d as et,i as tt}from"./vendor-vue-cesium.7a02babd.js";import"./vendor-echarts.1c7e604f.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();function at(e="default",t=""){ue.set(`VueCesiumDemo-0.0.0-${e}`,t)}function ot(e="default"){return ue.getItem(`VueCesiumDemo-0.0.0-${e}`)}function st(e="default"){ue.remove(`VueCesiumDemo-0.0.0-${e}`)}const rt={},nt=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`./${e}`)in rt)return;rt[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((t,a)=>{o.addEventListener("load",t),o.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())):e()},lt=[{path:"/",name:"layout",component:()=>nt((()=>Promise.resolve().then((function(){return Ja}))),void 0),redirect:{path:"index"},children:[{name:"login",path:"/login",component:()=>nt((()=>Promise.resolve().then((function(){return oa}))),void 0)}]}],it=[{path:"/:catchAll(.*)*",name:"404",component:()=>nt((()=>Promise.resolve().then((function(){return Yt}))),void 0)}],ct=lt;var dt=[...lt,...it];const mt=((e="")=>function(...t){e&&(c(t[0])?t[0]=e.trim()+" "+t[0]:t=[e.trim(),...t]);const a=t.shift(),o=new Error(a);Lo.system.useLogStore(_o).push({message:"业务逻辑警告",type:"warning",meta:{error:o}}),pe.create({message:a,timeout:3e3,type:"warning"})})("[VueCesiumDemo] WARN "),ut=((e="")=>function(...t){e&&(c(t[0])?t[0]=e.trim()+" "+t[0]:t=[e.trim(),...t]);const a=t.shift(),o=new Error(a);Lo.system.useLogStore(_o).push({message:"业务逻辑异常",type:"danger",meta:{error:o}}),pe.create({message:a,timeout:3e3,type:"negative"})})("[VueCesiumDemo] ERR ");function pt(e){return e.map((e=>l(i(l({},e),{path:e.path||d.exports.uniqueId("vc-menu-empty-")}),e.children?{children:pt(e.children)}:{})))}function ht(e={},t="",a=0){return[200,{code:a,msg:t,data:e}]}function gt(e){Lo.system.useLogStore(_o).push({message:"数据请求异常",type:"danger",meta:{error:e}}),pe.create({message:e.message,type:"negative",timeout:3e3})}function ft(e){const t=new Error(e);throw gt(t),t}var vt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",parse:function(e="{}",t={}){let a=t;try{a=JSON.parse(e)}catch(o){ut(o)}return a},response:ht,responseSuccess:function(e={},t="成功"){return ht(e,t)},responseError:function(e={},t="请求失败",a=500){return ht(e,t,a)},errorLog:gt,errorCreate:ft});const yt=()=>{const e=u.create({});return e.interceptors.request.use((e=>e),(e=>(gt(e),Promise.reject(e)))),e.interceptors.response.use((e=>{const t=e.data,{code:a}=t;if(void 0===a)return t;switch(a){case 0:case 200:return t;case"xxx":ft(`[ code: xxx ] ${t.msg}: ${e.config.url}`);break;default:return ft(`${t.msg}: ${e.config.url}`),Promise.reject(t)}}),(e=>{switch(d.exports.get(e,"response.status")){case 400:e.message="请求错误";break;case 401:e.message="未授权，请登录",st("token"),st("uuid"),Pt.push("/login");break;case 403:e.message="拒绝访问";break;case 404:e.message=`请求地址出错: ${e.response.config.url}`;break;case 408:e.message="请求超时";break;case 500:e.message="服务器内部错误";break;case 501:e.message="服务未实现";break;case 502:e.message="网关错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网关超时";break;case 505:e.message="HTTP版本不受支持"}return gt(e),Promise.reject(e)})),e};function bt(e){return function(t){const a=ot("token"),o={headers:{Authorization:a,"Content-Type":d.exports.get(t,"headers.Content-Type","application/json")},timeout:2e4,baseURL:e.baseURL||"/",data:{}};return a&&(o.headers.Authorization="Bearer "+a),e(Object.assign(o,t))}}const Ct=yt(),wt=bt(Ct),xt=yt(),kt=bt(xt),_t=new m(xt),Lt=[{username:"admin",password:"admin",id:"admin-uuid",name:"Admin"},{username:"editor",password:"editor",id:"editor-uuid",name:"Editor"}],St=[{id:p.datatype.uuid(),component:"MainLayout",icon:"cog",islock:!1,hidden:!1,name:"layout",path:"/",permission:"",sort:1e3,title:"VueCesiumDemo",type:10,children:[{id:p.datatype.uuid(),component:"/index",icon:"cog",islock:!1,hidden:!1,name:"index",path:"/index",permission:"permission-index",sort:1e3,caption:"首页",title:"message.header.index",type:10,children:[{id:p.datatype.uuid(),component:"",icon:"eye",islock:!1,hidden:!1,name:"left-panel",path:"",permission:"permission-left-panel-view",sort:100101,title:"查看左侧面板",type:20}]},{id:p.datatype.uuid(),component:"/demo",icon:"cog",islock:!1,hidden:!1,name:"demo",path:"/demo",permission:"permission-demo",sort:1e3,caption:"示例",title:"message.header.demo",type:10,children:[]}]}];const Vt=(({service:e,request:t,serviceForMock:a,requestForMock:o,mock:s,faker:r,tools:n})=>({login:(e={})=>(s.onAny("/auth/login").reply((e=>{const t=n.parse(e.data),a=d.exports.find(Lt,{username:t.username,password:t.password});return a?n.responseSuccess(d.exports.assign({},a,{token:"f5befe1a-962c-4cdd-bf45-77ce306dbbce"})):n.responseError({},"账号或密码不正确")})),o({url:"/auth/login",method:"post",data:e})),getUserInfo:()=>(s.onAny("/user/info").reply((e=>{const t=ot("uuid"),a=d.exports.find(Lt,{id:t});return a?n.responseSuccess(d.exports.assign({},a)):(st("token"),st("uuid"),Pt.push("/login"),n.responseError({},"未授权, 请登录!"))})),o({url:"/user/info",method:"post"})),getAccessibleMenus:(e={})=>(s.onAny("/api/menu/accessible").reply((e=>n.responseSuccess(St))),o({url:"/api/menu/accessible",method:"post",data:e}))}))({service:Ct,request:wt,serviceForMock:xt,requestForMock:kt,mock:_t,faker:h,tools:vt});const Ot={"zh-CN":{message:{header:{index:"首页",demo:"示例"},panel:{layerManager:"图层管理"},baseLayer:"底图图层",rasterLayer:"栅格图层",vectorLayer:"矢量图层"}},"en-US":{message:{header:{index:"Index",demo:"Demo"},panel:{layerManager:"LayerManager"},baseLayer:"BaseLayer",rasterLayer:"RasterLayer",vectorLayer:"VectorLayer"}}},Bt=g({legacy:!1,locale:ot("locale"),fallbackLocale:"zh-CN",globalInjection:!0,messages:Ot}),Pt=f({scrollBehavior:()=>({left:0,top:0}),routes:dt,history:y("/vue-cesium-demo")}),It=["/login","/404"];Pt.beforeEach((async(e,t,a)=>{v.start(),Lo.system.useSearchStore(_o).set(!1);const o=ot("token");if("/login"!==e.path&&Vt.getUserInfo(),o)try{if(!Lo.system.usePermissionStore(_o).inited){const t=[...(await Vt.getAccessibleMenus()).data];return await Lo.system.usePermissionStore(_o).generateRoutes({menuTree:t}),void a(e.path)}"/login"===e.path?a({path:"/index"}):a()}catch(s){-1!==It.indexOf(e.path)?a():a("/login")}else-1!==It.indexOf(e.path)?a():a("/login")})),Pt.afterEach((e=>{var t;v.done(),t=Bt.global.t(e.meta.title),window.document.title="VueCesium Demo"+(t?` | ${t}`:"")}));const Tt=C(new b("VueCesiumDemo-0.0.0"));function Nt({dbName:e="database",path:t="",user:a=!0,validator:o=(e=>!0),defaultValue:s=""}){const r=ot("uuid")||"ghost-uuid",n=`${e}.${a?`user.${r}`:"public"}${t?`.${t}`:""}`,l=Tt.get(n).value();return void 0!==l&&o(l)||Tt.set(n,s).write(),n}function Dt({dbName:e="database",path:t="",user:a=!1,validator:o=(()=>!0),defaultValue:s=""}={}){return Tt.get(Nt({dbName:e,path:t,user:a,validator:o,defaultValue:s}))}Tt.defaults({sys:{},database:{}}).write();const zt=w("db",{state:()=>({}),getters:{},actions:{set({dbName:e="database",path:t="",value:a="",user:o=!1}){!function({dbName:e="database",path:t="",value:a="",user:o=!1}){Tt.set(Nt({dbName:e,path:t,user:o}),a).write()}({dbName:e,path:t,value:a,user:o})},get:({dbName:e="database",path:t="",defaultValue:a="",user:o=!1})=>function({dbName:e="database",path:t="",defaultValue:a="",user:o=!1}){return d.exports.cloneDeep(Tt.get(Nt({dbName:e,path:t,user:o,defaultValue:a})).value())}({dbName:e,path:t,defaultValue:a,user:o}),database:({user:e=!1}={})=>Dt({user:e,defaultValue:""}),databaseClear:({user:e=!1}={})=>Dt({user:e,validator:()=>!0,defaultValue:""})}}),Mt=w("user",{state:()=>({info:{}}),getters:{},actions:{async set(e){this.info=e;zt().set({dbName:"sys",path:"user.info",value:e,user:!0})},async load(){const e=zt().get({dbName:"sys",path:"user.info",defaultValue:"",user:!0});this.set(e)}}});var At=(e,t)=>{const a=e.__vccOpts||e;for(const[o,s]of t)a[o]=s;return a};const jt={class:"page-demo absolute"};var Rt=At({},[["render",function(e,t){return x(),k("div",jt,"index")}]]),Et=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Rt});const $t={class:"z-top absolute-center page-index"},qt=_({setup(e){const{loadDefaultLayers:t}=Lo.viewer.useLayerStore();return L((()=>{t(!0)})),(e,t)=>(x(),k("div",$t))}});var Ht=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qt});const Gt=_({name:"Error404"}),Ut={class:"fullscreen bg-blue text-white text-center q-pa-md flex flex-center"},Qt=S("div",{style:{"font-size":"30vh"}},"404",-1),Ft=S("div",{class:"text-h2",style:{opacity:"0.4"}},"噢. 这儿什么也没有...",-1);var Wt=At(Gt,[["render",function(e,t,a,o,s,r){return x(),k("div",Ut,[S("div",null,[Qt,Ft,V(he,{class:"q-mt-xl",color:"white","text-color":"blue",unelevated:"",to:"/onemap",label:"返回主页","no-caps":""})])])}]]),Yt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Wt});const Zt=e=>(N("data-v-193dcca0"),e=e(),D(),e),Jt={class:"q-pa-md page-login z-top"},Kt={class:"login-container col row"},Xt=Zt((()=>S("div",{class:"text-h4 q-my-sm"},"登录",-1))),ea=Zt((()=>S("div",{class:"oath flex"},[S("div",{class:"title full-width text-center q-pt-md"},"社交帐号登录"),S("div",{class:"q-gutter-md full-width text-center q-pt-sm flex justify-center"},[S("svg",{t:"1615200042776",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5886",width:"200",height:"200"},[S("path",{d:"M579.867 511.932c-11.67 0-23.344 10.837-23.344 24.178 0 10.839 11.668 21.678 23.344 21.678 17.514 0 30.020-10.839 30.020-21.678 0-13.34-12.505-24.178-30.020-24.178v0zM503.154 399.36c18.345 0 30.020-11.67 30.020-29.185 0-18.345-11.675-29.183-30.020-29.183-17.51 0-34.188 10.839-34.188 29.183-0.001 17.517 16.678 29.185 34.188 29.185v0zM512.326 0.56c-282.655 0-511.788 229.133-511.788 511.788 0 282.653 229.133 511.786 511.788 511.786 282.653 0 511.786-229.133 511.786-511.786 0.001-282.655-229.132-511.788-511.786-511.788v0zM415.602 642.009c-30.855 0-53.369-4.999-82.553-13.341l-84.218 42.53 24.186-71.715c-59.204-41.689-94.228-94.221-94.228-158.428 0-113.403 106.733-200.123 236.814-200.123 115.069 0 217.633 68.377 237.644 165.106-8.338-1.671-15.844-2.502-22.514-2.502-113.403 0-200.954 85.049-200.954 187.613 0 17.508 2.502 33.351 6.671 50.030-6.671 0.829-14.178 0.829-20.849 0.829v0zM763.314 723.724l16.674 60.041-63.371-35.854c-24.18 4.999-47.529 12.505-71.709 12.505-111.737 0-200.123-76.711-200.123-171.769 0-95.058 88.388-171.771 200.123-171.771 105.895 0 200.954 76.713 200.954 171.771 0 53.362-35.854 100.891-82.548 135.078v0zM338.053 340.992c-17.51 0-35.854 10.839-35.854 29.183 0 17.516 18.343 29.19 35.854 29.19 16.679 0 30.020-11.675 30.020-29.19 0-18.343-13.341-29.183-30.020-29.183v0zM710.783 511.932c-12.51 0-23.349 10.837-23.349 24.178 0 10.839 10.839 21.678 23.349 21.678 16.674 0 29.183-10.839 29.183-21.678 0-13.34-12.509-24.178-29.183-24.178v0zM710.783 511.932z","p-id":"5887","data-spm-anchor-id":"a313x.7781069.0.i22",class:"",fill:"#2dc100"})]),S("svg",{t:"1615199447339",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2522",width:"200",height:"200"},[S("path",{d:"M512 0C229.003636 0 0 229.003636 0 512s229.003636 512 512 512 512-229.003636 512-512S794.996364 0 512 0z m210.385455 641.396364c-7.447273 9.309091-26.996364-1.861818-41.89091-32.581819-3.723636 13.963636-13.032727 36.305455-34.443636 64.232728 35.374545 8.378182 44.683636 42.821818 33.512727 61.44-8.378182 13.032727-26.996364 24.203636-59.578181 24.203636-58.647273 0-83.781818-15.825455-95.883637-26.996364-1.861818-2.792727-5.585455-3.723636-10.24-3.723636-4.654545 0-7.447273 0.930909-10.24 3.723636-11.170909 11.170909-37.236364 26.996364-95.883636 26.996364-32.581818 0-52.130909-11.170909-59.578182-24.203636-12.101818-18.618182-1.861818-53.061818 33.512727-61.44-20.48-27.927273-29.789091-50.269091-34.443636-64.232728-13.963636 30.72-34.443636 42.821818-41.890909 32.581819-5.585455-8.378182-8.378182-26.065455-7.447273-38.167273 3.723636-46.545455 34.443636-85.643636 53.061818-106.123636-2.792727-5.585455-8.378182-40.029091 14.894546-63.301819v-1.861818c0-92.16 65.163636-158.254545 148.014545-158.254545 81.92 0 148.014545 66.094545 148.014546 158.254545v1.861818c23.272727 23.272727 17.687273 57.716364 14.894545 63.301819 17.687273 20.48 49.338182 59.578182 53.061818 106.123636 0.930909 12.101818-0.930909 29.789091-7.447272 38.167273z",fill:"#30A5DD","p-id":"2523"})]),S("svg",{t:"1615199464855",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3380",width:"200",height:"200"},[S("path",{d:"M448.698182 482.210909c-96.814545 4.654545-175.010909 56.785455-175.010909 121.949091s78.196364 114.501818 175.010909 109.847273S623.709091 647.912727 623.709091 582.749091c-0.930909-64.232727-79.127273-105.192727-175.010909-100.538182z m65.163636 164.770909c-29.789091 39.098182-88.436364 57.716364-145.221818 26.065455-26.996364-14.894545-26.065455-43.752727-26.065455-43.752728s-11.170909-92.16 85.643637-103.330909c97.745455-12.101818 115.432727 81.92 85.643636 121.018182z",fill:"#EA5D5C","p-id":"3381"}),S("path",{d:"M448.698182 584.610909c-6.516364 4.654545-7.447273 13.032727-3.723637 18.618182 2.792727 5.585455 11.170909 6.516364 16.756364 1.861818 5.585455-4.654545 8.378182-13.032727 4.654546-18.618182-2.792727-5.585455-10.24-6.516364-17.687273-1.861818zM403.083636 597.643636c-18.618182 1.861818-30.72 17.687273-30.72 33.512728 0 14.894545 14.894545 26.065455 32.581819 24.203636 17.687273-1.861818 32.581818-15.825455 32.581818-31.650909s-13.963636-27.927273-34.443637-26.065455z",fill:"#EA5D5C","p-id":"3382"}),S("path",{d:"M512 0C229.003636 0 0 229.003636 0 512s229.003636 512 512 512 512-229.003636 512-512S794.996364 0 512 0z m197.352727 626.501818C669.323636 712.145455 538.065455 754.036364 441.250909 746.589091c-92.16-7.447273-211.316364-38.167273-223.418182-151.738182 0 0-6.516364-51.2 42.821818-117.294545 0 0 70.749091-99.607273 152.669091-128.465455 82.850909-27.927273 92.16 19.549091 92.16 48.407273-4.654545 24.203636-12.101818 38.167273 18.618182 28.858182 0 0 80.989091-38.167273 114.501818-4.654546 26.996364 26.996364 4.654545 65.163636 4.654546 65.163637s-11.170909 12.101818 12.101818 16.756363c21.410909 3.723636 94.021818 37.236364 53.992727 122.88z m-80.058182-236.450909c-8.378182 0-15.825455-7.447273-15.825454-15.825454 0-9.309091 7.447273-15.825455 15.825454-15.825455 0 0 99.607273-18.618182 87.505455 89.367273v1.861818c-0.930909 7.447273-7.447273 13.963636-15.825455 13.963636-9.309091 0-15.825455-7.447273-15.825454-15.825454 0-1.861818 15.825455-73.541818-55.854546-57.716364zM797.789091 493.381818c-2.792727 18.618182-12.101818 11.170909-22.341818 11.170909-13.032727 0-23.272727-16.756364-23.272728-29.789091 0-11.170909 4.654545-22.341818 4.654546-22.341818 0.930909-4.654545 12.101818-34.443636-7.447273-78.196363-35.374545-60.509091-106.123636-60.509091-114.501818-57.716364-8.378182 3.723636-21.410909 5.585455-21.410909 5.585454-13.032727 0-23.272727-10.24-23.272727-23.272727 0-11.170909 7.447273-19.549091 16.756363-22.341818 0 0 0 0.930909 0.930909 0.930909s1.861818 0.930909 1.861819 0.930909c10.24-1.861818 45.614545-4.654545 79.127272 3.723637 62.370909 14.894545 146.152727 83.781818 108.916364 211.316363z",fill:"#EA5D5C","p-id":"3383"})])])],-1))),ta=Zt((()=>S("div",{class:"row justify-between q-pt-md text-grey-8"},[S("span",null,"忘记密码"),S("span",{class:"sign-up text-center cursor-pointer"}," 还没有账号？现在注册！ ")],-1)));var aa=At(_({setup(e){O((e=>({c03cf714:z(s).pageLogin.themePageLoginBackground,"29c0d9ca":z(s).pageLogin.themePageLoginColor,65716948:z(s).global.themeColorAlpha,"2d05c9bc":z(s).global.themeColor}))),ge();const t=B(),a=P({username:"admin",password:"admin"}),o={username:[e=>e&&e.length>0||"请输入用户名"],password:[e=>e&&e.length>0||"请输入用户名"],rememberMe:[e=>!!e||"You need to accept the license and terms first"]},s=I((()=>{const e=Lo.system.useThemeStore();return e.themeConfig[e.activeName]})),r=async()=>{Lo.system.useAccountStore().login(a.value).then((()=>{t.replace(t.currentRoute.value.query.redirect||"/index")}))},n=()=>{a.value={username:"",password:""}};return(e,t)=>(x(),k("div",Jt,[S("div",Kt,[V(fe,{greedy:"",class:"form-login",onSubmit:r,onReset:n},{default:T((()=>[Xt,V(ve,{modelValue:a.value.username,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value.username=e),outlined:"",label:"用户名","lazy-rules":"",rules:o.username},{prepend:T((()=>[V(ye,{class:"icon",name:"perm_identity"})])),_:1},8,["modelValue","rules"]),V(ve,{modelValue:a.value.password,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value.password=e),outlined:"",label:"密码","lazy-rules":"",type:"password",rules:o.password},{prepend:T((()=>[V(ye,{class:"icon",name:"lock"})])),_:1},8,["modelValue","rules"]),S("div",null,[V(he,{class:"btn-submit full-width no-outline text-h6",color:"primary",label:"登录",type:"submit"})]),ea,ta])),_:1})])]))}}),[["__scopeId","data-v-193dcca0"]]),oa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:aa});var sa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{}});var ra=At(_({setup(e){O((e=>({"372905ce":z(s).global.themeQCardColor,"8c05f900":z(s).global.themeQCardBackgroundColor,e42ac686:z(s).global.themeColorActive})));const t=M({sortBy:"desc",descending:!1,rowsPerPage:10}),a=P([{id:"time",label:"时间",field:"time",align:"center"},{id:"message",label:"信息",field:"message",align:"center"},{id:"url",label:"触发页面",field:"url",align:"center"},{id:"more",label:"查看详情",align:"center"}]),o=I((()=>Lo.system.useLogStore().log)),s=I((()=>{const e=Lo.system.useThemeStore();return e.themeConfig[e.activeName]}));return(e,s)=>(x(),A(we,{class:"log-table-list",rows:z(o),columns:a.value,pagination:z(t)},{body:T((e=>[V(Ce,{props:e},{default:T((()=>[V(be,{key:"time",class:"text-center"},{default:T((()=>[j(R(e.row.time),1)])),_:2},1024),V(be,{key:"message",class:"text-center"},{default:T((()=>[j(R(e.row.message),1)])),_:2},1024),V(be,{key:"url",class:"text-center"},{default:T((()=>[j(R(e.row.meta.url),1)])),_:2},1024),V(be,{key:"more",class:"text-center"},{default:T((()=>[V(he,{icon:"more",rounded:"",onClick:t=>(e.row,void pe.create({type:"info",caption:"日志详情",message:"完整的日志内容已经打印到控制台"}))},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns","pagination"]))}}),[["__scopeId","data-v-21f71763"]]);const na=S("div",{class:"text-h6"},"日志列表",-1),la=j("关闭"),ia=_({setup(e){const t=P(!1),a=I((()=>Lo.system.useLogStore().length)),o=I((()=>Lo.system.useLogStore().lengthError)),s=I((()=>0===a.value?"没有日志或异常":`${a.value} 条日志${o.value>0?` | 包含 ${o.value} 个异常`:""}`)),r=()=>{t.value=!0};return(e,a)=>(x(),k($,null,[V(he,{icon:"adjust",size:"md",flat:"",round:"",onClick:r},{default:T((()=>[V(xe,null,{default:T((()=>[j(R(z(s)),1)])),_:1})])),_:1}),V(Ve,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e)},{default:T((()=>[V(ke,{style:{width:"1440px","max-width":"960px"}},{default:T((()=>[V(_e,{class:"row items-center q-pb-none q-pt-xs card-header"},{default:T((()=>[na,V(Le),E((x(),A(he,{icon:"close",flat:"",round:"",dense:""},{default:T((()=>[V(xe,null,{default:T((()=>[la])),_:1})])),_:1})),[[Se]])])),_:1}),V(_e,{class:"theme-card"},{default:T((()=>[V(ra)])),_:1})])),_:1})])),_:1},8,["modelValue"])],64))}}),ca=_({setup(e){const t=I((()=>Lo.system.useFullscreenStore().active)),a=()=>{Lo.system.useFullscreenStore().toggle()};return(e,o)=>(x(),A(he,{icon:z(t)?"fullscreen_exit":"fullscreen",size:"md",flat:"",round:"",onClick:a},{default:T((()=>[V(xe,null,{default:T((()=>[j(R(z(t)?"退出全屏":"全屏"),1)])),_:1})])),_:1},8,["icon"]))}});const da=j("已激活"),ma=j("使用"),ua=_({setup(e){O((e=>({"8eb8b804":z(s).global.themeQCardColor,"3bc3c48d":z(s).global.themeColorActive})));const t=P([{id:"title",label:"名称",field:"title",align:"center"},{id:"preview",label:"预览",field:"preview",align:"center"},{id:"handler",label:"操作",align:"center"}]),a=I((()=>Lo.system.useThemeStore().list)),o=I((()=>Lo.system.useThemeStore().activeName)),s=I((()=>{const e=Lo.system.useThemeStore();return e.themeConfig[e.activeName]}));return(e,s)=>(x(),A(we,{class:"theme-table-list",rows:z(a),"hide-header":"","hide-pagination":"",columns:t.value},{body:T((e=>[V(Ce,{props:e},{default:T((()=>[V(be,{key:"title"},{default:T((()=>[j(R(e.row.title),1)])),_:2},1024),V(be,{key:"preview"},{default:T((()=>[j(R(e.row.preview),1)])),_:2},1024),V(be,{key:"handler"},{default:T((()=>[z(o)===e.row.name?(x(),A(he,{key:0,class:"active",icon:"done",rounded:"",outline:""},{default:T((()=>[da])),_:1})):(x(),A(he,{key:1,rounded:"",outline:"",onClick:t=>{return a=e.row.name,void Lo.system.useThemeStore().set(a);var a}},{default:T((()=>[ma])),_:2},1032,["onClick"]))])),_:2},1024)])),_:2},1032,["props"])])),_:1},8,["rows","columns"]))}}),pa=j("主题"),ha=S("div",{class:"text-h6"},"主题",-1),ga=j("关闭"),fa=_({setup(e){const t=P(!1);return(e,a)=>(x(),k($,null,[V(he,{icon:"style",size:"md",flat:"",round:"",onClick:a[0]||(a[0]=e=>t.value=!0)},{default:T((()=>[V(xe,null,{default:T((()=>[pa])),_:1})])),_:1}),V(Ve,{modelValue:t.value,"onUpdate:modelValue":a[1]||(a[1]=e=>t.value=e)},{default:T((()=>[V(ke,{style:{width:"650px"}},{default:T((()=>[V(_e,{class:"row items-center q-pb-none q-pt-xs card-header"},{default:T((()=>[ha,V(Le),E((x(),A(he,{icon:"close",flat:"",round:"",dense:""},{default:T((()=>[V(xe,null,{default:T((()=>[ga])),_:1})])),_:1})),[[Se]])])),_:1}),V(_e,{class:"theme-card"},{default:T((()=>[V(ua)])),_:1})])),_:1})])),_:1},8,["modelValue"])],64))}}),va=j("注销"),ya=_({setup(e){const{toggleGlobalLayout:t,toggleIndexPageLayout:a}=Lo.system.useLayoutStore(),{loadDefaultLayers:o}=Lo.viewer.useLayerStore(),s=Lo.system.useUserStore(),r=We(),n=()=>{Lo.system.useAccountStore().logout({confirm:!0}).then((e=>{if(e){o(!1),a({workBench:!1}),t({featureInfo:!1,layerManager:!1}),Lo.viewer.useRenderStore(_o).removeAllRenderData();const e={position:[105,30,21634101],heading:360,pitch:-90,roll:0};(null==r?void 0:r.viewer)&&Ye(null==r?void 0:r.viewer,e,{duration:3})}}))};return(e,t)=>{var a;return x(),A(he,{dense:"",rounded:"","no-caps":"",size:"md",class:"q-mr-sm","auto-close":"",icon:"person",label:null==(a=z(s).info)?void 0:a.username},{default:T((()=>[V(Ne,null,{default:T((()=>[V(Oe,{dense:""},{default:T((()=>[E((x(),A(Be,{clickable:"",dense:"",onClick:n},{default:T((()=>[V(Pe,{avatar:""},{default:T((()=>[V(Ie,{icon:"logout"})])),_:1}),V(Pe,null,{default:T((()=>[V(Te,null,{default:T((()=>[va])),_:1})])),_:1})])),_:1})),[[Se]])])),_:1})])),_:1})])),_:1},8,["label"])}}}),ba=j("简体中文"),Ca=j("English"),wa=_({setup(e){const{locale:t}=q(),a=P(!1),o=e=>{t.value=e,at("locale",e)};return(e,t)=>(x(),A(De,{modelValue:a.value,"onUpdate:modelValue":t[2]||(t[2]=e=>a.value=e),dense:"",color:"#fff","fab-mini":"",size:"md","dropdown-icon":"language",flat:""},{default:T((()=>[V(Oe,null,{default:T((()=>[E((x(),A(Be,{clickable:"",onClick:t[0]||(t[0]=e=>o("zh-CN"))},{default:T((()=>[V(Pe,null,{default:T((()=>[V(Te,null,{default:T((()=>[ba])),_:1})])),_:1})])),_:1})),[[Se]]),E((x(),A(Be,{clickable:"",onClick:t[1]||(t[1]=e=>o("en-US"))},{default:T((()=>[V(Pe,null,{default:T((()=>[V(Te,null,{default:T((()=>[Ca])),_:1})])),_:1})])),_:1})),[[Se]])])),_:1})])),_:1},8,["modelValue"]))}}),xa=j("图层管理"),ka=_({setup(e){const{toggleGlobalLayout:t}=Lo.system.useLayoutStore(),a=()=>{t({layerManager:!Lo.system.useLayoutStore().global.layerManager})};return(e,t)=>(x(),A(he,{size:"md",flat:"",round:"",color:"#fff",icon:"layers",onClick:a},{default:T((()=>[V(xe,null,{default:T((()=>[xa])),_:1})])),_:1}))}});const _a={class:"left"},La={class:"content"},Sa=(e=>(N("data-v-3ce634f6"),e=e(),D(),e))((()=>S("div",{size:"60px",class:"logo-img float"},[S("img",{src:"https://zouyaoji.top/vue-cesium/favicon.png"})],-1))),Va={class:"title text-h4 float"},Oa={class:"nav float"},Ba={class:"right q-ml-sm q-mr-sm"},Pa={key:0,class:"content"};var Ia=At(_({setup(e){O((e=>({"28eafb33":z(s).header.themeHeaderBackgroundColor,"1ef46204":z(s).header.themeHeaderContentBackgroundColor,"1b422308":z(s).header.themeHeaderLogoBackgroundColor,"9811e666":z(s).header.themeHeaderTitleColor,"8b371d7e":z(s).header.themeHeaderColor,"02bd365e":z(s).global.themeColorActive})));const t=P(!1),a=I((()=>"VueCesium Demo")),o=I((()=>{const e=Lo.system.useMenuStore().header;return e.length?e[0].children:[]})),s=I((()=>{const e=Lo.system.useThemeStore();return e.themeConfig[e.activeName]})),r=()=>{Me("https://github.com/zouyaoji/vue-cesium-demo")};return(e,s)=>(x(),k("div",{class:"main-header",style:U({opacity:t.value?.5:1})},[S("div",_a,[S("div",La,[Sa,S("div",Va,[S("div",null,R(z(a)),1)]),S("div",Oa,[V(ze,null,{default:T((()=>[(x(!0),k($,null,H(z(o),((t,a)=>(x(),A(Ae,{key:a,to:t.path,exact:"",label:e.$t(t.title),"active-class":"menu-active"},null,8,["to","label"])))),128))])),_:1})])])]),S("div",Ba,[z(o).length?(x(),k("div",Pa,[V(he,{size:"md",flat:"",round:"",color:"#fff",onClick:r},{default:T((()=>[V(ye,{name:"fa fa-github"})])),_:1}),V(ka),V(ia),V(ca),V(fa),V(wa),V(ya)])):G("",!0)])],4))}}),[["__scopeId","data-v-3ce634f6"]]);const Ta={key:0,class:"text-weight-bold"},Na={class:"content"};var Da=At(_({props:{title:{type:String,default:""},titleClass:{type:String,default:""},closeTip:{type:String,default:"关闭"},showCloseBtn:{type:Boolean,default:!0},separatorOpts:{type:Object,default:()=>({show:!0,dark:!0,color:"white",size:"1px"})}},emits:["close"],setup(e,{emit:t}){O((e=>({ae362eba:z(o).commonPanel.themeCommonPanelHeaderColor,"460f2015":z(o).commonPanel.themeCommonPanelHeaderBackgroundColor,"47ca6c3d":z(o).commonPanel.themeCommonPanelContentColor,"387f29a2":z(o).commonPanel.themeCommonPanelContentBackgroundColor,"7010cc72":z(o).commonPanel.themeCommonPanelListColor,a2da4734:z(o).commonPanel.themeCommonPanelListBorderColor,e16129f2:z(o).global.themeColorAlpha,"70a49c97":z(o).global.themeColor})));const a=e=>{t("close",e)},o=I((()=>{const e=Lo.system.useThemeStore();return e.themeConfig[e.activeName]}));return(t,o)=>(x(),A(ke,{class:"common-panel"},{default:T((()=>[V(je,{class:F(["header",e.titleClass])},{default:T((()=>[""!==e.title?(x(),k("div",Ta,R(e.title),1)):G("",!0),Q(t.$slots,"header-left",{},void 0,!0),V(Le),Q(t.$slots,"header-right",{},void 0,!0),e.showCloseBtn?E((x(),A(he,{key:1,dense:"",flat:"",icon:"close",onClick:a},{default:T((()=>[V(xe,null,{default:T((()=>[j(R(e.closeTip),1)])),_:1})])),_:1})),[[Se]]):G("",!0)])),_:3},8,["class"]),e.separatorOpts.show?(x(),A(Re,W(Y({key:0},e.separatorOpts)),null,16)):G("",!0),S("div",Na,[Q(t.$slots,"default",{},void 0,!0)])])),_:3}))}}),[["__scopeId","data-v-dfd8cb64"]]),za=_({name:"DragWrapper",props:{restriction:{type:[String,Object,Function],default:"parent"}},setup(e,t){const a=P(null),o=Z(),s=e=>{const t=e.target,a=(parseFloat(t.getAttribute("data-x"))||0)+e.dx,o=(parseFloat(t.getAttribute("data-y"))||0)+e.dy;t.style.webkitTransform=t.style.transform="translate("+a+"px, "+o+"px)",t.setAttribute("data-x",a),t.setAttribute("data-y",o)},r=()=>{const e=a.value;J(e).reflow({name:"drag",axis:"xy"})};return L((()=>{const t=a.value;J(t).draggable({ignoreFrom:"button, .ignore-drag",allowFrom:".drag-handle",inertia:!0,onmove:s,restrict:{restriction:e.restriction,endOnly:!0,elementRect:{left:0,right:1,top:0,bottom:1}}}),addEventListener("resize",r,!1)})),K((()=>{const e=a.value;J.isSet(e)&&J(e).unset(),removeEventListener("resize",r,!1)})),Object.assign(null==o?void 0:o.proxy,{resizeListener:r}),()=>X("div",{ref:a,class:"drag-wrapper absolute"},Ze(t.slots.default))}});const Ma={class:"text-subtitle2"},Aa={class:"q-gutter-sm"},ja={class:"text-subtitle2"},Ra={class:"q-gutter-sm"},Ea={class:"text-subtitle2"},$a={class:"q-gutter-sm"};var qa=At(_({setup(e){const t=P(null),a=Lo.system.useLayoutStore(),{global:o,index:s}=ee(a),{rasterLayers:r,baseLayers:n,vectorLayers:l,toggle:i}=Lo.viewer.useLayerStore();te(s,(e=>{ae((()=>{var e,a;t.value&&(null==(a=(e=t.value).resizeListener)||a.call(e))}))}),{deep:!0});const c=I((()=>({rasterLayers:r,baseLayers:n,vectorLayers:l}))),d=I((()=>{var e,t;return null==(t=null==(e=c.value.baseLayers.filter((e=>e.show)))?void 0:e[0])?void 0:t.name})),m=(e,t)=>{c.value.baseLayers.forEach((t=>{t.name===e?i({names:t.name,show:!0}):i({names:t.name,show:!1})}))},u=(e,t)=>{const a=e.name;i({names:a,show:t})},p=()=>{a.toggleGlobalLayout({layerManager:!o.value.layerManager})};return(e,a)=>(x(),k("div",{class:F(["layer-manager",z(s).workBench?"":"full-srceen"])},[V(z(za),{ref_key:"dragWrapperRef",ref:t},{default:T((()=>[E(V(Da,{class:"layer-manager-panel",title:e.$t("message.panel.layerManager"),"title-class":"drag-handle",onClose:p},{default:T((()=>[V(_e,{class:"q-pt-sm"},{default:T((()=>[S("div",Ma,R(e.$t("message.baseLayer")),1),S("div",Aa,[(x(!0),k($,null,H(z(c).baseLayers,((e,t)=>(x(),A(Ee,{key:t,modelValue:z(d),"onUpdate:modelValue":[a[0]||(a[0]=e=>se(d)?d.value=e:null),m],val:e.name,label:e.text},null,8,["modelValue","val","label"])))),128))])])),_:1}),V(Re,{inset:""}),V(_e,{class:"q-pt-sm"},{default:T((()=>[S("div",ja,R(e.$t("message.rasterLayer")),1),S("div",Ra,[(x(!0),k($,null,H(z(c).rasterLayers,((e,t)=>(x(),A($e,{key:t,modelValue:e.show,"onUpdate:modelValue":[t=>e.show=t,t=>u(e,t)],val:e.name,label:e.text},null,8,["modelValue","onUpdate:modelValue","val","label"])))),128))])])),_:1}),V(Re,{inset:""}),V(_e,{class:"q-pt-sm"},{default:T((()=>[S("div",Ea,R(e.$t("message.vectorLayer")),1),S("div",$a,[(x(!0),k($,null,H(z(c).vectorLayers,((e,t)=>(x(),A($e,{key:t,modelValue:e.props.show,"onUpdate:modelValue":[t=>e.props.show=t,t=>u(e,t)],val:e.name,label:e.text},null,8,["modelValue","onUpdate:modelValue","val","label"])))),128))])])),_:1})])),_:1},8,["title"]),[[oe,z(o).layerManager]])])),_:1},512)],2))}}),[["__scopeId","data-v-3c7d5d2a"]]);const Ha={class:"main-interaction"},Ga={class:"layer-manager-wrapper"};var Ua=At(_({setup:e=>(I((()=>{const e=Lo.system.useThemeStore();return e.themeConfig[e.activeName]})),(e,t)=>(x(),k("div",Ha,[S("div",Ga,[V(qa)])])))}),[["__scopeId","data-v-121206f4"]]);const Qa={class:"vc-drawtip vc-tooltip--style"},Fa=_({emits:["viewerReady","cesiumReady","leftClick","destroyed"],setup(e,{emit:t}){const a={"en-US":Xe,"zh-CN":et},{locale:o}=q(),s=I((()=>a[o.value])),r=Lo.system.useThemeStore(),n=I((()=>r.themeConfig[r.activeName])),{toggleGlobalLayout:l}=Lo.system.useLayoutStore(),{registerTimeout:i}=Je(),c=P(null),d=P([0,75]),m=I((()=>({outerOptions:{icon:n.value.navigation.themeVcCompassOuterIcon,color:n.value.navigation.themeVcCompassOuterColor},innerOptions:{icon:n.value.navigation.themeVcCompassInnerIcon,color:n.value.navigation.themeVcCompassInnerColor,background:n.value.navigation.themeVcCompassInnerBackgroundColor},markerOptions:{color:n.value.global.themeColorAlpha},duration:5}))),u=I((()=>({background:n.value.navigation.themeVcZoomControlBackgroundColor,color:n.value.global.themeColor,border:`solid 1px ${n.value.commonPanel.themeCommonPanelListBorderColor}`,zoomInOptions:{color:n.value.global.themeColor},zoomOutOptions:{color:n.value.global.themeColor},zoomResetOptions:{color:n.value.global.themeColor}}))),p=I((()=>({color:n.value.global.themeColor,background:n.value.navigation.themeVcPrintBackgroundColor,round:!0}))),h=I((()=>({color:n.value.global.themeColor,background:n.value.navigation.themeVcPrintBackgroundColor,round:!0}))),g=I((()=>({position:"bottom-right",offset:[0,10],statusBarOpts:{color:n.value.global.themeColor,background:n.value.navigation.themeVcStatusBarBackgroundColor},distancelegendOpts:{color:n.value.global.themeColor,background:n.value.navigation.themeVcDistanceLegendBackgroundColor}}))),f=Lo.viewer.useOverlayStore().mouseOverNameOpts;Lo.viewer.useRenderStore().selectedRenderData;const v=I((()=>[...Lo.viewer.useLayerStore().baseLayers,...Lo.viewer.useLayerStore().rasterLayers])),y=I((()=>Lo.viewer.useLayerStore().vectorLayers)),b=e=>{t("viewerReady",e),l({header:!0}),i((()=>{l({content:!0})}),500)},C=e=>{t("cesiumReady",e)};return(e,t)=>{const a=re("vc-navigation"),o=re("vc-layer-imagery"),r=re("vc-overlay-html"),n=re("vc-viewer");return x(),A(z(Ke),{locale:z(s)},{default:T((()=>[V(n,{ref_key:"viewerRef",ref:c,class:"main-viewer",onReady:b,onCesiumReady:C},{default:T((()=>[V(a,{offset:d.value,"compass-opts":z(m),"zoom-opts":z(u),"print-opts":z(p),"location-opts":z(h),"other-opts":z(g)},null,8,["offset","compass-opts","zoom-opts","print-opts","location-opts","other-opts"]),(x(!0),k($,null,H(z(v),((e,t)=>(x(),A(o,{key:"layer"+t,alpha:e.alpha,brightness:e.brightness,contrast:e.contrast,"sort-order":e.sortOrder,show:e.show},{default:T((()=>[(x(),A(ne(e.component),W(le(e.props)),null,16))])),_:2},1032,["alpha","brightness","contrast","sort-order","show"])))),128)),(x(!0),k($,null,H(z(y),((e,t)=>(x(),k($,{key:"vector"+t},["VcTerrainProviderCesium"!==e.component||e.props.show?(x(),A(ne(e.component),W(Y({key:0},e.props)),null,16)):G("",!0)],64)))),128)),z(f).show?(x(),A(r,{key:0,position:z(f).position,"pixel-offset":z(f).pixelOffset},{default:T((()=>[S("div",Qa,R(z(f).text),1)])),_:1},8,["position","pixel-offset"])):G("",!0),Q(e.$slots,"default")])),_:3},512)])),_:3},8,["locale"])}}});const Wa={elevated:"",reveal:"",class:"absolute text-h4 text-center"},Ya={key:0,class:"content"};var Za=At(_({setup(e){const t=ee(Lo.system.useLayoutStore()).global,{active:a}=ee(Lo.system.useGrayStore());return L((()=>{Lo.system.useAccountStore().load(),Lo.system.useFullscreenStore().listen(),window.onunhandledrejection=e=>{Lo.system.useLogStore(_o).push({message:d.exports.get(e,"reason.message","Unknown error"),type:"danger",meta:{error:d.exports.get(e,"reason"),trace:d.exports.get(e,"reason.stack")}})},window.onerror=(e,t,a,o,s)=>{Lo.system.useLogStore(_o).push({message:d.exports.get(s,"message","Unknown error"),type:"danger",meta:{error:s,trace:d.exports.get(s,"stack"),source:`${t}@${a}:${o}`,event:e}})}})),(e,o)=>{const s=re("router-view");return x(),A(qe,{view:"lhh Lpr lFf",class:F(["main-layout",{"gray-mode":z(a)}])},{default:T((()=>[V(Ge,{class:"no-padding"},{default:T((()=>[V(He,{class:"interaction-root"},{default:T((()=>[V(Fa,null,{default:T((()=>[E(S("header",Wa,[V(Ia)],512),[[oe,z(t).header]]),z(t).content?(x(),k("div",Ya,[V(Ua),V(s)])):G("",!0)])),_:1})])),_:1})])),_:1})])),_:1},8,["class"])}}}),[["__scopeId","data-v-b684af78"]]),Ja=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Za});const Ka=pt([]);pt([]);var Xa={theme:{list:[{title:"经典",name:"classic",preview:"images/theme/classic/preview@2x.png"},{title:"Element",name:"element",preview:"images/theme/element/preview@2x.png"}]},menu:{asideCollapse:!1,asideTransition:!0},hotkey:{search:{open:"s",close:"esc"}},transition:{active:!0}};const eo=w("menu",{state:()=>({header:[],aside:[],asideCollapse:Xa.menu.asideCollapse,asideTransition:Xa.menu.asideTransition,moduleHeader:[]}),getters:{},actions:{async asideCollapseSet(e){this.asideCollapse=e;zt().set({dbName:"sys",path:"menu.asideCollapse",value:String(this.asideCollapse),user:!0})},async asideCollapseToggle(){this.asideCollapse=!this.asideCollapse;zt().set({dbName:"sys",path:"menu.asideCollapse",value:String(this.asideCollapse),user:!0})},async asideTransitionSet(e){this.asideTransition=e;zt().set({dbName:"sys",path:"menu.asideTransition",value:String(this.asideTransition),user:!0})},async asideTransitionToggle(){this.asideTransition=!this.asideTransition;zt().set({dbName:"sys",path:"menu.asideTransition",value:String(this.asideTransition),user:!0})},async asideLoad(){zt().get({dbName:"sys",path:"menu",defaultValue:String(Xa.menu),user:!0})},headerSet(e){this.header=e},asideSet(e){this.aside=e},clear(){this.header=[],this.aside=[]},moduleHeaderSet(e){this.moduleHeader=e}}}),to=w("search",{state:()=>({active:!1,hotkey:{open:Xa.hotkey.search.open,close:Xa.hotkey.search.close},pool:[]}),actions:{toggle(){this.active=!this.active},set(e){this.active=e},init(e){const t=[],a=function(e,o=[]){e.forEach((e=>{e.children?a(e.children,[...o,e.title]):t.push(i(l({},e),{fullTitle:[...o,e.title].join(" / ")}))}))};a(e),this.pool=t}}}),ao=[...Ka];const oo={"../../pages/demo/Index.vue":Et,"../../pages/index/Index.vue":Ht,"../../pages/system/Error404.vue":Yt,"../../pages/system/Login.vue":oa,"../../pages/index/work-bench/Index.vue":sa};function so(e,t){return null==e&&(e={children:[]}),t.forEach((t=>{let a=e;if(20!==t.type&&(null!=(o=t.component)&&""!==o)){let o=null;o="MainLayout"===t.component?Za:(e=>{const t=oo[`../../pages${e}/Index.vue`];if(t)return t.default;mt(`动态路由页面【${e}】加载失败。请检查页面文件是否存在。`)})(t.path);const s=e.children;a={path:t.path,name:t.name,hidden:t.hidden,component:o,meta:{title:t.title,auth:!0,cache:!0}},s.push(a)}var o;null!=t.children&&t.children.length>0&&(null==a.children&&(a.children=[]),so(a,t.children))})),e.children}function ro(e,t){return null==e&&(e=[]),e.forEach((e=>{null!=e.permission&&""!==e.permission&&t.push(e.permission),null!=e.children&&e.children.length>0&&ro(e.children,t)})),t}function no(e){null==e&&(e=[]);let t=[];return e.forEach((e=>{if(10!==e.type)return;let a,o;null!=e.children&&e.children.length>0&&(a=no(e.children)),null!=e.icon&&""!==e.icon&&(o=e.icon),t.push({name:e.name,path:e.path,title:e.title,icon:o,children:a})})),0===t.length&&(t=void 0),t}const lo=w("permission",{state:()=>({routes:[],addRoutes:[],permissions:[],inited:!1}),getters:{},actions:{setRoutes({accessedRoutes:e,permissions:t}){this.addRoutes=e,this.routes=dt.concat(e),this.inited=!0,this.permissions=t},clear(){this.addRoutes=[],this.routes=[],this.inited=!1,this.permissions=[]},generateRoutes({menuTree:e}){return new Promise((t=>{const a=so(null,e),o=ro(e,[]);this.setRoutes({accessedRoutes:a,permissions:o}),a.forEach((e=>{"layout"===e.name&&"/"===e.path&&(e.children=e.children.concat(ct[0].children)),Pt.addRoute(e)}));const s=pt(no(e));Ka.splice(0,Ka.length),Ka.push(...ao),Ka.push(...s);eo().headerSet(Ka);to().init(Ka),t(!0)}))},async getAccessibleMenus({state:e,dispatch:t}){}}}),io=w("gray",{state:()=>({active:!1}),getters:{},actions:{toggle(){this.active=!this.active},set(e){this.active=e}}}),co={themeName:"classic",global:{themeBGColor:"#ebf1f6",themeBGMaskColor:"rgba(0, 0, 0, 0)",themeColor:"#cbe1e5",themeColorAlpha:"rgba(255, 255, 255, 0.6)",themeColorActive:"#fff",themeScrollTopBackgroundColor:"rgba(0, 0, 0, 0)",themeQInputColor:"#fff",themeQInputBorderColor:"#fff9",themeQCheckboxTruthyColor:"#1976d2",themeQMenuColor:"#fff",themeQMenuBackgroundColor:"rgba(0, 68, 82, 0.6)",themeQCardColor:"#fff",themeQCardHeaderBackgroundColor:"rgba(0, 101, 122, 0.5)",themeQCardBackgroundColor:"rgba(0, 68, 82, 0.6)",themeQScrollAreaColor:"#fff"},header:{themeHeaderColor:"#cbe1e5",themeHeaderTitleColor:"#fff",themeHeaderLogoBackgroundColor:"rgba(255, 255, 255, 0)",themeHeaderBackgroundColor:"rgba(29, 29, 29, 0)",themeHeaderContentBackgroundColor:"rgba(0, 68, 82, 0.6)"},commonPanel:{themeCommonPanelHeaderColor:"#fff",themeCommonPanelHeaderBackgroundColor:"rgba(0, 101, 122, 0.8)",themeCommonPanelContentColor:"#fff",themeCommonPanelContentBackgroundColor:"rgba(0, 68, 82, 0.6)",themeCommonPanelListColor:"#fff",themeCommonPanelListBorderColor:"rgba(255, 255, 255, 0.278)"},navigation:{themeVcCompassOuterIcon:"svguse:#vc-icons-compass-outer",themeVcCompassOuterColor:"rgba(0, 68, 82)",themeVcCompassInnerIcon:"fa fa-compass",themeVcCompassInnerColor:"rgba(255, 255, 255, 0.7)",themeVcCompassInnerBackgroundColor:"rgba(0, 68, 82, 0.6)",themeVcZoomControlBackgroundColor:"rgba(0, 68, 82, 0.6)",themeVcPrintBackgroundColor:"rgba(0, 68, 82, 0.6)",themeVcStatusBarBackgroundColor:"rgba(0, 68, 82, 0.8)",themeVcDistanceLegendBackgroundColor:"rgba(0, 68, 82, 0.8)"},pageLogin:{themePageLoginColor:"#fff",themePageLoginBackground:"rgba(29,29,29, 0.5)"}},mo={themeName:"element",global:{themeBGColor:"#314255",themeBGMaskColor:"rgba(0, 0, 0, 0)",themeColor:"#bfcbd9",themeColorAlpha:"rgba(70, 160, 252, 0.6)",themeColorActive:"#46a0fc",themeScrollTopBackgroundColor:"rgba(0, 0, 0, 0)",themeQInputColor:"#bfcbd9",themeQInputBorderColor:"#fff9",themeQCheckboxTruthyColor:"#46a0fc",themeQMenuColor:"#bfcbd9",themeQMenuBackgroundColor:"rgba(29, 29, 29, 0.6)",themeQCardColor:"#bfcbd9",themeQCardHeaderBackgroundColor:"rgba(49, 66, 85, 0.5)",themeQCardBackgroundColor:"rgba(29, 29, 29, 0.6)",themeQScrollAreaColor:"#46a0fc"},header:{themeHeaderColor:"#bfcbd9",themeHeaderTitleColor:"#bfcbd9",themeHeaderLogoBackgroundColor:"#314255",themeHeaderBackgroundColor:"#202d3d",themeHeaderContentBackgroundColor:"#314255"},commonPanel:{themeCommonPanelHeaderColor:"#bfcbd9",themeCommonPanelHeaderBackgroundColor:"rgba(49, 66, 85, 0.8)",themeCommonPanelContentColor:"#bfcbd9",themeCommonPanelContentBackgroundColor:"rgba(32, 45, 61, 0.6)",themeCommonPanelListColor:"#bfcbd9",themeCommonPanelListBorderColor:"rgba(255, 255, 255, 0.278)"},navigation:{themeVcCompassOuterIcon:"fa fa-circle-o-notch",themeVcCompassOuterColor:"rgb(49, 66, 85)",themeVcCompassInnerIcon:"fa fa-circle",themeVcCompassInnerColor:"rgba(49, 66, 85, 0.7)",themeVcCompassInnerBackgroundColor:"rgba(49, 66, 85, 0.6)",themeVcZoomControlBackgroundColor:"rgba(49, 66, 85, 0.6)",themeVcPrintBackgroundColor:"rgba(49, 66, 85, 0.6)",themeVcStatusBarBackgroundColor:"rgba(49, 66, 85, 0.8)",themeVcDistanceLegendBackgroundColor:"rgba(49, 66, 85, 0.8)"},pageLogin:{themePageLoginColor:"#bfcbd9",themePageLoginBackground:"rgba(32, 45, 61, 0.5)"}};let uo="";const po=w("theme",{state:()=>({list:d.exports.get(Xa,"theme.list",[]),activeName:d.exports.get(Xa,"theme.list[0].name","h2o"),themeConfig:{classic:co,element:mo}}),getters:{activeSetting:e=>e.list.find((t=>t.name===e.activeName))},actions:{dom(){const e=`theme-${uo}`,t=`theme-${this.activeName}`;document.body.className.includes(e)?document.body.className=document.body.className.replace(e,t):document.body.className+=" "+t;const a=this.themeConfig[this.activeName];Object.keys(a.global).forEach((e=>{document.body.style.setProperty(`--${e}`,a.global[e])}))},async set(e){uo=this.activeName,this.activeName=this.list.find((t=>t.name===e))?e:this.list[0].name,this.dom();zt().set({dbName:"sys",path:"theme.activeName",value:this.activeName,user:!0})},async load(){uo=this.activeName;const e=zt(),t=e.get({dbName:"sys",path:"theme.activeName",defaultValue:this.list[0].name,user:!0});this.list.find((e=>e.name===t))?this.activeName=t:(this.activeName=this.list[0].name,e.set({dbName:"sys",path:"theme.activeName",value:this.activeName,user:!0})),this.dom()}}}),ho=w("transition",{state:()=>({active:Xa.transition.active}),actions:{async set(e){this.active=e;zt().set({dbName:"sys",path:"transition.active",value:String(this.active),user:!0})},async load(){const e=zt();this.active=e.get({dbName:"sys",path:"transition.active",defaultValue:String(Xa.transition.active),user:!0})}}}),go=w("account",{state:()=>({}),getters:{},actions:{async login(e){const t=(await Vt.login(e)).data;at("token",t.token),at("uuid",t.id);Mt().set(l({},t)),this.load()},logout:({confirm:e=!1}={})=>new Promise(((t,a)=>{async function o(){st("token"),st("uuid");Mt().set({});lo().clear();eo().clear(),Pt.push({name:"login"}),t(!0)}if(e){const e=io();e.set(!0),Ue.create({title:"注销用户",message:"确定要注销当前用户吗？",cancel:!0}).onOk((()=>{e.set(!1),o()})).onCancel((()=>{e.set(!1),pe.create({message:"取消注销操作"}),t(!1)}))}else o()})),async load(){Mt().load();po().load();ho().load();eo().asideLoad()}}}),fo=w("fullscreen",{state:()=>({active:!1}),getters:{},actions:{listen(){const e=this;ie.isEnabled&&ie.on("change",(()=>{ie.isFullscreen||(e.active=!1)}))},toggle(){ie.isFullscreen?(ie.exit(),this.active=!1):(ie.request(),this.active=!0)}}}),vo=w("layout",{state:()=>({global:{header:!1,content:!1,footer:!1,layerManager:!1,navigation:!1,featureInfo:!1},index:{workBench:!1}}),getters:{},actions:{toggleGlobalLayout(e){Object.keys(e).forEach((t=>{d.exports.isBoolean(e[t])&&(this.global[t]=e[t])}))},toggleIndexPageLayout(e){Object.keys(e).forEach((t=>{d.exports.isBoolean(e[t])&&(this.index[t]=e[t])}))}}}),yo=w("log",{state:()=>({log:[]}),getters:{length:e=>e.log.length,lengthError:e=>e.log.filter((e=>"danger"===e.type)).length},actions:{push({message:e,type:t="info",meta:a}){this.log.push({message:e,type:t,time:ce().format("YYYY-MM-DD HH:mm:ss"),meta:l({uuid:ot("uuid"),token:ot("token"),url:d.exports.get(window,"location.href","")},a)})},clean(){this.log=[]}}}),bo={useAccountStore:e=>go(e),useDBStore:e=>zt(e),useFullscreenStore:e=>fo(e),useGrayStore:e=>io(e),useLayoutStore:e=>vo(e),useLogStore:e=>yo(e),useMenuStore:e=>eo(e),usePermissionStore:e=>lo(e),useSearchStore:e=>to(e),useThemeStore:e=>po(e),useTransitionStore:e=>ho(e),useUserStore:e=>Mt(e)},Co=w("layer",{state:()=>({baseLayers:[{name:"tianditu_img",text:"天地图影像",component:"VcImageryProviderTianditu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{mapStyle:"img_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}},{name:"tianditu_vec",text:"天地图电子",component:"VcImageryProviderTianditu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{mapStyle:"vec_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}},{name:"baidu_img",text:"百度影像",component:"VcImageryProviderBaidu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{mapStyle:"img",projectionTransforms:{form:"BD09",to:"WGS84"},minimumLevel:0,maximumLevel:17}},{name:"baidu",text:"百度电子",component:"VcImageryProviderBaidu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{mapStyle:"vec",projectionTransforms:{form:"BD09",to:"WGS84"},minimumLevel:0,maximumLevel:17}},{name:"baidu_midnight",text:"百度地图_午夜蓝",component:"VcImageryProviderBaidu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{mapStyle:"midnight",projectionTransforms:{form:"BD09",to:"WGS84"},minimumLevel:0,maximumLevel:17}},{name:"baidu_dark",text:"百度地图_黑夜",component:"VcImageryProviderBaidu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{mapStyle:"dark",projectionTransforms:{form:"BD09",to:"WGS84"},minimumLevel:0,maximumLevel:17}},{name:"amap_img",text:"高德影像",component:"VcImageryProviderAmap",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{mapStyle:"6",projectionTransforms:{form:"GC02",to:"WGS84"},minimumLevel:0,maximumLevel:17}},{name:"amap_vec",text:"高德地图",component:"VcImageryProviderAmap",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{mapStyle:"7",scl:"2",projectionTransforms:{form:"GC02",to:"WGS84"},minimumLevel:0,maximumLevel:17}},{name:"tencent_img",text:"腾讯影像",component:"VcImageryProviderTencent",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{mapStyle:"img",projectionTransforms:{form:"GC02",to:"WGS84"},minimumLevel:0,maximumLevel:17}},{name:"tencent_vec",text:"腾讯电子",component:"VcImageryProviderTencent",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{mapStyle:"vector",projectionTransforms:{form:"BD09",to:"WGS84"},minimumLevel:0,maximumLevel:17}},{name:"tencent_my",text:"腾讯电子_墨渊",component:"VcImageryProviderTencent",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{mapStyle:"vector",projectionTransforms:{form:"BD09",to:"WGS84"},styleId:"4",minimumLevel:0,maximumLevel:17}},{name:"osm",text:"OSM",component:"VcImageryProviderOsm",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},{name:"arcgis",text:"ArcGIS",component:"VcImageryProviderArcgis",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1}],rasterLayers:[{name:"tianditu_cva",text:"天地图注记",component:"VcImageryProviderTianditu",alpha:1,brightness:1,contrast:1,sortOrder:30,show:!1,props:{mapStyle:"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}},{name:"amap_label",text:"高德注记",component:"VcImageryProviderAmap",alpha:1,brightness:1,contrast:1,sortOrder:30,show:!1,props:{mapStyle:"8",ltype:"4",minimumLevel:0,maximumLevel:17}},{name:"amap_traffictile",text:"高德路况",component:"VcImageryProviderAmap",alpha:1,brightness:1,contrast:1,sortOrder:30,show:!1,props:{url:"/traffictile?v=1.0&x={x}&y={y}&z={z}&t=1",minimumLevel:0,maximumLevel:17}},{name:"baidu_traffic",text:"百度路况",component:"VcImageryProviderBaidu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{mapStyle:"traffic",projectionTransforms:{form:"BD09",to:"WGS84"},minimumLevel:0,maximumLevel:17}}],vectorLayers:[{name:"admin",text:"行政区划",component:"VcDatasourceGeojson",props:{strokeWidth:5,stroke:"#ffc107",fill:"transparent",show:!1,data:"./datas/china.json"}},{name:"terrain",text:"全球地形",component:"VcTerrainProviderCesium",props:{show:!1}}]}),getters:{},actions:{toggle({names:e,show:t}){const a=[...this.baseLayers,...this.rasterLayers,...this.vectorLayers];(e=Array.isArray(e)?e:[e]).forEach((e=>{var o;const s=d.exports.find(a,(t=>t.name===e));!d.exports.isUndefined(null==s?void 0:s.show)&&(s.show=t),!d.exports.isUndefined(null==(o=null==s?void 0:s.props)?void 0:o.show)&&(s.props.show=t)}))},loadDefaultLayers(e){const t=[...this.baseLayers,...this.rasterLayers,...this.vectorLayers].map((e=>e.name));this.toggle({names:t,show:!1});this.toggle({names:["tianditu_img","admin"],show:!0})}}}),wo=w("overlay",{state:()=>({mouseOverNameOpts:{position:[117.186419,45.66446,20],show:!1,text:"",pixelOffset:[0,0]}}),getters:{},actions:{setMouseOverlayLabel({position:e,show:t,text:a,pixelOffset:o}){this.mouseOverNameOpts.position=e,this.mouseOverNameOpts.show=t,this.mouseOverNameOpts.text=a,this.mouseOverNameOpts.pixelOffset=o},clearMouseOverlayLabel(){this.mouseOverNameOpts.position=void 0,this.mouseOverNameOpts.show=!1,this.mouseOverNameOpts.text=void 0}}}),xo=w("render",{state:()=>({renderDatas:[],selectedRenderData:{model:void 0,renderingType:void 0,restoreHandler:void 0,feature:void 0,featureInfoListItems:[]}}),getters:{},actions:{addRenderDatas(e){(e=Array.isArray(e)?e:[e]).forEach((e=>{-1===d.exports.findIndex(this.renderDatas,(t=>t.id===e.id))?this.renderDatas.push(e):ut(`添加渲染数据集失败，原因：id 为【${e.id} 】的数据已经存在。`,"渲染数据模型：",e)}))},removeRenderDataById(e){d.exports.remove(this.renderDatas,(t=>t.id===e))},removeRenderDataByType(e){d.exports.remove(this.renderDatas,(t=>t.type===e))},removeRenderDataByPage(e){d.exports.remove(this.renderDatas,(t=>t.page===e))},removeAllRenderData(){this.renderDatas.length=0},setSelectedRenderData(e){this.selectedRenderData.model=e.model,this.selectedRenderData.renderingType=e.renderingType,this.selectedRenderData.restoreHandler=e.restoreHandler,this.selectedRenderData.feature=e.feature,this.selectedRenderData.featureInfoListItems=e.featureInfoListItems},getRenderDataByDatasetId(e){return d.exports.find(this.renderDatas,(t=>t.id===e))}}}),ko={useLayerStore:e=>Co(e),useOverlayStore:e=>wo(e),useRenderStore:e=>xo(e)},_o=de(),Lo={system:l({},bo),viewer:l({},ko)};const So=me(At({},[["render",function(e,t){const a=re("router-view");return x(),A(a)}]]));So.use(Qe,{plugins:{Notify:pe,Dialog:Ue,LocalStorage:ue},lang:Fe}),So.use(Bt),So.use(tt),So.use(_o),So.use(Pt),So.mount("#app");
