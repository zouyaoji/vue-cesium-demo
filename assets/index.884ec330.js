var it=Object.defineProperty,ct=Object.defineProperties;var dt=Object.getOwnPropertyDescriptors;var $e=Object.getOwnPropertySymbols;var mt=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable;var Ce=(e,t,s)=>t in e?it(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,M=(e,t)=>{for(var s in t||(t={}))mt.call(t,s)&&Ce(e,s,t[s]);if($e)for(var s of $e(t))pt.call(t,s)&&Ce(e,s,t[s]);return e},ne=(e,t)=>ct(e,dt(t));import{y as Fe,z as g,A as ft,B as gt,C as X,D as _t,E as yt,N as ke,F as ht,L as vt,G as bt,H as P,I as wt,J as d,K as h,d as v,j as ue,M as m,O as u,P as D,Q as xt,r as k,R as l,a as Et,b as w,S as y,U as E,V as $,W as p,w as I,X as B,Y as $t,Z as Ct,_ as j,$ as A,a0 as Ft,a1 as Z,a2 as le,a3 as ie,a4 as Le,g as kt,a5 as ee,o as Lt,h as St,a6 as Dt,f as Bt,n as At,a7 as Se,a8 as Ot,a9 as Q,aa as De,ab as Tt,ac as Mt,ad as zt,c as Rt,ae as Vt}from"./vendor.83aa8c2b.js";import{P as te,N as q,D as Be,Q as C,u as Nt,a as Pt,b as Ae,c as ce,d as z,e as Oe,f as Te,g as U,h as de,i as R,j as me,C as se,k as Me,l as It,m as jt,n as ze,o as Qt,p as qt,q as Ut,r as Wt,s as Ht,t as Gt,v as pe,w as Yt,x as Re,y as Jt,z as Kt,A as Xt,B as Zt,E as es}from"./vendor-quasar.cefec036.js";const ts=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}};ts();const fe="VueCesiumDemo";function Ve(e="default",t=""){te.set(`${fe}-0.0.0-${e}`,t)}function W(e="default"){return te.getItem(`${fe}-0.0.0-${e}`)}function H(e="default"){te.remove(`${fe}-0.0.0-${e}`)}const ss="modulepreload",Ne={},as="/",ge=function(t,s){return!s||s.length===0?t():Promise.all(s.map(a=>{if(a=`${as}${a}`,a in Ne)return;Ne[a]=!0;const r=a.endsWith(".css"),n=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${n}`))return;const o=document.createElement("link");if(o.rel=r?"stylesheet":ss,r||(o.as="script",o.crossOrigin=""),o.href=a,document.head.appendChild(o),r)return new Promise((i,c)=>{o.addEventListener("load",i),o.addEventListener("error",c)})})).then(()=>t())},Pe=[{path:"/",name:"layout",component:()=>ge(()=>Promise.resolve().then(function(){return Xa}),void 0),redirect:{path:"index"},children:[{name:"login",path:"/login",component:()=>ge(()=>Promise.resolve().then(function(){return Xe}),void 0)}]}],rs=[{path:"/:catchAll(.*)*",name:"404",component:()=>ge(()=>Promise.resolve().then(function(){return Ke}),void 0)}],os=Pe;var Ie=[...Pe,...rs];function _e(e,t){L.commit("viewer/layer/toggle",{names:e,show:t})}function je(e){L.dispatch("viewer/layer/loadDefaultLayers",e)}function J(e){L.commit("system/layout/toggleGlobalLayout",e)}function ns(e){L.commit("system/layout/toggleIndexPageLayout",e)}const Qe="VueCesiumDemo";function us(e="default"){let t="";switch(e){case"default":t="#35495E";break;case"primary":t="#3488ff";break;case"success":t="#43B883";break;case"warning":t="#e6a23c";break;case"danger":t="#f56c6c";break}return t}function ls(e,t,s="primary"){console.log(`%c ${e} %c ${t} %c`,"background:#35495E; padding: 1px; border-radius: 3px 0 0 3px; color: #fff;",`background:${us(s)}; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff;`,"background:transparent")}const is=(e="")=>function(...t){e&&(Fe(t[0])?t[0]=e.trim()+" "+t[0]:t=[e.trim(),...t]);const s=t.shift(),a=new Error(s);console.warn(a.stack,...t),L.dispatch("system/log/push",{message:"\u4E1A\u52A1\u903B\u8F91\u8B66\u544A",type:"warning",meta:{error:a}}),q.create({message:s,timeout:3e3,type:"warning"})},cs=(e="")=>function(...t){e&&(Fe(t[0])?t[0]=e.trim()+" "+t[0]:t=[e.trim(),...t]);const s=t.shift(),a=new Error(s);console.error(a.stack,...t),L.dispatch("system/log/push",{message:"\u4E1A\u52A1\u903B\u8F91\u5F02\u5E38",type:"danger",meta:{error:a}}),q.create({message:s,timeout:3e3,type:"negative"})},ds=is(`[${Qe}] WARN `),qe=cs(`[${Qe}] ERR `);function ms(){L.commit("viewer/render/removeAllRenderData")}function ps(e){const t="VueCesium Demo";window.document.title=`${t}${e?` | ${e}`:""}`}function ae(e){return e.map(t=>M(ne(M({},t),{path:t.path||g.exports.uniqueId("vc-menu-empty-")}),t.children?{children:ae(t.children)}:{}))}function fs(e="{}",t={}){let s=t;try{s=JSON.parse(e)}catch(a){qe(a)}return s}function ye(e={},t="",s=0){return[200,{code:s,msg:t,data:e}]}function gs(e={},t="\u6210\u529F"){return ye(e,t)}function _s(e={},t="\u8BF7\u6C42\u5931\u8D25",s=500){return ye(e,t,s)}function re(e){L.dispatch("system/log/push",{message:"\u6570\u636E\u8BF7\u6C42\u5F02\u5E38",type:"danger",meta:{error:e}}),q.create({message:e.message,type:"negative",timeout:3*1e3})}function he(e){const t=new Error(e);throw re(t),t}var ys=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",parse:fs,response:ye,responseSuccess:gs,responseError:_s,errorLog:re,errorCreate:he});const Ue=()=>{const e=gt.create({});return e.interceptors.request.use(t=>t,t=>(re(t),Promise.reject(t))),e.interceptors.response.use(t=>{const s=t.data,{code:a}=s;if(a===void 0)return s;switch(a){case 0:return s;case 200:return s;case"xxx":he(`[ code: xxx ] ${s.msg}: ${t.config.url}`);break;default:return he(`${s.msg}: ${t.config.url}`),Promise.reject(s)}},t=>{switch(g.exports.get(t,"response.status")){case 400:t.message="\u8BF7\u6C42\u9519\u8BEF";break;case 401:t.message="\u672A\u6388\u6743\uFF0C\u8BF7\u767B\u5F55",H("token"),H("uuid"),V.push("/login");break;case 403:t.message="\u62D2\u7EDD\u8BBF\u95EE";break;case 404:t.message=`\u8BF7\u6C42\u5730\u5740\u51FA\u9519: ${t.response.config.url}`;break;case 408:t.message="\u8BF7\u6C42\u8D85\u65F6";break;case 500:t.message="\u670D\u52A1\u5668\u5185\u90E8\u9519\u8BEF";break;case 501:t.message="\u670D\u52A1\u672A\u5B9E\u73B0";break;case 502:t.message="\u7F51\u5173\u9519\u8BEF";break;case 503:t.message="\u670D\u52A1\u4E0D\u53EF\u7528";break;case 504:t.message="\u7F51\u5173\u8D85\u65F6";break;case 505:t.message="HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301";break}return re(t),Promise.reject(t)}),e};function We(e){return function(t){const s=W("token"),a={headers:{Authorization:s,"Content-Type":g.exports.get(t,"headers.Content-Type","application/json")},timeout:2e4,baseURL:e.baseURL||"/",data:{}};return s&&(a.headers.Authorization="Bearer "+s),e(Object.assign(a,t))}}const He=Ue(),hs=We(He),ve=Ue(),vs=We(ve),bs=new ft(ve),Ge=[{username:"admin",password:"admin",id:"admin-uuid",name:"Admin"},{username:"editor",password:"editor",id:"editor-uuid",name:"Editor"}],ws=[{id:X.datatype.uuid(),component:"MainLayout",icon:"cog",islock:!1,hidden:!1,name:"layout",path:"/",permission:"",sort:1e3,title:"VueCesiumDemo",type:10,children:[{id:X.datatype.uuid(),component:"/index",icon:"cog",islock:!1,hidden:!1,name:"index",path:"/index",permission:"permission-index",sort:1e3,caption:"\u9996\u9875",title:"message.header.index",type:10,children:[{id:X.datatype.uuid(),component:"",icon:"eye",islock:!1,hidden:!1,name:"left-panel",path:"",permission:"permission-left-panel-view",sort:100101,title:"\u67E5\u770B\u5DE6\u4FA7\u9762\u677F",type:20}]},{id:X.datatype.uuid(),component:"/demo",icon:"cog",islock:!1,hidden:!1,name:"demo",path:"/demo",permission:"permission-demo",sort:1e3,caption:"\u793A\u4F8B",title:"message.header.demo",type:10,children:[]}]}];var xs=({service:e,request:t,serviceForMock:s,requestForMock:a,mock:r,faker:n,tools:o})=>({login(i={}){return r.onAny("/auth/login").reply(c=>{const f=o.parse(c.data),b=g.exports.find(Ge,{username:f.username,password:f.password});return b?o.responseSuccess(g.exports.assign({},b,{token:"f5befe1a-962c-4cdd-bf45-77ce306dbbce"})):o.responseError({},"\u8D26\u53F7\u6216\u5BC6\u7801\u4E0D\u6B63\u786E")}),a({url:"/auth/login",method:"post",data:i})},getUserInfo(){return r.onAny("/user/info").reply(i=>{const c=W("uuid"),f=g.exports.find(Ge,{id:c});return f?o.responseSuccess(g.exports.assign({},f)):(H("token"),H("uuid"),V.push("/login"),o.responseError({},"\u672A\u6388\u6743, \u8BF7\u767B\u5F55!"))}),a({url:"/user/info",method:"post"})},getAccessibleMenus(i={}){return r.onAny("/api/menu/accessible").reply(c=>o.responseSuccess(ws)),a({url:"/api/menu/accessible",method:"post",data:i})}});const Es={service:He,request:hs,serviceForMock:ve,requestForMock:vs,mock:bs,faker:_t,tools:ys},be=xs(Es),$s=ht,V=yt({scrollBehavior:()=>({left:0,top:0}),routes:Ie,history:$s("/")}),Ye=["/login","/404"];V.beforeEach(async(e,t,s)=>{ke.start(),L.commit("system/search/set",!1);const a=W("token");if(e.path!=="/login"&&be.getUserInfo(),a)try{if(!L.getters["system/permission/inited"]){const o=[...(await be.getAccessibleMenus()).data];await L.dispatch("system/permission/generateRoutes",{menuTree:o},{root:!0}),s(e.path);return}e.path==="/login"?s({path:"/index"}):s()}catch{Ye.indexOf(e.path)!==-1?s():s("/login")}else Ye.indexOf(e.path)!==-1?s():s("/login")});V.afterEach(e=>{ke.done(),ps(e.meta.title)});var Cs={namespaced:!0,actions:{async login({dispatch:e},t){const s=(await be.login(t)).data;Ve("token",s.token),Ve("uuid",s.id),await e("system/user/set",M({},s),{root:!0}),await e("load")},logout({commit:e,dispatch:t},{confirm:s=!1}={}){return new Promise((a,r)=>{async function n(){H("token"),H("uuid"),await t("system/user/set",{},{root:!0}),e("system/permission/clear",!0,{root:!0}),e("system/menu/clear",!0,{root:!0}),V.push({name:"login"}),a(!0)}s?(e("system/gray/set",!0,{root:!0}),Be.create({title:"\u6CE8\u9500\u7528\u6237",message:"\u786E\u5B9A\u8981\u6CE8\u9500\u5F53\u524D\u7528\u6237\u5417\uFF1F",cancel:!0}).onOk(()=>{e("system/gray/set",!1,{root:!0}),n()}).onCancel(()=>{e("system/gray/set",!1,{root:!0}),q.create({message:"\u53D6\u6D88\u6CE8\u9500\u64CD\u4F5C"}),a(!1)})):n()})},async load({dispatch:e}){await e("system/user/load",null,{root:!0}),await e("system/theme/load",null,{root:!0}),await e("system/transition/load",null,{root:!0}),await e("system/menu/asideLoad",null,{root:!0})}}},Fs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Cs});const ks="VueCesiumDemo",Ls=new vt(`${ks}-0.0.0`),G=bt(Ls);G.defaults({sys:{},database:{}}).write();function we({dbName:e="database",path:t="",user:s=!0,validator:a=n=>!0,defaultValue:r=""}){const n=W("uuid")||"ghost-uuid",o=`${e}.${s?`user.${n}`:"public"}${t?`.${t}`:""}`,i=G.get(o).value();return i!==void 0&&a(i)||G.set(o,r).write(),o}function Ss({dbName:e="database",path:t="",value:s="",user:a=!1}){G.set(we({dbName:e,path:t,user:a}),s).write()}function Ds({dbName:e="database",path:t="",defaultValue:s="",user:a=!1}){return g.exports.cloneDeep(G.get(we({dbName:e,path:t,user:a,defaultValue:s})).value())}function Je({dbName:e="database",path:t="",user:s=!1,validator:a=()=>!0,defaultValue:r=""}={}){return G.get(we({dbName:e,path:t,user:s,validator:a,defaultValue:r}))}var Bs={namespaced:!0,actions:{set(e,{dbName:t="database",path:s="",value:a="",user:r=!1}){Ss({dbName:t,path:s,value:a,user:r})},get(e,{dbName:t="database",path:s="",defaultValue:a="",user:r=!1}){return Ds({dbName:t,path:s,defaultValue:a,user:r})},database(e,{user:t=!1}={}){return Je({user:t,defaultValue:""})},databaseClear(e,{user:t=!1}={}){return Je({user:t,validator:()=>!0,defaultValue:""})}}},As=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bs}),Os={namespaced:!0,state:{active:!1},actions:{listen({commit:e}){P.isEnabled&&P.on("change",()=>{P.isFullscreen||e("set",!1)})},toggle({commit:e}){P.isFullscreen?(P.exit(),e("set",!1)):(P.request(),e("set",!0))}},mutations:{set(e,t){e.active=t}}},Ts=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Os}),Ms={namespaced:!0,state:{active:!1},mutations:{toggle(e){e.active=!e.active},set(e,t){e.active=t}}},zs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ms}),Rs={namespaced:!0,state:{global:{header:!1,content:!1,footer:!1,layerManager:!1},index:{workBench:!1}},mutations:{toggleGlobalLayout(e,t){Object.keys(t).forEach(a=>{g.exports.isBoolean(t[a])&&(e.global[a]=t[a])})},toggleIndexPageLayout(e,t){Object.keys(t).forEach(a=>{g.exports.isBoolean(t[a])&&(e.index[a]=t[a])})}}},Vs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Rs}),Ns={namespaced:!0,state:{log:[]},getters:{length(e){return e.log.length},lengthError(e){return e.log.filter(t=>t.type==="danger").length}},actions:{push({rootState:e,commit:t},{message:s,type:a="info",meta:r}){t("push",{message:s,type:a,time:wt().format("YYYY-MM-DD HH:mm:ss"),meta:M({user:e.system.user.info,uuid:W("uuid"),token:W("token"),url:g.exports.get(window,"location.href","")},r)})}},mutations:{push(e,t){e.log.push(t)},clean(e){e.log=[]}}},Ps=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ns}),O={theme:{list:[{title:"\u7ECF\u5178",name:"classic",preview:"images/theme/classic/preview@2x.png"},{title:"Element",name:"element",preview:"images/theme/element/preview@2x.png"}]},menu:{asideCollapse:!1,asideTransition:!0},hotkey:{search:{open:"s",close:"esc"}},transition:{active:!0}},Is={namespaced:!0,state:{header:[],aside:[],asideCollapse:O.menu.asideCollapse||!0,asideTransition:O.menu.asideTransition||!0},actions:{async asideCollapseSet({state:e,dispatch:t},s){e.asideCollapse=s,await t("system/db/set",{dbName:"sys",path:"menu.asideCollapse",value:e.asideCollapse,user:!0},{root:!0})},async asideCollapseToggle({state:e,dispatch:t}){e.asideCollapse=!e.asideCollapse,await t("system/db/set",{dbName:"sys",path:"menu.asideCollapse",value:e.asideCollapse,user:!0},{root:!0})},async asideTransitionSet({state:e,dispatch:t},s){e.asideTransition=s,await t("system/db/set",{dbName:"sys",path:"menu.asideTransition",value:e.asideTransition,user:!0},{root:!0})},async asideTransitionToggle({state:e,dispatch:t}){e.asideTransition=!e.asideTransition,await t("system/db/set",{dbName:"sys",path:"menu.asideTransition",value:e.asideTransition,user:!0},{root:!0})},async asideLoad({state:e,dispatch:t}){await t("system/db/get",{dbName:"sys",path:"menu",defaultValue:O.menu,user:!0},{root:!0})}},mutations:{headerSet(e,t){e.header=t},asideSet(e,t){e.aside=t},clear(e){e.header=[],e.aside=[]}}},js=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Is}),xe=(e,t)=>{const s=e.__vccOpts||e;for(const[a,r]of t)s[a]=r;return s};const Qs={},qs={class:"page-demo absolute"};function Us(e,t){return d(),h("div",qs,"index")}var Ws=xe(Qs,[["render",Us]]),Hs=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ws});const Gs={class:"z-top absolute-center page-index"},Ys=v({setup(e){return ue(()=>{je(!0)}),(t,s)=>(d(),h("div",Gs))}});var Js=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ys});const Ks=v({name:"Error404"}),Xs={class:"fullscreen bg-blue text-white text-center q-pa-md flex flex-center"},Zs=m("div",{style:{"font-size":"30vh"}},"404",-1),ea=m("div",{class:"text-h2",style:{opacity:"0.4"}},"\u5662. \u8FD9\u513F\u4EC0\u4E48\u4E5F\u6CA1\u6709...",-1);function ta(e,t,s,a,r,n){return d(),h("div",Xs,[m("div",null,[Zs,ea,u(C,{class:"q-mt-xl",color:"white","text-color":"blue",unelevated:"",to:"/onemap",label:"\u8FD4\u56DE\u4E3B\u9875","no-caps":""})])])}var sa=xe(Ks,[["render",ta]]),Ke=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sa});const aa={class:"q-pa-md page-login z-top"},ra={class:"login-container col row"},oa=m("div",{class:"text-h4 q-my-sm"},"\u767B\u5F55",-1),na=m("div",{class:"oath flex"},[m("div",{class:"title full-width text-center q-pt-md"},"\u793E\u4EA4\u5E10\u53F7\u767B\u5F55"),m("div",{class:"q-gutter-md full-width text-center q-pt-sm flex justify-center"},[m("svg",{t:"1615200042776",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5886",width:"200",height:"200"},[m("path",{d:"M579.867 511.932c-11.67 0-23.344 10.837-23.344 24.178 0 10.839 11.668 21.678 23.344 21.678 17.514 0 30.020-10.839 30.020-21.678 0-13.34-12.505-24.178-30.020-24.178v0zM503.154 399.36c18.345 0 30.020-11.67 30.020-29.185 0-18.345-11.675-29.183-30.020-29.183-17.51 0-34.188 10.839-34.188 29.183-0.001 17.517 16.678 29.185 34.188 29.185v0zM512.326 0.56c-282.655 0-511.788 229.133-511.788 511.788 0 282.653 229.133 511.786 511.788 511.786 282.653 0 511.786-229.133 511.786-511.786 0.001-282.655-229.132-511.788-511.786-511.788v0zM415.602 642.009c-30.855 0-53.369-4.999-82.553-13.341l-84.218 42.53 24.186-71.715c-59.204-41.689-94.228-94.221-94.228-158.428 0-113.403 106.733-200.123 236.814-200.123 115.069 0 217.633 68.377 237.644 165.106-8.338-1.671-15.844-2.502-22.514-2.502-113.403 0-200.954 85.049-200.954 187.613 0 17.508 2.502 33.351 6.671 50.030-6.671 0.829-14.178 0.829-20.849 0.829v0zM763.314 723.724l16.674 60.041-63.371-35.854c-24.18 4.999-47.529 12.505-71.709 12.505-111.737 0-200.123-76.711-200.123-171.769 0-95.058 88.388-171.771 200.123-171.771 105.895 0 200.954 76.713 200.954 171.771 0 53.362-35.854 100.891-82.548 135.078v0zM338.053 340.992c-17.51 0-35.854 10.839-35.854 29.183 0 17.516 18.343 29.19 35.854 29.19 16.679 0 30.020-11.675 30.020-29.19 0-18.343-13.341-29.183-30.020-29.183v0zM710.783 511.932c-12.51 0-23.349 10.837-23.349 24.178 0 10.839 10.839 21.678 23.349 21.678 16.674 0 29.183-10.839 29.183-21.678 0-13.34-12.509-24.178-29.183-24.178v0zM710.783 511.932z","p-id":"5887","data-spm-anchor-id":"a313x.7781069.0.i22",class:"",fill:"#2dc100"})]),m("svg",{t:"1615199447339",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2522",width:"200",height:"200"},[m("path",{d:"M512 0C229.003636 0 0 229.003636 0 512s229.003636 512 512 512 512-229.003636 512-512S794.996364 0 512 0z m210.385455 641.396364c-7.447273 9.309091-26.996364-1.861818-41.89091-32.581819-3.723636 13.963636-13.032727 36.305455-34.443636 64.232728 35.374545 8.378182 44.683636 42.821818 33.512727 61.44-8.378182 13.032727-26.996364 24.203636-59.578181 24.203636-58.647273 0-83.781818-15.825455-95.883637-26.996364-1.861818-2.792727-5.585455-3.723636-10.24-3.723636-4.654545 0-7.447273 0.930909-10.24 3.723636-11.170909 11.170909-37.236364 26.996364-95.883636 26.996364-32.581818 0-52.130909-11.170909-59.578182-24.203636-12.101818-18.618182-1.861818-53.061818 33.512727-61.44-20.48-27.927273-29.789091-50.269091-34.443636-64.232728-13.963636 30.72-34.443636 42.821818-41.890909 32.581819-5.585455-8.378182-8.378182-26.065455-7.447273-38.167273 3.723636-46.545455 34.443636-85.643636 53.061818-106.123636-2.792727-5.585455-8.378182-40.029091 14.894546-63.301819v-1.861818c0-92.16 65.163636-158.254545 148.014545-158.254545 81.92 0 148.014545 66.094545 148.014546 158.254545v1.861818c23.272727 23.272727 17.687273 57.716364 14.894545 63.301819 17.687273 20.48 49.338182 59.578182 53.061818 106.123636 0.930909 12.101818-0.930909 29.789091-7.447272 38.167273z",fill:"#30A5DD","p-id":"2523"})]),m("svg",{t:"1615199464855",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3380",width:"200",height:"200"},[m("path",{d:"M448.698182 482.210909c-96.814545 4.654545-175.010909 56.785455-175.010909 121.949091s78.196364 114.501818 175.010909 109.847273S623.709091 647.912727 623.709091 582.749091c-0.930909-64.232727-79.127273-105.192727-175.010909-100.538182z m65.163636 164.770909c-29.789091 39.098182-88.436364 57.716364-145.221818 26.065455-26.996364-14.894545-26.065455-43.752727-26.065455-43.752728s-11.170909-92.16 85.643637-103.330909c97.745455-12.101818 115.432727 81.92 85.643636 121.018182z",fill:"#EA5D5C","p-id":"3381"}),m("path",{d:"M448.698182 584.610909c-6.516364 4.654545-7.447273 13.032727-3.723637 18.618182 2.792727 5.585455 11.170909 6.516364 16.756364 1.861818 5.585455-4.654545 8.378182-13.032727 4.654546-18.618182-2.792727-5.585455-10.24-6.516364-17.687273-1.861818zM403.083636 597.643636c-18.618182 1.861818-30.72 17.687273-30.72 33.512728 0 14.894545 14.894545 26.065455 32.581819 24.203636 17.687273-1.861818 32.581818-15.825455 32.581818-31.650909s-13.963636-27.927273-34.443637-26.065455z",fill:"#EA5D5C","p-id":"3382"}),m("path",{d:"M512 0C229.003636 0 0 229.003636 0 512s229.003636 512 512 512 512-229.003636 512-512S794.996364 0 512 0z m197.352727 626.501818C669.323636 712.145455 538.065455 754.036364 441.250909 746.589091c-92.16-7.447273-211.316364-38.167273-223.418182-151.738182 0 0-6.516364-51.2 42.821818-117.294545 0 0 70.749091-99.607273 152.669091-128.465455 82.850909-27.927273 92.16 19.549091 92.16 48.407273-4.654545 24.203636-12.101818 38.167273 18.618182 28.858182 0 0 80.989091-38.167273 114.501818-4.654546 26.996364 26.996364 4.654545 65.163636 4.654546 65.163637s-11.170909 12.101818 12.101818 16.756363c21.410909 3.723636 94.021818 37.236364 53.992727 122.88z m-80.058182-236.450909c-8.378182 0-15.825455-7.447273-15.825454-15.825454 0-9.309091 7.447273-15.825455 15.825454-15.825455 0 0 99.607273-18.618182 87.505455 89.367273v1.861818c-0.930909 7.447273-7.447273 13.963636-15.825455 13.963636-9.309091 0-15.825455-7.447273-15.825454-15.825454 0-1.861818 15.825455-73.541818-55.854546-57.716364zM797.789091 493.381818c-2.792727 18.618182-12.101818 11.170909-22.341818 11.170909-13.032727 0-23.272727-16.756364-23.272728-29.789091 0-11.170909 4.654545-22.341818 4.654546-22.341818 0.930909-4.654545 12.101818-34.443636-7.447273-78.196363-35.374545-60.509091-106.123636-60.509091-114.501818-57.716364-8.378182 3.723636-21.410909 5.585455-21.410909 5.585454-13.032727 0-23.272727-10.24-23.272727-23.272727 0-11.170909 7.447273-19.549091 16.756363-22.341818 0 0 0 0.930909 0.930909 0.930909s1.861818 0.930909 1.861819 0.930909c10.24-1.861818 45.614545-4.654545 79.127272 3.723637 62.370909 14.894545 146.152727 83.781818 108.916364 211.316363z",fill:"#EA5D5C","p-id":"3383"})])])],-1),ua=m("div",{class:"row justify-between q-pt-md text-grey-8"},[m("span",null,"\u5FD8\u8BB0\u5BC6\u7801"),m("span",{class:"sign-up text-center cursor-pointer"}," \u8FD8\u6CA1\u6709\u8D26\u53F7\uFF1F\u73B0\u5728\u6CE8\u518C\uFF01 ")],-1),la=v({setup(e){Nt();const t=D(),s=xt(),a=k({username:"admin",password:"admin"}),r={username:[i=>i&&i.length>0||"\u8BF7\u8F93\u5165\u7528\u6237\u540D"],password:[i=>i&&i.length>0||"\u8BF7\u8F93\u5165\u7528\u6237\u540D"],rememberMe:[i=>!!i||"You need to accept the license and terms first"]},n=async()=>{t.dispatch("system/account/login",a.value).then(i=>{s.replace(s.currentRoute.value.query.redirect||"/index")})},o=()=>{a.value={username:"",password:""}};return(i,c)=>(d(),h("div",aa,[m("div",ra,[u(Pt,{greedy:"",class:"form-login col-md-5",onSubmit:n,onReset:o},{default:l(()=>[oa,u(Ae,{modelValue:a.value.username,"onUpdate:modelValue":c[0]||(c[0]=f=>a.value.username=f),outlined:"",label:"\u7528\u6237\u540D","lazy-rules":"",rules:r.username},{prepend:l(()=>[u(ce,{class:"icon",name:"perm_identity"})]),_:1},8,["modelValue","rules"]),u(Ae,{modelValue:a.value.password,"onUpdate:modelValue":c[1]||(c[1]=f=>a.value.password=f),outlined:"",label:"\u5BC6\u7801","lazy-rules":"",type:"password",rules:r.password},{prepend:l(()=>[u(ce,{class:"icon",name:"lock"})]),_:1},8,["modelValue","rules"]),m("div",null,[u(C,{class:"btn-submit full-width no-outline text-h6",color:"primary",label:"\u767B\u5F55",type:"submit"})]),na,ua]),_:1})])]))}});var Xe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:la});const ia={};var ca=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ia});const da=v({setup(e){const t="VueCesiumDemo",s=D(),a=Et({sortBy:"desc",descending:!1,rowsPerPage:10}),r=k([{id:"time",label:"\u65F6\u95F4",field:"time",align:"center"},{id:"message",label:"\u4FE1\u606F",field:"message",align:"center"},{id:"url",label:"\u89E6\u53D1\u9875\u9762",field:"url",align:"center"},{id:"more",label:"\u67E5\u770B\u8BE6\u60C5",align:"center"}]),n=w(()=>s.state.system.log.log),o=i=>{q.create({type:"info",caption:"\u65E5\u5FD7\u8BE6\u60C5",message:"\u5B8C\u6574\u7684\u65E5\u5FD7\u5185\u5BB9\u5DF2\u7ECF\u6253\u5370\u5230\u63A7\u5236\u53F0"}),ls(t,"\u65E5\u5FD7\u8BE6\u60C5","primary"),console.group(i.message),console.log("time: ",i.time),console.log("type: ",i.type),console.log(i.meta),console.groupEnd()};return(i,c)=>(d(),y(Te,{class:"log-table-list",rows:p(n),columns:r.value,pagination:p(a)},{body:l(f=>[u(Oe,{props:f},{default:l(()=>[u(z,{key:"time",class:"text-center"},{default:l(()=>[E($(f.row.time),1)]),_:2},1024),u(z,{key:"message",class:"text-center"},{default:l(()=>[E($(f.row.message),1)]),_:2},1024),u(z,{key:"url",class:"text-center"},{default:l(()=>[E($(f.row.meta.url),1)]),_:2},1024),u(z,{key:"more",class:"text-center"},{default:l(()=>[u(C,{icon:"more",rounded:"",onClick:b=>o(f.row)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"]))}}),ma=m("div",{class:"text-h6"},"\u65E5\u5FD7\u5217\u8868",-1),pa=E("\u5173\u95ED"),fa=v({setup(e){const t=D(),s=w(()=>t.getters["system/log/length"]),a=w(()=>t.getters["system/log/lengthError"]),r=k(!1),n=w(()=>s.value===0?"\u6CA1\u6709\u65E5\u5FD7\u6216\u5F02\u5E38":`${s.value} \u6761\u65E5\u5FD7${a.value>0?` | \u5305\u542B ${a.value} \u4E2A\u5F02\u5E38`:""}`),o=()=>{r.value=!0};return(i,c)=>(d(),h(B,null,[u(C,{icon:"adjust",size:"md",flat:"",round:"",onClick:o},{default:l(()=>[u(U,null,{default:l(()=>[E($(p(n)),1)]),_:1})]),_:1}),u(Me,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=f=>r.value=f)},{default:l(()=>[u(de,{style:{width:"1440px","max-width":"960px"}},{default:l(()=>[u(R,{class:"row items-center q-pb-none"},{default:l(()=>[ma,u(me),I((d(),y(C,{icon:"close",flat:"",round:"",dense:""},{default:l(()=>[u(U,null,{default:l(()=>[pa]),_:1})]),_:1})),[[se]])]),_:1}),u(R,{class:"theme-card"},{default:l(()=>[u(da)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),ga=v({setup(e){const t=D(),s=w(()=>t.state.system.fullscreen.active),a=()=>{t.dispatch("system/fullscreen/toggle",null,{root:!0})};return(r,n)=>(d(),y(C,{icon:p(s)?"fullscreen_exit":"fullscreen",size:"md",flat:"",round:"",onClick:a},{default:l(()=>[u(U,null,{default:l(()=>[E($(p(s)?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F"),1)]),_:1})]),_:1},8,["icon"]))}});const _a=E("\u5DF2\u6FC0\u6D3B"),ya=E("\u4F7F\u7528"),ha=v({setup(e){const t=D(),s=k([{id:"title",label:"\u540D\u79F0",field:"title",align:"center"},{id:"preview",label:"\u9884\u89C8",field:"preview",align:"center"},{id:"handler",label:"\u64CD\u4F5C",align:"center"}]),a=w(()=>t.state.system.theme.list),r=w(()=>t.state.system.theme.activeName),n=o=>{t.dispatch("system/theme/set",o)};return(o,i)=>(d(),y(Te,{class:"theme-table-list",rows:p(a),"hide-header":"","hide-pagination":"",columns:s.value},{body:l(c=>[u(Oe,{props:c},{default:l(()=>[u(z,{key:"title"},{default:l(()=>[E($(c.row.title),1)]),_:2},1024),u(z,{key:"preview"},{default:l(()=>[E($(c.row.preview),1)]),_:2},1024),u(z,{key:"handler"},{default:l(()=>[p(r)===c.row.name?(d(),y(C,{key:0,class:"active",icon:"done",rounded:"",outline:""},{default:l(()=>[_a]),_:1})):(d(),y(C,{key:1,rounded:"",outline:"",onClick:f=>n(c.row.name)},{default:l(()=>[ya]),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}}),va=E("\u4E3B\u9898"),ba=m("div",{class:"text-h6"},"\u4E3B\u9898",-1),wa=E("\u5173\u95ED"),xa=v({setup(e){const t=k(!1);return(s,a)=>(d(),h(B,null,[u(C,{icon:"style",size:"md",flat:"",round:"",onClick:a[0]||(a[0]=r=>t.value=!0)},{default:l(()=>[u(U,null,{default:l(()=>[va]),_:1})]),_:1}),u(Me,{modelValue:t.value,"onUpdate:modelValue":a[1]||(a[1]=r=>t.value=r)},{default:l(()=>[u(de,{style:{width:"650px"}},{default:l(()=>[u(R,{class:"row items-center q-pb-none"},{default:l(()=>[ba,u(me),I((d(),y(C,{icon:"close",flat:"",round:"",dense:""},{default:l(()=>[u(U,null,{default:l(()=>[wa]),_:1})]),_:1})),[[se]])]),_:1}),u(R,{class:"theme-card"},{default:l(()=>[u(ha)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),Ea=E("\u6CE8\u9500"),$a=v({setup(e){const t=D(),s=t.state.system.user,a=$t(),r=()=>{t.dispatch("system/account/logout",{confirm:!0}).then(n=>{if(n){je(!1),ns({leftPanel:!1}),J({featureInfo:!1,layerManager:!1}),ms();const o={position:[105,30,21634101],heading:360,pitch:-90,roll:0};(a==null?void 0:a.viewer)&&Ct(a==null?void 0:a.viewer,o,{duration:3})}})};return(n,o)=>{var i,c;return d(),y(C,{dense:"",rounded:"","no-caps":"",size:"md",class:"q-mr-sm","auto-close":"",icon:"person",label:(c=(i=p(s).info)==null?void 0:i.sysUser)==null?void 0:c.username},{default:l(()=>[u(Ut,null,{default:l(()=>[u(It,{dense:""},{default:l(()=>[I((d(),y(jt,{clickable:"",dense:"",onClick:r},{default:l(()=>[u(ze,{avatar:""},{default:l(()=>[u(Qt,{icon:"logout"})]),_:1}),u(ze,null,{default:l(()=>[u(qt,null,{default:l(()=>[Ea]),_:1})]),_:1})]),_:1})),[[se]])]),_:1})]),_:1})]),_:1},8,["label"])}}}),Ca={class:"left"},Fa={class:"content"},ka=m("div",{size:"60px",class:"logo-img float"},[m("img",{src:"https://zouyaoji.top/vue-cesium/favicon.png"})],-1),La={class:"title text-h4 float"},Sa={class:"nav float"},Da={class:"right q-ml-sm q-mr-sm"},Ba={key:0,class:"content"},Aa=v({setup(e){const t=k(!1),s=D(),a=w(()=>"VueCesium Demo"),r=w(()=>s.state.system.menu.header.length?s.state.system.menu.header[0].children:[]),n=w(()=>!1);return(o,i)=>(d(),h("div",{class:"main-header",style:Ft({opacity:t.value?.5:1})},[m("div",Ca,[m("div",Fa,[ka,m("div",La,[m("div",null,$(p(a)),1)]),m("div",Sa,[u(Wt,null,{default:l(()=>[(d(!0),h(B,null,j(p(r),(c,f)=>(d(),y(Ht,{key:f,to:c.path,exact:"",label:o.$t(c.title),"active-class":"menu-active"},null,8,["to","label"]))),128))]),_:1})])])]),m("div",Da,[p(r).length?(d(),h("div",Ba,[p(n)?(d(),y(fa,{key:0})):A("",!0),u(ga),u(xa),u($a)])):A("",!0)])],4))}}),Oa={key:0,class:"text-weight-bold"},Ta={class:"content"},Ma=v({props:{title:{type:String,default:""},titleClass:{type:String,default:""},closeTip:{type:String,default:"\u5173\u95ED"},showCloseBtn:{type:Boolean,default:!0},separatorOpts:{type:Object,default:()=>({show:!0,dark:!0,color:"white",size:"1px"})}},emits:["close"],setup(e,{emit:t}){const s=a=>{t("close",a)};return(a,r)=>(d(),y(de,{class:"common-panel"},{default:l(()=>[u(Gt,{class:le(["header",e.titleClass])},{default:l(()=>[e.title!==""?(d(),h("div",Oa,$(e.title),1)):A("",!0),Z(a.$slots,"header-left"),u(me),Z(a.$slots,"header-right"),e.showCloseBtn?I((d(),y(C,{key:1,dense:"",flat:"",icon:"close",onClick:s},{default:l(()=>[u(U,null,{default:l(()=>[E($(e.closeTip),1)]),_:1})]),_:1})),[[se]]):A("",!0)]),_:3},8,["class"]),e.separatorOpts.show?(d(),y(pe,ie(Le({key:0},e.separatorOpts)),null,16)):A("",!0),m("div",Ta,[Z(a.$slots,"default")])]),_:3}))}});var za=v({name:"DragWrapper",props:{restriction:{type:[String,Object,Function],default:"parent"}},setup(e,t){const s=k(null),a=kt(),r=o=>{const i=o.target,c=(parseFloat(i.getAttribute("data-x"))||0)+o.dx,f=(parseFloat(i.getAttribute("data-y"))||0)+o.dy;i.style.webkitTransform=i.style.transform="translate("+c+"px, "+f+"px)",i.setAttribute("data-x",c),i.setAttribute("data-y",f)},n=()=>{const o=s.value,i=ee(o),c={name:"drag",axis:"xy"};i.reflow(c)};return ue(()=>{const o=s.value;ee(o).draggable({ignoreFrom:"button, .ignore-drag",allowFrom:".drag-handle",inertia:!0,onmove:r,restrict:{restriction:e.restriction,endOnly:!0,elementRect:{left:0,right:1,top:0,bottom:1}}}),addEventListener("resize",n,!1)}),Lt(()=>{const o=s.value;ee.isSet(o)&&ee(o).unset(),removeEventListener("resize",n,!1)}),Object.assign(a==null?void 0:a.proxy,{resizeListener:n}),()=>St("div",{ref:s,class:"drag-wrapper absolute"},Dt(t.slots.default))}});const Ra={class:"text-subtitle2"},Va={class:"q-gutter-sm"},Na={class:"text-subtitle2"},Pa={class:"q-gutter-sm"},Ia={class:"text-subtitle2"},ja={class:"q-gutter-sm"},Qa=v({setup(e){const t=k(null),s=D(),a=k("tianditu_img"),r=s.state.system.layout.global,n=s.state.system.layout.index;Bt(n,b=>{At(()=>{var x,_;t.value&&((_=(x=t.value).resizeListener)==null||_.call(x))})},{deep:!0});const o=w(()=>({rasterLayers:s.state.viewer.layer.rasterLayers,baseLayers:s.state.viewer.layer.baseLayers,vectorLayers:s.state.viewer.layer.vectorLayers})),i=(b,x)=>{o.value.baseLayers.forEach(_=>{_.name===b?_e(_.name,!0):_e(_.name,!1)})},c=(b,x)=>{const _=b.name;_e(_,x)},f=()=>{J({layerManager:!s.state.system.layout.global.layerManager})};return(b,x)=>(d(),h("div",{class:le(["layer-manager",p(n).leftPanel?"":"full-srceen"])},[u(p(za),{ref_key:"dragWrapperRef",ref:t},{default:l(()=>[I(u(Ma,{class:"layer-manager-panel",title:b.$t("message.panel.layerManager"),"title-class":"drag-handle",onClose:f},{default:l(()=>[u(R,{class:"q-pt-sm"},{default:l(()=>[m("div",Ra,$(b.$t("message.baseLayer")),1),m("div",Va,[(d(!0),h(B,null,j(p(o).baseLayers,(_,T)=>(d(),y(Yt,{key:T,modelValue:a.value,"onUpdate:modelValue":[x[0]||(x[0]=S=>a.value=S),i],val:_.name,label:_.text},null,8,["modelValue","val","label"]))),128))])]),_:1}),u(pe,{inset:""}),u(R,{class:"q-pt-sm"},{default:l(()=>[m("div",Na,$(b.$t("message.rasterLayer")),1),m("div",Pa,[(d(!0),h(B,null,j(p(o).rasterLayers,(_,T)=>(d(),y(Re,{key:T,modelValue:_.show,"onUpdate:modelValue":[S=>_.show=S,S=>c(_,S)],val:_.name,label:_.text},null,8,["modelValue","onUpdate:modelValue","val","label"]))),128))])]),_:1}),u(pe,{inset:""}),u(R,{class:"q-pt-sm"},{default:l(()=>[m("div",Ia,$(b.$t("message.vectorLayer")),1),m("div",ja,[(d(!0),h(B,null,j(p(o).vectorLayers,(_,T)=>(d(),y(Re,{key:T,modelValue:_.props.show,"onUpdate:modelValue":[S=>_.props.show=S,S=>c(_,S)],val:_.name,label:_.text},null,8,["modelValue","onUpdate:modelValue","val","label"]))),128))])]),_:1})]),_:1},8,["title"]),[[Se,p(r).layerManager]])]),_:1},512)],2))}}),qa={class:"main-interaction"},Ua={class:"layer-manager-wrapper"},Wa={key:0,class:"layer-switch cursor-pointer"},Ha=v({setup(e){const t=D();t.state.system.layout.index;const s=w(()=>t.state.system.menu.header.length?t.state.system.menu.header[0].children:[]),a=()=>{J({layerManager:!t.state.system.layout.global.layerManager})};return(r,n)=>(d(),h("div",qa,[m("div",Ua,[p(s).length?(d(),h("div",Wa,[u(C,{dense:"",round:"",size:"10px",style:{background:"#fff",color:"#3f4854"},onClick:a},{default:l(()=>[u(ce,{name:"layers"})]),_:1})])):A("",!0),u(Qa)])]))}}),Ga={class:"vc-drawtip vc-tooltip--style"},Ya=v({emits:["viewerReady","cesiumReady","leftClick","destroyed"],setup(e,{emit:t}){k({position:{lng:105,lat:31,height:21634101}});const{registerTimeout:s}=Ot();k(null);const a=[0,75],r=k({outerOptions:{icon:"svguse:#vc-icons-compass-outer"},duration:5}),n=D(),o=n.state.viewer.overlay.mouseOverNameOpts;n.state.viewer.render.selectedRenderData;const i=w(()=>[...n.state.viewer.layer.baseLayers,...n.state.viewer.layer.rasterLayers]),c=w(()=>n.state.viewer.layer.vectorLayers),f=x=>{t("viewerReady",x),J({header:!0}),s(()=>{J({content:!0})},500)},b=x=>{t("cesiumReady",x)};return(x,_)=>{const T=Q("vc-navigation"),S=Q("vc-layer-imagery"),ut=Q("vc-overlay-html"),lt=Q("vc-viewer");return d(),y(lt,{class:"main-viewer",onReady:f,onCesiumReady:b},{default:l(()=>[u(T,{offset:a,"compass-opts":r.value},null,8,["compass-opts"]),(d(!0),h(B,null,j(p(i),(F,oe)=>(d(),y(S,{key:"layer"+oe,alpha:F.alpha,brightness:F.brightness,contrast:F.contrast,"sort-order":F.sortOrder,show:F.show},{default:l(()=>[(d(),y(De(F.component),ie(Tt(F.props)),null,16))]),_:2},1032,["alpha","brightness","contrast","sort-order","show"]))),128)),(d(!0),h(B,null,j(p(c),(F,oe)=>(d(),h(B,{key:"vector"+oe},[(F.component==="VcTerrainProviderCesium"?F.props.show:!0)?(d(),y(De(F.component),ie(Le({key:0},F.props)),null,16)):A("",!0)],64))),128)),p(o).show?(d(),y(ut,{key:0,position:p(o).position,"pixel-offset":p(o).pixelOffset},{default:l(()=>[m("div",Ga,$(p(o).text),1)]),_:1},8,["position","pixel-offset"])):A("",!0),Z(x.$slots,"default")]),_:3})}}}),Ja={elevated:"",reveal:"",class:"absolute text-h4 text-center"},Ka={key:0,class:"content"},Ze=v({setup(e){const t=D(),s=t.state.system.layout.global,a=w(()=>t.state.system.gray.active);return ue(()=>{t.dispatch("system/account/load",null,{root:!0}),t.dispatch("system/fullscreen/listen",null,{root:!0}),window.onunhandledrejection=r=>{t.dispatch("system/log/push",{message:g.exports.get(r,"reason.message","Unknown error"),type:"danger",meta:{error:g.exports.get(r,"reason"),trace:g.exports.get(r,"reason.stack")}})},window.onerror=(r,n,o,i,c)=>{t.dispatch("system/log/push",{message:g.exports.get(c,"message","Unknown error"),type:"danger",meta:{error:c,trace:g.exports.get(c,"stack"),source:`${n}@${o}:${i}`,event:r}})}}),(r,n)=>{const o=Q("router-view");return d(),y(Jt,{view:"lhh Lpr lFf",class:le(["main-layout",{"gray-mode":p(a)}])},{default:l(()=>[u(Xt,{class:"no-padding"},{default:l(()=>[u(Kt,{class:"interaction-root"},{default:l(()=>[u(Ya,null,{default:l(()=>[I(m("header",Ja,[u(Aa)],512),[[Se,p(s).header]]),p(s).content?(d(),h("div",Ka,[u(Ha),u(o)])):A("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["class"])}}});var Xa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ze});const N=ae([]);ae([]);const Za=[...N];function er(e){return e==null||e===""}const tr={"../../../pages/demo/Index.vue":Hs,"../../../pages/index/Index.vue":Js,"../../../pages/system/Error404.vue":Ke,"../../../pages/system/Login.vue":Xe,"../../../pages/index/work-bench/Index.vue":ca},sr=e=>{const t=tr[`../../../pages${e}/Index.vue`];if(!t){ds(`\u52A8\u6001\u8DEF\u7531\u9875\u9762\u3010${e}\u3011\u52A0\u8F7D\u5931\u8D25\u3002\u8BF7\u68C0\u67E5\u9875\u9762\u6587\u4EF6\u662F\u5426\u5B58\u5728\u3002`);return}return t.default};function et(e,t){return e==null&&(e={children:[]}),t.forEach(s=>{let a=e;if(s.type!==20&&!er(s.component)){let r=null;s.component==="MainLayout"?r=Ze:r=sr(s.path);const n=e.children;a={path:s.path,name:s.name,hidden:s.hidden,component:r,meta:{title:s.title,auth:!0,cache:!0}},n.push(a)}s.children!=null&&s.children.length>0&&(a.children==null&&(a.children=[]),et(a,s.children))}),e.children}function tt(e,t){return e==null&&(e=[]),e.forEach(s=>{s.permission!=null&&s.permission!==""&&t.push(s.permission),s.children!=null&&s.children.length>0&&tt(s.children,t)}),t}function st(e){e==null&&(e=[]);let t=[];return e.forEach(s=>{s.type===10&&(s.children!=null&&s.children.length>0&&st(s.children),s.icon!=null&&s.icon!=="",t.push(M({},s)))}),t.length===0&&(t=void 0),t}const K={routes:[],addRoutes:[],permissions:[],inited:!1},ar={setRoutes:(e,{accessedRoutes:t,permissions:s})=>{e.addRoutes=t,e.routes=Ie.concat(t),e.inited=!0,e.permissions=s},clear:()=>{K.addRoutes=[],K.routes=[],K.inited=!1,K.permissions=[]}},rr={generateRoutes({rootState:e,state:t,commit:s},{menuTree:a}){return new Promise(r=>{const n=et(null,a),o=tt(a,[]);s("setRoutes",{accessedRoutes:n,permissions:o}),n.forEach(c=>{c.name==="layout"&&c.path==="/"&&(c.children=c.children.concat(os[0].children)),V.addRoute(c)});const i=ae(st(a));N.splice(0,N.length),N.push(...Za),N.push(...i),s("system/menu/headerSet",N,{root:!0}),e.system.menu.asideSet==null,s("system/search/init",N,{root:!0}),r(!0)})},async getAccessibleMenus({state:e,dispatch:t}){},clear({commit:e}){e("clear")}},or={inited(e){return e.inited},permissions(e){return e.permissions}};var nr={namespaced:!0,state:K,mutations:ar,actions:rr,getters:or},ur=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nr}),lr={namespaced:!0,state:{active:!1,hotkey:{open:O.hotkey.search.open,close:O.hotkey.search.close},pool:[]},mutations:{toggle(e){e.active=!e.active},set(e,t){e.active=t},init(e,t){const s=[],a=function(r,n=[]){r.forEach(o=>{o.children?a(o.children,[...n,o.title]):s.push(ne(M({},o),{fullTitle:[...n,o.title].join(" / ")}))})};a(t),e.pool=s}}},ir=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lr});let Ee="";var cr={namespaced:!0,state:{list:g.exports.get(O,"theme.list",[]),activeName:g.exports.get(O,"theme.list[0].name","h2o")},getters:{activeSetting(e){return e.list.find(t=>t.name===e.activeName)}},actions:{async set({state:e,commit:t,dispatch:s},a){Ee=e.activeName,e.activeName=e.list.find(r=>r.name===a)?a:e.list[0].name,t("dom"),await s("system/db/set",{dbName:"sys",path:"theme.activeName",value:e.activeName,user:!0},{root:!0})},async load({state:e,commit:t,dispatch:s}){Ee=e.activeName;const a=await s("system/db/get",{dbName:"sys",path:"theme.activeName",defaultValue:e.list[0].name,user:!0},{root:!0});e.list.find(r=>r.name===a)?e.activeName=a:(e.activeName=e.list[0].name,await s("system/db/set",{dbName:"sys",path:"theme.activeName",value:e.activeName,user:!0},{root:!0})),t("dom")}},mutations:{dom(e){const t=`theme-${Ee}`,s=`theme-${e.activeName}`;document.body.className.includes(t)?document.body.className=document.body.className.replace(t,s):document.body.className+=" "+s}}},dr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:cr}),mr={namespaced:!0,state:{active:O.transition.active},actions:{async set({state:e,dispatch:t},s){e.active=s,await t("system/db/set",{dbName:"sys",path:"transition.active",value:e.active,user:!0},{root:!0})},async load({state:e,dispatch:t}){e.active=await t("system/db/get",{dbName:"sys",path:"transition.active",defaultValue:O.transition.active,user:!0},{root:!0})}}},pr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mr}),fr={namespaced:!0,state:{info:{}},mutations:{set(e,t){e.info=t}},actions:{async set({state:e,dispatch:t,commit:s},a){s("set",a),await t("system/db/set",{dbName:"sys",path:"user.info",value:a,user:!0},{root:!0})},async load({state:e,dispatch:t,commit:s}){const a=await t("system/db/get",{dbName:"sys",path:"user.info",defaultValue:{},user:!0},{root:!0});s("set",a)}}},gr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fr});const at={"./account.ts":Fs,"./db.ts":As,"./fullscreen.ts":Ts,"./gray.ts":zs,"./layout.ts":Vs,"./log.ts":Ps,"./menu.ts":js,"./permission.ts":ur,"./search.ts":ir,"./theme.ts":dr,"./transition.ts":pr,"./user.ts":gr},rt={};for(const e in at)rt[e.replace(/(\.\/|\.ts)/g,"")]=at[e].default;var _r={namespaced:!0,modules:rt},yr={namespaced:!0,state:{baseLayers:[{name:"tianditu_img",text:"\u5929\u5730\u56FE\u5F71\u50CF",component:"VcImageryProviderTianditu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!0,props:{mapStyle:"img_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}},{name:"tianditu_vec",text:"\u5929\u5730\u56FE\u77E2\u91CF",component:"VcImageryProviderTianditu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!0,props:{mapStyle:"vec_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}},{name:"baidu_dark",text:"\u767E\u5EA6\u5730\u56FE_\u9ED1\u591C",component:"VcImageryProviderBaidu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{customid:"dark",projectionTransforms:{form:"BD09",to:"WGS84"}}},{name:"baidu_midnight",text:"\u767E\u5EA6\u5730\u56FE_\u5348\u591C\u84DD",component:"VcImageryProviderBaidu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1,props:{customid:"midnight",projectionTransforms:{form:"BD09",to:"WGS84"}}},{name:"osm",text:"OSM",component:"VcImageryProviderOsm",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1},{name:"arcgis",text:"ArcGIS",component:"VcImageryProviderArcgis",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!1}],rasterLayers:[{name:"tianditu_cva",text:"\u5929\u5730\u56FE\u6CE8\u8BB0",component:"VcImageryProviderTianditu",alpha:1,brightness:1,contrast:1,sortOrder:20,show:!0,props:{mapStyle:"cva_c",token:"436ce7e50d27eede2f2929307e6b33c0",minimumLevel:0,maximumLevel:17}}],vectorLayers:[{name:"admin",text:"\u884C\u653F\u533A\u5212",component:"VcDatasourceGeojson",props:{strokeWidth:5,stroke:"#ffc107",fill:"transparent",show:!1,data:"./datas/china.json"}},{name:"terrain",text:"\u5168\u7403\u5730\u5F62",component:"VcTerrainProviderCesium",props:{show:!1}}]},mutations:{toggle(e,{names:t,show:s}){const a=[...e.baseLayers,...e.rasterLayers,...e.vectorLayers];t=Array.isArray(t)?t:[t],t.forEach(r=>{var o;const n=g.exports.find(a,i=>i.name===r);!g.exports.isUndefined(n==null?void 0:n.show)&&(n.show=s),!g.exports.isUndefined((o=n==null?void 0:n.props)==null?void 0:o.show)&&(n.props.show=s)})}},actions:{loadDefaultLayers({state:e,dispatch:t,commit:s},a){const r=[...e.baseLayers,...e.rasterLayers,...e.vectorLayers].map(o=>o.name);s("toggle",{names:r,show:!1}),s("toggle",{names:["tianditu_img","tianditu_cva","admin"],show:!0})}}},hr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yr}),vr={namespaced:!0,state:{mouseOverNameOpts:{position:[117.186419,45.66446,20],show:!1,text:"",pixelOffset:[0,0]}},mutations:{setMouseOverlayLabel(e,{position:t,show:s,text:a,pixelOffset:r}){e.mouseOverNameOpts.position=t,e.mouseOverNameOpts.show=s,e.mouseOverNameOpts.text=a,e.mouseOverNameOpts.pixelOffset=r}}},br=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vr}),wr={namespaced:!0,state:{renderDatas:[],selectedRenderData:{model:void 0,renderingType:void 0,restoreHandler:void 0,feature:void 0,featureInfoListItems:[]},renderingApi:"entity"},getters:{selectedRenderData(e){return e.selectedRenderData},renderingApi(e){return e.renderingApi}},mutations:{addRenderDatas(e,t){t=Array.isArray(t)?t:[t],t.forEach(s=>{if(g.exports.findIndex(e.renderDatas,a=>a.id===s.id)!==-1){qe(`\u6DFB\u52A0\u6E32\u67D3\u6570\u636E\u96C6\u5931\u8D25\uFF0C\u539F\u56E0\uFF1Aid \u4E3A\u3010${s.id} \u3011\u7684\u6570\u636E\u5DF2\u7ECF\u5B58\u5728\u3002`,"\u6E32\u67D3\u6570\u636E\u6A21\u578B\uFF1A",s);return}e.renderDatas.push(s)})},removeRenderDataById(e,t){g.exports.remove(e.renderDatas,s=>s.id===t)},removeRenderDataByType(e,t){g.exports.remove(e.renderDatas,s=>s.type===t)},removeRenderDataByPage(e,t){g.exports.remove(e.renderDatas,s=>s.page===t)},removeAllRenderData(e){e.renderDatas.length=0},setSelectedRenderData(e,t){e.selectedRenderData.model=t.model,e.selectedRenderData.renderingType=t.renderingType,e.selectedRenderData.restoreHandler=t.restoreHandler,e.selectedRenderData.feature=t.feature,e.selectedRenderData.featureInfoListItems=t.featureInfoListItems}},actions:{getRenderDataByDatasetId({state:e},t){return g.exports.find(e.renderDatas,s=>s.id===t)}}},xr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wr});const ot={"./layer.ts":hr,"./overlay.ts":br,"./render.ts":xr},nt={};for(const e in ot)nt[e.replace(/(\.\/|\.ts)/g,"")]=ot[e].default;var Er={namespaced:!0,modules:nt};const $r=Mt({modules:{system:_r,viewer:Er},strict:!1});var L=$r,Cr={message:{header:{index:"\u9996\u9875",demo:"\u793A\u4F8B"},panel:{layerManager:"\u56FE\u5C42\u7BA1\u7406"},baseLayer:"\u5E95\u56FE\u56FE\u5C42",rasterLayer:"\u6805\u683C\u56FE\u5C42",vectorLayer:"\u77E2\u91CF\u56FE\u5C42"}},Fr={message:{header:{index:"Index",demo:"Demo"},panel:{layerManager:"LayerManager"},baseLayer:"BaseLayer",rasterLayer:"RasterLayer",vectorLayer:"VectorLayer"}},kr={"zh-CN":Cr,"en-US":Fr};const Lr={};function Sr(e,t){const s=Q("router-view");return d(),y(s)}var Dr=xe(Lr,[["render",Sr]]);const Br=zt({legacy:!1,locale:"zh-CN",fallbackLocale:"zh-CN",globalInjection:!0,messages:kr}),Y=Rt(Dr);Y.use(Zt,{plugins:{Notify:q,Dialog:Be,LocalStorage:te},lang:es});Y.use(Br);Y.use(Vt);Y.use(L);Y.use(V);Y.mount("#app");
